<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#059669" />
    <meta name="description" content="Iraqi Smart Marketplace - Shop from verified Iraqi sellers on TikTok & Instagram" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Souq Iraq" />
    <title>سوق العراق | Iraqi Smart Marketplace</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Noto+Kufi+Arabic:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
    <script type="module" crossorigin>(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();function pb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hu={exports:{}},Ws={};var qm;function yb(){if(qm)return Ws;qm=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(i,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:n,type:i,key:h,ref:o!==void 0?o:null,props:c}}return Ws.Fragment=a,Ws.jsx=r,Ws.jsxs=r,Ws}var $m;function vb(){return $m||($m=1,Hu.exports=yb()),Hu.exports}var u=vb(),Gu={exports:{}},me={};var Bm;function bb(){if(Bm)return me;Bm=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function A(O,G,Z){this.props=O,this.context=G,this.refs=j,this.updater=Z||_}A.prototype.isReactComponent={},A.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},A.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function R(){}R.prototype=A.prototype;function T(O,G,Z){this.props=O,this.context=G,this.refs=j,this.updater=Z||_}var q=T.prototype=new R;q.constructor=T,N(q,A.prototype),q.isPureReactComponent=!0;var Y=Array.isArray;function D(){}var H={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function ge(O,G,Z){var te=Z.ref;return{$$typeof:n,type:O,key:G,ref:te!==void 0?te:null,props:Z}}function We(O,G){return ge(O.type,G,O.props)}function Ve(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function ze(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Z){return G[Z]})}var ut=/\/+/g;function Ie(O,G){return typeof O=="object"&&O!==null&&O.key!=null?ze(""+O.key):G.toString(36)}function ce(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function U(O,G,Z,te,X){var ve=typeof O;(ve==="undefined"||ve==="boolean")&&(O=null);var J=!1;if(O===null)J=!0;else switch(ve){case"bigint":case"string":case"number":J=!0;break;case"object":switch(O.$$typeof){case n:case a:J=!0;break;case v:return J=O._init,U(J(O._payload),G,Z,te,X)}}if(J)return X=X(O),J=te===""?"."+Ie(O,0):te,Y(X)?(Z="",J!=null&&(Z=J.replace(ut,"$&/")+"/"),U(X,G,Z,"",function(je){return je})):X!=null&&(Ve(X)&&(X=We(X,Z+(X.key==null||O&&O.key===X.key?"":(""+X.key).replace(ut,"$&/")+"/")+J)),G.push(X)),1;J=0;var F=te===""?".":te+":";if(Y(O))for(var ee=0;ee<O.length;ee++)te=O[ee],ve=F+Ie(te,ee),J+=U(te,G,Z,ve,X);else if(ee=S(O),typeof ee=="function")for(O=ee.call(O),ee=0;!(te=O.next()).done;)te=te.value,ve=F+Ie(te,ee++),J+=U(te,G,Z,ve,X);else if(ve==="object"){if(typeof O.then=="function")return U(ce(O),G,Z,te,X);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return J}function Q(O,G,Z){if(O==null)return O;var te=[],X=0;return U(O,te,"","",function(ve){return G.call(Z,ve,X++)}),te}function W(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(Z){(O._status===0||O._status===-1)&&(O._status=1,O._result=Z)},function(Z){(O._status===0||O._status===-1)&&(O._status=2,O._result=Z)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var ye=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},_e={map:Q,forEach:function(O,G,Z){Q(O,function(){G.apply(this,arguments)},Z)},count:function(O){var G=0;return Q(O,function(){G++}),G},toArray:function(O){return Q(O,function(G){return G})||[]},only:function(O){if(!Ve(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return me.Activity=w,me.Children=_e,me.Component=A,me.Fragment=r,me.Profiler=o,me.PureComponent=T,me.StrictMode=i,me.Suspense=m,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,me.__COMPILER_RUNTIME={__proto__:null,c:function(O){return H.H.useMemoCache(O)}},me.cache=function(O){return function(){return O.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(O,G,Z){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var te=N({},O.props),X=O.key;if(G!=null)for(ve in G.key!==void 0&&(X=""+G.key),G)!pe.call(G,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&G.ref===void 0||(te[ve]=G[ve]);var ve=arguments.length-2;if(ve===1)te.children=Z;else if(1<ve){for(var J=Array(ve),F=0;F<ve;F++)J[F]=arguments[F+2];te.children=J}return ge(O.type,X,te)},me.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},me.createElement=function(O,G,Z){var te,X={},ve=null;if(G!=null)for(te in G.key!==void 0&&(ve=""+G.key),G)pe.call(G,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(X[te]=G[te]);var J=arguments.length-2;if(J===1)X.children=Z;else if(1<J){for(var F=Array(J),ee=0;ee<J;ee++)F[ee]=arguments[ee+2];X.children=F}if(O&&O.defaultProps)for(te in J=O.defaultProps,J)X[te]===void 0&&(X[te]=J[te]);return ge(O,ve,X)},me.createRef=function(){return{current:null}},me.forwardRef=function(O){return{$$typeof:g,render:O}},me.isValidElement=Ve,me.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:W}},me.memo=function(O,G){return{$$typeof:p,type:O,compare:G===void 0?null:G}},me.startTransition=function(O){var G=H.T,Z={};H.T=Z;try{var te=O(),X=H.S;X!==null&&X(Z,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(D,ye)}catch(ve){ye(ve)}finally{G!==null&&Z.types!==null&&(G.types=Z.types),H.T=G}},me.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},me.use=function(O){return H.H.use(O)},me.useActionState=function(O,G,Z){return H.H.useActionState(O,G,Z)},me.useCallback=function(O,G){return H.H.useCallback(O,G)},me.useContext=function(O){return H.H.useContext(O)},me.useDebugValue=function(){},me.useDeferredValue=function(O,G){return H.H.useDeferredValue(O,G)},me.useEffect=function(O,G){return H.H.useEffect(O,G)},me.useEffectEvent=function(O){return H.H.useEffectEvent(O)},me.useId=function(){return H.H.useId()},me.useImperativeHandle=function(O,G,Z){return H.H.useImperativeHandle(O,G,Z)},me.useInsertionEffect=function(O,G){return H.H.useInsertionEffect(O,G)},me.useLayoutEffect=function(O,G){return H.H.useLayoutEffect(O,G)},me.useMemo=function(O,G){return H.H.useMemo(O,G)},me.useOptimistic=function(O,G){return H.H.useOptimistic(O,G)},me.useReducer=function(O,G,Z){return H.H.useReducer(O,G,Z)},me.useRef=function(O){return H.H.useRef(O)},me.useState=function(O){return H.H.useState(O)},me.useSyncExternalStore=function(O,G,Z){return H.H.useSyncExternalStore(O,G,Z)},me.useTransition=function(){return H.H.useTransition()},me.version="19.2.3",me}var Vm;function Ad(){return Vm||(Vm=1,Gu.exports=bb()),Gu.exports}var E=Ad();const Yr=pb(E);var Ku={exports:{}},ei={},Yu={exports:{}},Qu={};var Pm;function xb(){return Pm||(Pm=1,(function(n){function a(U,Q){var W=U.length;U.push(Q);e:for(;0<W;){var ye=W-1>>>1,_e=U[ye];if(0<o(_e,Q))U[ye]=Q,U[W]=_e,W=ye;else break e}}function r(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var Q=U[0],W=U.pop();if(W!==Q){U[0]=W;e:for(var ye=0,_e=U.length,O=_e>>>1;ye<O;){var G=2*(ye+1)-1,Z=U[G],te=G+1,X=U[te];if(0>o(Z,W))te<_e&&0>o(X,Z)?(U[ye]=X,U[te]=W,ye=te):(U[ye]=Z,U[G]=W,ye=G);else if(te<_e&&0>o(X,W))U[ye]=X,U[te]=W,ye=te;else break e}}return Q}function o(U,Q){var W=U.sortIndex-Q.sortIndex;return W!==0?W:U.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var h=Date,g=h.now();n.unstable_now=function(){return h.now()-g}}var m=[],p=[],v=1,w=null,x=3,S=!1,_=!1,N=!1,j=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function q(U){for(var Q=r(p);Q!==null;){if(Q.callback===null)i(p);else if(Q.startTime<=U)i(p),Q.sortIndex=Q.expirationTime,a(m,Q);else break;Q=r(p)}}function Y(U){if(N=!1,q(U),!_)if(r(m)!==null)_=!0,D||(D=!0,ze());else{var Q=r(p);Q!==null&&ce(Y,Q.startTime-U)}}var D=!1,H=-1,pe=5,ge=-1;function We(){return j?!0:!(n.unstable_now()-ge<pe)}function Ve(){if(j=!1,D){var U=n.unstable_now();ge=U;var Q=!0;try{e:{_=!1,N&&(N=!1,R(H),H=-1),S=!0;var W=x;try{t:{for(q(U),w=r(m);w!==null&&!(w.expirationTime>U&&We());){var ye=w.callback;if(typeof ye=="function"){w.callback=null,x=w.priorityLevel;var _e=ye(w.expirationTime<=U);if(U=n.unstable_now(),typeof _e=="function"){w.callback=_e,q(U),Q=!0;break t}w===r(m)&&i(m),q(U)}else i(m);w=r(m)}if(w!==null)Q=!0;else{var O=r(p);O!==null&&ce(Y,O.startTime-U),Q=!1}}break e}finally{w=null,x=W,S=!1}Q=void 0}}finally{Q?ze():D=!1}}}var ze;if(typeof T=="function")ze=function(){T(Ve)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,Ie=ut.port2;ut.port1.onmessage=Ve,ze=function(){Ie.postMessage(null)}}else ze=function(){A(Ve,0)};function ce(U,Q){H=A(function(){U(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(U){switch(x){case 1:case 2:case 3:var Q=3;break;default:Q=x}var W=x;x=Q;try{return U()}finally{x=W}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(U,Q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=x;x=U;try{return Q()}finally{x=W}},n.unstable_scheduleCallback=function(U,Q,W){var ye=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ye+W:ye):W=ye,U){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=W+_e,U={id:v++,callback:Q,priorityLevel:U,startTime:W,expirationTime:_e,sortIndex:-1},W>ye?(U.sortIndex=W,a(p,U),r(m)===null&&U===r(p)&&(N?(R(H),H=-1):N=!0,ce(Y,W-ye))):(U.sortIndex=_e,a(m,U),_||S||(_=!0,D||(D=!0,ze()))),U},n.unstable_shouldYield=We,n.unstable_wrapCallback=function(U){var Q=x;return function(){var W=x;x=Q;try{return U.apply(this,arguments)}finally{x=W}}}})(Qu)),Qu}var Im;function wb(){return Im||(Im=1,Yu.exports=xb()),Yu.exports}var Ju={exports:{}},St={};var Hm;function Sb(){if(Hm)return St;Hm=1;var n=Ad();function a(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,p,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:m,containerInfo:p,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return St.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,St.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return c(m,p,null,v)},St.flushSync=function(m){var p=h.T,v=i.p;try{if(h.T=null,i.p=2,m)return m()}finally{h.T=p,i.p=v,i.d.f()}},St.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},St.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},St.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,w=g(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:S}):v==="script"&&i.d.X(m,{crossOrigin:w,integrity:x,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},St.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},St.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,w=g(v,p.crossOrigin);i.d.L(m,v,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},St.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=g(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},St.requestFormReset=function(m){i.d.r(m)},St.unstable_batchedUpdates=function(m,p){return m(p)},St.useFormState=function(m,p,v){return h.H.useFormState(m,p,v)},St.useFormStatus=function(){return h.H.useHostTransitionStatus()},St.version="19.2.3",St}var Gm;function _b(){if(Gm)return Ju.exports;Gm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Ju.exports=Sb(),Ju.exports}var Km;function jb(){if(Km)return ei;Km=1;var n=wb(),a=Ad(),r=_b();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(i(188))}function p(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(i(188));return t!==e?null:e}for(var s=e,l=t;;){var d=s.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===s)return m(d),e;if(f===l)return m(d),t;f=f.sibling}throw Error(i(188))}if(s.return!==l.return)s=d,l=f;else{for(var y=!1,b=d.child;b;){if(b===s){y=!0,s=d,l=f;break}if(b===l){y=!0,l=d,s=f;break}b=b.sibling}if(!y){for(b=f.child;b;){if(b===s){y=!0,s=f,l=d;break}if(b===l){y=!0,l=f,s=d;break}b=b.sibling}if(!y)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),T=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),ge=Symbol.for("react.activity"),We=Symbol.for("react.memo_cache_sentinel"),Ve=Symbol.iterator;function ze(e){return e===null||typeof e!="object"?null:(e=Ve&&e[Ve]||e["@@iterator"],typeof e=="function"?e:null)}var ut=Symbol.for("react.client.reference");function Ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ut?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case A:return"Profiler";case j:return"StrictMode";case Y:return"Suspense";case D:return"SuspenseList";case ge:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case T:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:Ie(e.type)||"Memo";case pe:t=e._payload,e=e._init;try{return Ie(e(t))}catch{}}return null}var ce=Array.isArray,U=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ye=[],_e=-1;function O(e){return{current:e}}function G(e){0>_e||(e.current=ye[_e],ye[_e]=null,_e--)}function Z(e,t){_e++,ye[_e]=e.current,e.current=t}var te=O(null),X=O(null),ve=O(null),J=O(null);function F(e,t){switch(Z(ve,t),Z(X,e),Z(te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?lm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=lm(t),e=om(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(te),Z(te,e)}function ee(){G(te),G(X),G(ve)}function je(e){e.memoizedState!==null&&Z(J,e);var t=te.current,s=om(t,e.type);t!==s&&(Z(X,e),Z(te,s))}function Ye(e){X.current===e&&(G(te),G(X)),J.current===e&&(G(J),Js._currentValue=W)}var De,Se;function Me(e){if(De===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);De=t&&t[1]||"",Se=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+De+e+Se}var _t=!1;function P(e,t){if(!e||_t)return"";_t=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var $=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){$=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){$=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&$&&typeof B.stack=="string")return[B.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],b=f[1];if(y&&b){var k=y.split(`
`),M=b.split(`
`);for(d=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;d<M.length&&!M[d].includes("DetermineComponentFrameRoot");)d++;if(l===k.length||d===M.length)for(l=k.length-1,d=M.length-1;1<=l&&0<=d&&k[l]!==M[d];)d--;for(;1<=l&&0<=d;l--,d--)if(k[l]!==M[d]){if(l!==1||d!==1)do if(l--,d--,0>d||k[l]!==M[d]){var V=`
`+k[l].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=l&&0<=d);break}}}finally{_t=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Me(s):""}function Je(e,t){switch(e.tag){case 26:case 27:case 5:return Me(e.type);case 16:return Me("Lazy");case 13:return e.child!==t&&t!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return P(e.type,!1);case 11:return P(e.type.render,!1);case 1:return P(e.type,!0);case 31:return Me("Activity");default:return""}}function jt(e){try{var t="",s=null;do t+=Je(e,s),s=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ns=Object.prototype.hasOwnProperty,Qn=n.unstable_scheduleCallback,rs=n.unstable_cancelCallback,Ni=n.unstable_shouldYield,ss=n.unstable_requestPaint,ht=n.unstable_now,ki=n.unstable_getCurrentPriorityLevel,To=n.unstable_ImmediatePriority,xn=n.unstable_UserBlockingPriority,Pa=n.unstable_NormalPriority,is=n.unstable_LowPriority,ls=n.unstable_IdlePriority,Ai=n.log,Ci=n.unstable_setDisableYieldValue,Ia=null,wt=null;function ra(e){if(typeof Ai=="function"&&Ci(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Ia,e)}catch{}}var Nt=Math.clz32?Math.clz32:Ti,Ei=Math.log,Oo=Math.LN2;function Ti(e){return e>>>=0,e===0?32:31-(Ei(e)/Oo|0)|0}var Jn=256,wn=262144,ne=4194304;function Sn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Oi(e,t,s){var l=e.pendingLanes;if(l===0)return 0;var d=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?d=Sn(l):(y&=b,y!==0?d=Sn(y):s||(s=b&~e,s!==0&&(d=Sn(s))))):(b=l&~f,b!==0?d=Sn(b):y!==0?d=Sn(y):s||(s=l&~e,s!==0&&(d=Sn(s)))),d===0?0:t!==0&&t!==d&&(t&f)===0&&(f=d&-d,s=t&-t,f>=s||f===32&&(s&4194048)!==0)?t:d}function os(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ny(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vd(){var e=ne;return ne<<=1,(ne&62914560)===0&&(ne=4194304),e}function Ro(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function cs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ry(e,t,s,l,d,f){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var b=e.entanglements,k=e.expirationTimes,M=e.hiddenUpdates;for(s=y&~s;0<s;){var V=31-Nt(s),K=1<<V;b[V]=0,k[V]=-1;var $=M[V];if($!==null)for(M[V]=null,V=0;V<$.length;V++){var B=$[V];B!==null&&(B.lane&=-536870913)}s&=~K}l!==0&&Pd(e,l,0),f!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~t))}function Pd(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Nt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Id(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var l=31-Nt(s),d=1<<l;d&t|e[l]&t&&(e[l]|=t),s&=~d}}function Hd(e,t){var s=t&-t;return s=(s&42)!==0?1:Do(s),(s&(e.suspendedLanes|t))!==0?0:s}function Do(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Lo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gd(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Om(e.type))}function Kd(e,t){var s=Q.p;try{return Q.p=e,t()}finally{Q.p=s}}var Ha=Math.random().toString(36).slice(2),gt="__reactFiber$"+Ha,Et="__reactProps$"+Ha,Xn="__reactContainer$"+Ha,Uo="__reactEvents$"+Ha,sy="__reactListeners$"+Ha,iy="__reactHandles$"+Ha,Yd="__reactResources$"+Ha,us="__reactMarker$"+Ha;function zo(e){delete e[gt],delete e[Et],delete e[Uo],delete e[sy],delete e[iy]}function Fn(e){var t=e[gt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Xn]||s[gt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=mm(e);e!==null;){if(s=e[gt])return s;e=mm(e)}return t}e=s,s=e.parentNode}return null}function Zn(e){if(e=e[gt]||e[Xn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ds(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Wn(e){var t=e[Yd];return t||(t=e[Yd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function dt(e){e[us]=!0}var Qd=new Set,Jd={};function _n(e,t){er(e,t),er(e+"Capture",t)}function er(e,t){for(Jd[e]=t,e=0;e<t.length;e++)Qd.add(t[e])}var ly=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xd={},Fd={};function oy(e){return ns.call(Fd,e)?!0:ns.call(Xd,e)?!1:ly.test(e)?Fd[e]=!0:(Xd[e]=!0,!1)}function Ri(e,t,s){if(oy(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function Di(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function ba(e,t,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+l)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cy(e,t,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mo(e){if(!e._valueTracker){var t=Zd(e)?"checked":"value";e._valueTracker=cy(e,t,""+e[t])}}function Wd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),l="";return e&&(l=Zd(e)?e.checked?"true":"false":e.value),e=l,e!==s?(t.setValue(e),!0):!1}function Li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var uy=/[\n"\\]/g;function Yt(e){return e.replace(uy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qo(e,t,s,l,d,f,y,b){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Kt(t)):e.value!==""+Kt(t)&&(e.value=""+Kt(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?$o(e,y,Kt(t)):s!=null?$o(e,y,Kt(s)):l!=null&&e.removeAttribute("value"),d==null&&f!=null&&(e.defaultChecked=!!f),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Kt(b):e.removeAttribute("name")}function ef(e,t,s,l,d,f,y,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Mo(e);return}s=s!=null?""+Kt(s):"",t=t!=null?""+Kt(t):s,b||t===e.value||(e.value=t),e.defaultValue=t}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Mo(e)}function $o(e,t,s){t==="number"&&Li(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function tr(e,t,s,l){if(e=e.options,t){t={};for(var d=0;d<s.length;d++)t["$"+s[d]]=!0;for(s=0;s<e.length;s++)d=t.hasOwnProperty("$"+e[s].value),e[s].selected!==d&&(e[s].selected=d),d&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Kt(s),t=null,d=0;d<e.length;d++){if(e[d].value===s){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function tf(e,t,s){if(t!=null&&(t=""+Kt(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+Kt(s):""}function af(e,t,s,l){if(t==null){if(l!=null){if(s!=null)throw Error(i(92));if(ce(l)){if(1<l.length)throw Error(i(93));l=l[0]}s=l}s==null&&(s=""),t=s}s=Kt(t),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Mo(e)}function ar(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var dy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nf(e,t,s){var l=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,s):typeof s!="number"||s===0||dy.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function rf(e,t,s){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var d in t)l=t[d],t.hasOwnProperty(d)&&s[d]!==l&&nf(e,d,l)}else for(var f in t)t.hasOwnProperty(f)&&nf(e,f,t[f])}function Bo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ui(e){return hy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xa(){}var Vo=null;function Po(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nr=null,rr=null;function sf(e){var t=Zn(e);if(t&&(e=t.stateNode)){var s=e[Et]||null;e:switch(e=t.stateNode,t.type){case"input":if(qo(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Yt(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var l=s[t];if(l!==e&&l.form===e.form){var d=l[Et]||null;if(!d)throw Error(i(90));qo(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(t=0;t<s.length;t++)l=s[t],l.form===e.form&&Wd(l)}break e;case"textarea":tf(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&tr(e,!!s.multiple,t,!1)}}}var Io=!1;function lf(e,t,s){if(Io)return e(t,s);Io=!0;try{var l=e(t);return l}finally{if(Io=!1,(nr!==null||rr!==null)&&(Sl(),nr&&(t=nr,e=rr,rr=nr=null,sf(t),e)))for(t=0;t<e.length;t++)sf(e[t])}}function fs(e,t){var s=e.stateNode;if(s===null)return null;var l=s[Et]||null;if(l===null)return null;s=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,t,typeof s));return s}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ho=!1;if(wa)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{Ho=!1}var Ga=null,Go=null,zi=null;function of(){if(zi)return zi;var e,t=Go,s=t.length,l,d="value"in Ga?Ga.value:Ga.textContent,f=d.length;for(e=0;e<s&&t[e]===d[e];e++);var y=s-e;for(l=1;l<=y&&t[s-l]===d[f-l];l++);return zi=d.slice(e,1<l?1-l:void 0)}function Mi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qi(){return!0}function cf(){return!1}function Tt(e){function t(s,l,d,f,y){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(s=e[b],this[b]=s?s(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qi:cf,this.isPropagationStopped=cf,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),t}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$i=Tt(jn),gs=w({},jn,{view:0,detail:0}),gy=Tt(gs),Ko,Yo,ms,Bi=w({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ms&&(ms&&e.type==="mousemove"?(Ko=e.screenX-ms.screenX,Yo=e.screenY-ms.screenY):Yo=Ko=0,ms=e),Ko)},movementY:function(e){return"movementY"in e?e.movementY:Yo}}),uf=Tt(Bi),my=w({},Bi,{dataTransfer:0}),py=Tt(my),yy=w({},gs,{relatedTarget:0}),Qo=Tt(yy),vy=w({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),by=Tt(vy),xy=w({},jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wy=Tt(xy),Sy=w({},jn,{data:0}),df=Tt(Sy),_y={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ky(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ny[e])?!!t[e]:!1}function Jo(){return ky}var Ay=w({},gs,{key:function(e){if(e.key){var t=_y[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(e){return e.type==="keypress"?Mi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cy=Tt(Ay),Ey=w({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ff=Tt(Ey),Ty=w({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),Oy=Tt(Ty),Ry=w({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dy=Tt(Ry),Ly=w({},Bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uy=Tt(Ly),zy=w({},jn,{newState:0,oldState:0}),My=Tt(zy),qy=[9,13,27,32],Xo=wa&&"CompositionEvent"in window,ps=null;wa&&"documentMode"in document&&(ps=document.documentMode);var $y=wa&&"TextEvent"in window&&!ps,hf=wa&&(!Xo||ps&&8<ps&&11>=ps),gf=" ",mf=!1;function pf(e,t){switch(e){case"keyup":return qy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function By(e,t){switch(e){case"compositionend":return yf(t);case"keypress":return t.which!==32?null:(mf=!0,gf);case"textInput":return e=t.data,e===gf&&mf?null:e;default:return null}}function Vy(e,t){if(sr)return e==="compositionend"||!Xo&&pf(e,t)?(e=of(),zi=Go=Ga=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hf&&t.locale!=="ko"?null:t.data;default:return null}}var Py={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Py[e.type]:t==="textarea"}function bf(e,t,s,l){nr?rr?rr.push(l):rr=[l]:nr=l,t=El(t,"onChange"),0<t.length&&(s=new $i("onChange","change",null,s,l),e.push({event:s,listeners:t}))}var ys=null,vs=null;function Iy(e){tm(e,0)}function Vi(e){var t=ds(e);if(Wd(t))return e}function xf(e,t){if(e==="change")return t}var wf=!1;if(wa){var Fo;if(wa){var Zo="oninput"in document;if(!Zo){var Sf=document.createElement("div");Sf.setAttribute("oninput","return;"),Zo=typeof Sf.oninput=="function"}Fo=Zo}else Fo=!1;wf=Fo&&(!document.documentMode||9<document.documentMode)}function _f(){ys&&(ys.detachEvent("onpropertychange",jf),vs=ys=null)}function jf(e){if(e.propertyName==="value"&&Vi(vs)){var t=[];bf(t,vs,e,Po(e)),lf(Iy,t)}}function Hy(e,t,s){e==="focusin"?(_f(),ys=t,vs=s,ys.attachEvent("onpropertychange",jf)):e==="focusout"&&_f()}function Gy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vi(vs)}function Ky(e,t){if(e==="click")return Vi(t)}function Yy(e,t){if(e==="input"||e==="change")return Vi(t)}function Qy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:Qy;function bs(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!ns.call(t,d)||!zt(e[d],t[d]))return!1}return!0}function Nf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kf(e,t){var s=Nf(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=t&&l>=t)return{node:s,offset:t-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Nf(s)}}function Af(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Af(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Li(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Li(e.document)}return t}function Wo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Jy=wa&&"documentMode"in document&&11>=document.documentMode,ir=null,ec=null,xs=null,tc=!1;function Ef(e,t,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;tc||ir==null||ir!==Li(l)||(l=ir,"selectionStart"in l&&Wo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xs&&bs(xs,l)||(xs=l,l=El(ec,"onSelect"),0<l.length&&(t=new $i("onSelect","select",null,t,s),e.push({event:t,listeners:l}),t.target=ir)))}function Nn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var lr={animationend:Nn("Animation","AnimationEnd"),animationiteration:Nn("Animation","AnimationIteration"),animationstart:Nn("Animation","AnimationStart"),transitionrun:Nn("Transition","TransitionRun"),transitionstart:Nn("Transition","TransitionStart"),transitioncancel:Nn("Transition","TransitionCancel"),transitionend:Nn("Transition","TransitionEnd")},ac={},Tf={};wa&&(Tf=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function kn(e){if(ac[e])return ac[e];if(!lr[e])return e;var t=lr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Tf)return ac[e]=t[s];return e}var Of=kn("animationend"),Rf=kn("animationiteration"),Df=kn("animationstart"),Xy=kn("transitionrun"),Fy=kn("transitionstart"),Zy=kn("transitioncancel"),Lf=kn("transitionend"),Uf=new Map,nc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nc.push("scrollEnd");function sa(e,t){Uf.set(e,t),_n(t,[e])}var Pi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qt=[],or=0,rc=0;function Ii(){for(var e=or,t=rc=or=0;t<e;){var s=Qt[t];Qt[t++]=null;var l=Qt[t];Qt[t++]=null;var d=Qt[t];Qt[t++]=null;var f=Qt[t];if(Qt[t++]=null,l!==null&&d!==null){var y=l.pending;y===null?d.next=d:(d.next=y.next,y.next=d),l.pending=d}f!==0&&zf(s,d,f)}}function Hi(e,t,s,l){Qt[or++]=e,Qt[or++]=t,Qt[or++]=s,Qt[or++]=l,rc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function sc(e,t,s,l){return Hi(e,t,s,l),Gi(e)}function An(e,t){return Hi(e,null,null,t),Gi(e)}function zf(e,t,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var d=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(d=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,d&&t!==null&&(d=31-Nt(s),e=f.hiddenUpdates,l=e[d],l===null?e[d]=[t]:l.push(t),t.lane=s|536870912),f):null}function Gi(e){if(50<Ps)throw Ps=0,gu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var cr={};function Wy(e,t,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,s,l){return new Wy(e,t,s,l)}function ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sa(e,t){var s=e.alternate;return s===null?(s=Mt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Mf(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ki(e,t,s,l,d,f){var y=0;if(l=e,typeof e=="function")ic(e)&&(y=1);else if(typeof e=="string")y=rb(e,s,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ge:return e=Mt(31,s,t,d),e.elementType=ge,e.lanes=f,e;case N:return Cn(s.children,d,f,t);case j:y=8,d|=24;break;case A:return e=Mt(12,s,t,d|2),e.elementType=A,e.lanes=f,e;case Y:return e=Mt(13,s,t,d),e.elementType=Y,e.lanes=f,e;case D:return e=Mt(19,s,t,d),e.elementType=D,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:y=10;break e;case R:y=9;break e;case q:y=11;break e;case H:y=14;break e;case pe:y=16,l=null;break e}y=29,s=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=Mt(y,s,t,d),t.elementType=e,t.type=l,t.lanes=f,t}function Cn(e,t,s,l){return e=Mt(7,e,l,t),e.lanes=s,e}function lc(e,t,s){return e=Mt(6,e,null,t),e.lanes=s,e}function qf(e){var t=Mt(18,null,null,0);return t.stateNode=e,t}function oc(e,t,s){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $f=new WeakMap;function Jt(e,t){if(typeof e=="object"&&e!==null){var s=$f.get(e);return s!==void 0?s:(t={value:e,source:t,stack:jt(t)},$f.set(e,t),t)}return{value:e,source:t,stack:jt(t)}}var ur=[],dr=0,Yi=null,ws=0,Xt=[],Ft=0,Ka=null,ha=1,ga="";function _a(e,t){ur[dr++]=ws,ur[dr++]=Yi,Yi=e,ws=t}function Bf(e,t,s){Xt[Ft++]=ha,Xt[Ft++]=ga,Xt[Ft++]=Ka,Ka=e;var l=ha;e=ga;var d=32-Nt(l)-1;l&=~(1<<d),s+=1;var f=32-Nt(t)+d;if(30<f){var y=d-d%5;f=(l&(1<<y)-1).toString(32),l>>=y,d-=y,ha=1<<32-Nt(t)+d|s<<d|l,ga=f+e}else ha=1<<f|s<<d|l,ga=e}function cc(e){e.return!==null&&(_a(e,1),Bf(e,1,0))}function uc(e){for(;e===Yi;)Yi=ur[--dr],ur[dr]=null,ws=ur[--dr],ur[dr]=null;for(;e===Ka;)Ka=Xt[--Ft],Xt[Ft]=null,ga=Xt[--Ft],Xt[Ft]=null,ha=Xt[--Ft],Xt[Ft]=null}function Vf(e,t){Xt[Ft++]=ha,Xt[Ft++]=ga,Xt[Ft++]=Ka,ha=t.id,ga=t.overflow,Ka=e}var mt=null,Ge=null,Ee=!1,Ya=null,Zt=!1,dc=Error(i(519));function Qa(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ss(Jt(t,e)),dc}function Pf(e){var t=e.stateNode,s=e.type,l=e.memoizedProps;switch(t[gt]=e,t[Et]=l,s){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(s=0;s<Hs.length;s++)ke(Hs[s],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),ef(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),af(t,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||l.suppressHydrationWarning===!0||sm(t.textContent,s)?(l.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),l.onScroll!=null&&ke("scroll",t),l.onScrollEnd!=null&&ke("scrollend",t),l.onClick!=null&&(t.onclick=xa),t=!0):t=!1,t||Qa(e,!0)}function If(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:mt=mt.return}}function fr(e){if(e!==mt)return!1;if(!Ee)return If(e),Ee=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Eu(e.type,e.memoizedProps)),s=!s),s&&Ge&&Qa(e),If(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ge=gm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ge=gm(e)}else t===27?(t=Ge,cn(e.type)?(e=Lu,Lu=null,Ge=e):Ge=t):Ge=mt?ea(e.stateNode.nextSibling):null;return!0}function En(){Ge=mt=null,Ee=!1}function fc(){var e=Ya;return e!==null&&(Lt===null?Lt=e:Lt.push.apply(Lt,e),Ya=null),e}function Ss(e){Ya===null?Ya=[e]:Ya.push(e)}var hc=O(null),Tn=null,ja=null;function Ja(e,t,s){Z(hc,t._currentValue),t._currentValue=s}function Na(e){e._currentValue=hc.current,G(hc)}function gc(e,t,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===s)break;e=e.return}}function mc(e,t,s,l){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var f=d.dependencies;if(f!==null){var y=d.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=d;for(var k=0;k<t.length;k++)if(b.context===t[k]){f.lanes|=s,b=f.alternate,b!==null&&(b.lanes|=s),gc(f.return,s,e),l||(y=null);break e}f=b.next}}else if(d.tag===18){if(y=d.return,y===null)throw Error(i(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),gc(y,s,e),y=null}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===e){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}}function hr(e,t,s,l){e=null;for(var d=t,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var y=d.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var b=d.type;zt(d.pendingProps.value,y.value)||(e!==null?e.push(b):e=[b])}}else if(d===J.current){if(y=d.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Js):e=[Js])}d=d.return}e!==null&&mc(t,e,s,l),t.flags|=262144}function Qi(e){for(e=e.firstContext;e!==null;){if(!zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function On(e){Tn=e,ja=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return Hf(Tn,e)}function Ji(e,t){return Tn===null&&On(e),Hf(e,t)}function Hf(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},ja===null){if(e===null)throw Error(i(308));ja=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ja=ja.next=t;return s}var ev=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},tv=n.unstable_scheduleCallback,av=n.unstable_NormalPriority,nt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pc(){return{controller:new ev,data:new Map,refCount:0}}function _s(e){e.refCount--,e.refCount===0&&tv(av,function(){e.controller.abort()})}var js=null,yc=0,gr=0,mr=null;function nv(e,t){if(js===null){var s=js=[];yc=0,gr=xu(),mr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return yc++,t.then(Gf,Gf),t}function Gf(){if(--yc===0&&js!==null){mr!==null&&(mr.status="fulfilled");var e=js;js=null,gr=0,mr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function rv(e,t){var s=[],l={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var d=0;d<s.length;d++)(0,s[d])(t)},function(d){for(l.status="rejected",l.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),l}var Kf=U.S;U.S=function(e,t){Eg=ht(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&nv(e,t),Kf!==null&&Kf(e,t)};var Rn=O(null);function vc(){var e=Rn.current;return e!==null?e:Pe.pooledCache}function Xi(e,t){t===null?Z(Rn,Rn.current):Z(Rn,t.pool)}function Yf(){var e=vc();return e===null?null:{parent:nt._currentValue,pool:e}}var pr=Error(i(460)),bc=Error(i(474)),Fi=Error(i(542)),Zi={then:function(){}};function Qf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jf(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(xa,xa),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ff(e),e;default:if(typeof t.status=="string")t.then(xa,xa);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var d=t;d.status="fulfilled",d.value=l}},function(l){if(t.status==="pending"){var d=t;d.status="rejected",d.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ff(e),e}throw Ln=t,pr}}function Dn(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ln=s,pr):s}}var Ln=null;function Xf(){if(Ln===null)throw Error(i(459));var e=Ln;return Ln=null,e}function Ff(e){if(e===pr||e===Fi)throw Error(i(483))}var yr=null,Ns=0;function Wi(e){var t=Ns;return Ns+=1,yr===null&&(yr=[]),Jf(yr,e,t)}function ks(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function el(e,t){throw t.$$typeof===x?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Zf(e){function t(L,C){if(e){var z=L.deletions;z===null?(L.deletions=[C],L.flags|=16):z.push(C)}}function s(L,C){if(!e)return null;for(;C!==null;)t(L,C),C=C.sibling;return null}function l(L){for(var C=new Map;L!==null;)L.key!==null?C.set(L.key,L):C.set(L.index,L),L=L.sibling;return C}function d(L,C){return L=Sa(L,C),L.index=0,L.sibling=null,L}function f(L,C,z){return L.index=z,e?(z=L.alternate,z!==null?(z=z.index,z<C?(L.flags|=67108866,C):z):(L.flags|=67108866,C)):(L.flags|=1048576,C)}function y(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function b(L,C,z,I){return C===null||C.tag!==6?(C=lc(z,L.mode,I),C.return=L,C):(C=d(C,z),C.return=L,C)}function k(L,C,z,I){var ie=z.type;return ie===N?V(L,C,z.props.children,I,z.key):C!==null&&(C.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===pe&&Dn(ie)===C.type)?(C=d(C,z.props),ks(C,z),C.return=L,C):(C=Ki(z.type,z.key,z.props,null,L.mode,I),ks(C,z),C.return=L,C)}function M(L,C,z,I){return C===null||C.tag!==4||C.stateNode.containerInfo!==z.containerInfo||C.stateNode.implementation!==z.implementation?(C=oc(z,L.mode,I),C.return=L,C):(C=d(C,z.children||[]),C.return=L,C)}function V(L,C,z,I,ie){return C===null||C.tag!==7?(C=Cn(z,L.mode,I,ie),C.return=L,C):(C=d(C,z),C.return=L,C)}function K(L,C,z){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=lc(""+C,L.mode,z),C.return=L,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case S:return z=Ki(C.type,C.key,C.props,null,L.mode,z),ks(z,C),z.return=L,z;case _:return C=oc(C,L.mode,z),C.return=L,C;case pe:return C=Dn(C),K(L,C,z)}if(ce(C)||ze(C))return C=Cn(C,L.mode,z,null),C.return=L,C;if(typeof C.then=="function")return K(L,Wi(C),z);if(C.$$typeof===T)return K(L,Ji(L,C),z);el(L,C)}return null}function $(L,C,z,I){var ie=C!==null?C.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ie!==null?null:b(L,C,""+z,I);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===ie?k(L,C,z,I):null;case _:return z.key===ie?M(L,C,z,I):null;case pe:return z=Dn(z),$(L,C,z,I)}if(ce(z)||ze(z))return ie!==null?null:V(L,C,z,I,null);if(typeof z.then=="function")return $(L,C,Wi(z),I);if(z.$$typeof===T)return $(L,C,Ji(L,z),I);el(L,z)}return null}function B(L,C,z,I,ie){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return L=L.get(z)||null,b(C,L,""+I,ie);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case S:return L=L.get(I.key===null?z:I.key)||null,k(C,L,I,ie);case _:return L=L.get(I.key===null?z:I.key)||null,M(C,L,I,ie);case pe:return I=Dn(I),B(L,C,z,I,ie)}if(ce(I)||ze(I))return L=L.get(z)||null,V(C,L,I,ie,null);if(typeof I.then=="function")return B(L,C,z,Wi(I),ie);if(I.$$typeof===T)return B(L,C,z,Ji(C,I),ie);el(C,I)}return null}function ae(L,C,z,I){for(var ie=null,Te=null,re=C,xe=C=0,Ce=null;re!==null&&xe<z.length;xe++){re.index>xe?(Ce=re,re=null):Ce=re.sibling;var Oe=$(L,re,z[xe],I);if(Oe===null){re===null&&(re=Ce);break}e&&re&&Oe.alternate===null&&t(L,re),C=f(Oe,C,xe),Te===null?ie=Oe:Te.sibling=Oe,Te=Oe,re=Ce}if(xe===z.length)return s(L,re),Ee&&_a(L,xe),ie;if(re===null){for(;xe<z.length;xe++)re=K(L,z[xe],I),re!==null&&(C=f(re,C,xe),Te===null?ie=re:Te.sibling=re,Te=re);return Ee&&_a(L,xe),ie}for(re=l(re);xe<z.length;xe++)Ce=B(re,L,xe,z[xe],I),Ce!==null&&(e&&Ce.alternate!==null&&re.delete(Ce.key===null?xe:Ce.key),C=f(Ce,C,xe),Te===null?ie=Ce:Te.sibling=Ce,Te=Ce);return e&&re.forEach(function(gn){return t(L,gn)}),Ee&&_a(L,xe),ie}function ue(L,C,z,I){if(z==null)throw Error(i(151));for(var ie=null,Te=null,re=C,xe=C=0,Ce=null,Oe=z.next();re!==null&&!Oe.done;xe++,Oe=z.next()){re.index>xe?(Ce=re,re=null):Ce=re.sibling;var gn=$(L,re,Oe.value,I);if(gn===null){re===null&&(re=Ce);break}e&&re&&gn.alternate===null&&t(L,re),C=f(gn,C,xe),Te===null?ie=gn:Te.sibling=gn,Te=gn,re=Ce}if(Oe.done)return s(L,re),Ee&&_a(L,xe),ie;if(re===null){for(;!Oe.done;xe++,Oe=z.next())Oe=K(L,Oe.value,I),Oe!==null&&(C=f(Oe,C,xe),Te===null?ie=Oe:Te.sibling=Oe,Te=Oe);return Ee&&_a(L,xe),ie}for(re=l(re);!Oe.done;xe++,Oe=z.next())Oe=B(re,L,xe,Oe.value,I),Oe!==null&&(e&&Oe.alternate!==null&&re.delete(Oe.key===null?xe:Oe.key),C=f(Oe,C,xe),Te===null?ie=Oe:Te.sibling=Oe,Te=Oe);return e&&re.forEach(function(mb){return t(L,mb)}),Ee&&_a(L,xe),ie}function Be(L,C,z,I){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var ie=z.key;C!==null;){if(C.key===ie){if(ie=z.type,ie===N){if(C.tag===7){s(L,C.sibling),I=d(C,z.props.children),I.return=L,L=I;break e}}else if(C.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===pe&&Dn(ie)===C.type){s(L,C.sibling),I=d(C,z.props),ks(I,z),I.return=L,L=I;break e}s(L,C);break}else t(L,C);C=C.sibling}z.type===N?(I=Cn(z.props.children,L.mode,I,z.key),I.return=L,L=I):(I=Ki(z.type,z.key,z.props,null,L.mode,I),ks(I,z),I.return=L,L=I)}return y(L);case _:e:{for(ie=z.key;C!==null;){if(C.key===ie)if(C.tag===4&&C.stateNode.containerInfo===z.containerInfo&&C.stateNode.implementation===z.implementation){s(L,C.sibling),I=d(C,z.children||[]),I.return=L,L=I;break e}else{s(L,C);break}else t(L,C);C=C.sibling}I=oc(z,L.mode,I),I.return=L,L=I}return y(L);case pe:return z=Dn(z),Be(L,C,z,I)}if(ce(z))return ae(L,C,z,I);if(ze(z)){if(ie=ze(z),typeof ie!="function")throw Error(i(150));return z=ie.call(z),ue(L,C,z,I)}if(typeof z.then=="function")return Be(L,C,Wi(z),I);if(z.$$typeof===T)return Be(L,C,Ji(L,z),I);el(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,C!==null&&C.tag===6?(s(L,C.sibling),I=d(C,z),I.return=L,L=I):(s(L,C),I=lc(z,L.mode,I),I.return=L,L=I),y(L)):s(L,C)}return function(L,C,z,I){try{Ns=0;var ie=Be(L,C,z,I);return yr=null,ie}catch(re){if(re===pr||re===Fi)throw re;var Te=Mt(29,re,null,L.mode);return Te.lanes=I,Te.return=L,Te}finally{}}}var Un=Zf(!0),Wf=Zf(!1),Xa=!1;function xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Za(e,t,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Re&2)!==0){var d=l.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),l.pending=t,t=Gi(e),zf(e,null,s),t}return Hi(e,l,t,s),Gi(e)}function As(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Id(e,s)}}function Sc(e,t){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?d=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?d=f=t:f=f.next=t}else d=f=t;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var _c=!1;function Cs(){if(_c){var e=mr;if(e!==null)throw e}}function Es(e,t,s,l){_c=!1;var d=e.updateQueue;Xa=!1;var f=d.firstBaseUpdate,y=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var k=b,M=k.next;k.next=null,y===null?f=M:y.next=M,y=k;var V=e.alternate;V!==null&&(V=V.updateQueue,b=V.lastBaseUpdate,b!==y&&(b===null?V.firstBaseUpdate=M:b.next=M,V.lastBaseUpdate=k))}if(f!==null){var K=d.baseState;y=0,V=M=k=null,b=f;do{var $=b.lane&-536870913,B=$!==b.lane;if(B?(Ae&$)===$:(l&$)===$){$!==0&&$===gr&&(_c=!0),V!==null&&(V=V.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ae=e,ue=b;$=t;var Be=s;switch(ue.tag){case 1:if(ae=ue.payload,typeof ae=="function"){K=ae.call(Be,K,$);break e}K=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ue.payload,$=typeof ae=="function"?ae.call(Be,K,$):ae,$==null)break e;K=w({},K,$);break e;case 2:Xa=!0}}$=b.callback,$!==null&&(e.flags|=64,B&&(e.flags|=8192),B=d.callbacks,B===null?d.callbacks=[$]:B.push($))}else B={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},V===null?(M=V=B,k=K):V=V.next=B,y|=$;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;B=b,b=B.next,B.next=null,d.lastBaseUpdate=B,d.shared.pending=null}}while(!0);V===null&&(k=K),d.baseState=k,d.firstBaseUpdate=M,d.lastBaseUpdate=V,f===null&&(d.shared.lanes=0),nn|=y,e.lanes=y,e.memoizedState=K}}function eh(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function th(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)eh(s[e],t)}var vr=O(null),tl=O(0);function ah(e,t){e=La,Z(tl,e),Z(vr,t),La=e|t.baseLanes}function jc(){Z(tl,La),Z(vr,vr.current)}function Nc(){La=tl.current,G(vr),G(tl)}var qt=O(null),Wt=null;function Wa(e){var t=e.alternate;Z(et,et.current&1),Z(qt,e),Wt===null&&(t===null||vr.current!==null||t.memoizedState!==null)&&(Wt=e)}function kc(e){Z(et,et.current),Z(qt,e),Wt===null&&(Wt=e)}function nh(e){e.tag===22?(Z(et,et.current),Z(qt,e),Wt===null&&(Wt=e)):en()}function en(){Z(et,et.current),Z(qt,qt.current)}function $t(e){G(qt),Wt===e&&(Wt=null),G(et)}var et=O(0);function al(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ru(s)||Du(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ka=0,be=null,qe=null,rt=null,nl=!1,br=!1,zn=!1,rl=0,Ts=0,xr=null,sv=0;function Xe(){throw Error(i(321))}function Ac(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!zt(e[s],t[s]))return!1;return!0}function Cc(e,t,s,l,d,f){return ka=f,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?Bh:Ic,zn=!1,f=s(l,d),zn=!1,br&&(f=sh(t,s,l,d)),rh(e),f}function rh(e){U.H=Ds;var t=qe!==null&&qe.next!==null;if(ka=0,rt=qe=be=null,nl=!1,Ts=0,xr=null,t)throw Error(i(300));e===null||st||(e=e.dependencies,e!==null&&Qi(e)&&(st=!0))}function sh(e,t,s,l){be=e;var d=0;do{if(br&&(xr=null),Ts=0,br=!1,25<=d)throw Error(i(301));if(d+=1,rt=qe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=Vh,f=t(s,l)}while(br);return f}function iv(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?Os(t):t,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(be.flags|=1024),t}function Ec(){var e=rl!==0;return rl=0,e}function Tc(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function Oc(e){if(nl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}nl=!1}ka=0,rt=qe=be=null,br=!1,Ts=rl=0,xr=null}function kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?be.memoizedState=rt=e:rt=rt.next=e,rt}function tt(){if(qe===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=rt===null?be.memoizedState:rt.next;if(t!==null)rt=t,qe=e;else{if(e===null)throw be.alternate===null?Error(i(467)):Error(i(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},rt===null?be.memoizedState=rt=e:rt=rt.next=e}return rt}function sl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Os(e){var t=Ts;return Ts+=1,xr===null&&(xr=[]),e=Jf(xr,e,t),t=be,(rt===null?t.memoizedState:rt.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?Bh:Ic),e}function il(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Os(e);if(e.$$typeof===T)return pt(e)}throw Error(i(438,String(e)))}function Rc(e){var t=null,s=be.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var l=be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(d){return d.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=sl(),be.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),l=0;l<e;l++)s[l]=We;return t.index++,s}function Aa(e,t){return typeof t=="function"?t(e):t}function ll(e){var t=tt();return Dc(t,qe,e)}function Dc(e,t,s){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var d=e.baseQueue,f=l.pending;if(f!==null){if(d!==null){var y=d.next;d.next=f.next,f.next=y}t.baseQueue=d=f,l.pending=null}if(f=e.baseState,d===null)e.memoizedState=f;else{t=d.next;var b=y=null,k=null,M=t,V=!1;do{var K=M.lane&-536870913;if(K!==M.lane?(Ae&K)===K:(ka&K)===K){var $=M.revertLane;if($===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),K===gr&&(V=!0);else if((ka&$)===$){M=M.next,$===gr&&(V=!0);continue}else K={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},k===null?(b=k=K,y=f):k=k.next=K,be.lanes|=$,nn|=$;K=M.action,zn&&s(f,K),f=M.hasEagerState?M.eagerState:s(f,K)}else $={lane:K,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},k===null?(b=k=$,y=f):k=k.next=$,be.lanes|=K,nn|=K;M=M.next}while(M!==null&&M!==t);if(k===null?y=f:k.next=b,!zt(f,e.memoizedState)&&(st=!0,V&&(s=mr,s!==null)))throw s;e.memoizedState=f,e.baseState=y,e.baseQueue=k,l.lastRenderedState=f}return d===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Lc(e){var t=tt(),s=t.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var l=s.dispatch,d=s.pending,f=t.memoizedState;if(d!==null){s.pending=null;var y=d=d.next;do f=e(f,y.action),y=y.next;while(y!==d);zt(f,t.memoizedState)||(st=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),s.lastRenderedState=f}return[f,l]}function ih(e,t,s){var l=be,d=tt(),f=Ee;if(f){if(s===void 0)throw Error(i(407));s=s()}else s=t();var y=!zt((qe||d).memoizedState,s);if(y&&(d.memoizedState=s,st=!0),d=d.queue,Mc(ch.bind(null,l,d,e),[e]),d.getSnapshot!==t||y||rt!==null&&rt.memoizedState.tag&1){if(l.flags|=2048,wr(9,{destroy:void 0},oh.bind(null,l,d,s,t),null),Pe===null)throw Error(i(349));f||(ka&127)!==0||lh(l,t,s)}return s}function lh(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=be.updateQueue,t===null?(t=sl(),be.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function oh(e,t,s,l){t.value=s,t.getSnapshot=l,uh(t)&&dh(e)}function ch(e,t,s){return s(function(){uh(t)&&dh(e)})}function uh(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!zt(e,s)}catch{return!0}}function dh(e){var t=An(e,2);t!==null&&Ut(t,e,2)}function Uc(e){var t=kt();if(typeof e=="function"){var s=e;if(e=s(),zn){ra(!0);try{s()}finally{ra(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t}function fh(e,t,s,l){return e.baseState=s,Dc(e,qe,typeof l=="function"?l:Aa)}function lv(e,t,s,l,d){if(ul(e))throw Error(i(485));if(e=t.action,e!==null){var f={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};U.T!==null?s(!0):f.isTransition=!1,l(f),s=t.pending,s===null?(f.next=t.pending=f,hh(t,f)):(f.next=s.next,t.pending=s.next=f)}}function hh(e,t){var s=t.action,l=t.payload,d=e.state;if(t.isTransition){var f=U.T,y={};U.T=y;try{var b=s(d,l),k=U.S;k!==null&&k(y,b),gh(e,t,b)}catch(M){zc(e,t,M)}finally{f!==null&&y.types!==null&&(f.types=y.types),U.T=f}}else try{f=s(d,l),gh(e,t,f)}catch(M){zc(e,t,M)}}function gh(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){mh(e,t,l)},function(l){return zc(e,t,l)}):mh(e,t,s)}function mh(e,t,s){t.status="fulfilled",t.value=s,ph(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,hh(e,s)))}function zc(e,t,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=s,ph(t),t=t.next;while(t!==l)}e.action=null}function ph(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function yh(e,t){return t}function vh(e,t){if(Ee){var s=Pe.formState;if(s!==null){e:{var l=be;if(Ee){if(Ge){t:{for(var d=Ge,f=Zt;d.nodeType!==8;){if(!f){d=null;break t}if(d=ea(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){Ge=ea(d.nextSibling),l=d.data==="F!";break e}}Qa(l)}l=!1}l&&(t=s[0])}}return s=kt(),s.memoizedState=s.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:t},s.queue=l,s=Mh.bind(null,be,l),l.dispatch=s,l=Uc(!1),f=Pc.bind(null,be,!1,l.queue),l=kt(),d={state:t,dispatch:null,action:e,pending:null},l.queue=d,s=lv.bind(null,be,d,f,s),d.dispatch=s,l.memoizedState=e,[t,s,!1]}function bh(e){var t=tt();return xh(t,qe,e)}function xh(e,t,s){if(t=Dc(e,t,yh)[0],e=ll(Aa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Os(t)}catch(y){throw y===pr?Fi:y}else l=t;t=tt();var d=t.queue,f=d.dispatch;return s!==t.memoizedState&&(be.flags|=2048,wr(9,{destroy:void 0},ov.bind(null,d,s),null)),[l,f,e]}function ov(e,t){e.action=t}function wh(e){var t=tt(),s=qe;if(s!==null)return xh(t,s,e);tt(),t=t.memoizedState,s=tt();var l=s.queue.dispatch;return s.memoizedState=e,[t,l,!1]}function wr(e,t,s,l){return e={tag:e,create:s,deps:l,inst:t,next:null},t=be.updateQueue,t===null&&(t=sl(),be.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,t.lastEffect=e),e}function Sh(){return tt().memoizedState}function ol(e,t,s,l){var d=kt();be.flags|=e,d.memoizedState=wr(1|t,{destroy:void 0},s,l===void 0?null:l)}function cl(e,t,s,l){var d=tt();l=l===void 0?null:l;var f=d.memoizedState.inst;qe!==null&&l!==null&&Ac(l,qe.memoizedState.deps)?d.memoizedState=wr(t,f,s,l):(be.flags|=e,d.memoizedState=wr(1|t,f,s,l))}function _h(e,t){ol(8390656,8,e,t)}function Mc(e,t){cl(2048,8,e,t)}function cv(e){be.flags|=4;var t=be.updateQueue;if(t===null)t=sl(),be.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function jh(e){var t=tt().memoizedState;return cv({ref:t,nextImpl:e}),function(){if((Re&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Nh(e,t){return cl(4,2,e,t)}function kh(e,t){return cl(4,4,e,t)}function Ah(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ch(e,t,s){s=s!=null?s.concat([e]):null,cl(4,4,Ah.bind(null,t,e),s)}function qc(){}function Eh(e,t){var s=tt();t=t===void 0?null:t;var l=s.memoizedState;return t!==null&&Ac(t,l[1])?l[0]:(s.memoizedState=[e,t],e)}function Th(e,t){var s=tt();t=t===void 0?null:t;var l=s.memoizedState;if(t!==null&&Ac(t,l[1]))return l[0];if(l=e(),zn){ra(!0);try{e()}finally{ra(!1)}}return s.memoizedState=[l,t],l}function $c(e,t,s){return s===void 0||(ka&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=Og(),be.lanes|=e,nn|=e,s)}function Oh(e,t,s,l){return zt(s,t)?s:vr.current!==null?(e=$c(e,s,l),zt(e,t)||(st=!0),e):(ka&42)===0||(ka&1073741824)!==0&&(Ae&261930)===0?(st=!0,e.memoizedState=s):(e=Og(),be.lanes|=e,nn|=e,t)}function Rh(e,t,s,l,d){var f=Q.p;Q.p=f!==0&&8>f?f:8;var y=U.T,b={};U.T=b,Pc(e,!1,t,s);try{var k=d(),M=U.S;if(M!==null&&M(b,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var V=rv(k,l);Rs(e,t,V,Pt(e))}else Rs(e,t,l,Pt(e))}catch(K){Rs(e,t,{then:function(){},status:"rejected",reason:K},Pt())}finally{Q.p=f,y!==null&&b.types!==null&&(y.types=b.types),U.T=y}}function uv(){}function Bc(e,t,s,l){if(e.tag!==5)throw Error(i(476));var d=Dh(e).queue;Rh(e,d,t,W,s===null?uv:function(){return Lh(e),s(l)})}function Dh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:W},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Lh(e){var t=Dh(e);t.next===null&&(t=e.alternate.memoizedState),Rs(e,t.next.queue,{},Pt())}function Vc(){return pt(Js)}function Uh(){return tt().memoizedState}function zh(){return tt().memoizedState}function dv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=Pt();e=Fa(s);var l=Za(t,e,s);l!==null&&(Ut(l,t,s),As(l,t,s)),t={cache:pc()},e.payload=t;return}t=t.return}}function fv(e,t,s){var l=Pt();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ul(e)?qh(t,s):(s=sc(e,t,s,l),s!==null&&(Ut(s,e,l),$h(s,t,l)))}function Mh(e,t,s){var l=Pt();Rs(e,t,s,l)}function Rs(e,t,s,l){var d={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ul(e))qh(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,b=f(y,s);if(d.hasEagerState=!0,d.eagerState=b,zt(b,y))return Hi(e,t,d,0),Pe===null&&Ii(),!1}catch{}finally{}if(s=sc(e,t,d,l),s!==null)return Ut(s,e,l),$h(s,t,l),!0}return!1}function Pc(e,t,s,l){if(l={lane:2,revertLane:xu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ul(e)){if(t)throw Error(i(479))}else t=sc(e,s,l,2),t!==null&&Ut(t,e,2)}function ul(e){var t=e.alternate;return e===be||t!==null&&t===be}function qh(e,t){br=nl=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function $h(e,t,s){if((s&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Id(e,s)}}var Ds={readContext:pt,use:il,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Ds.useEffectEvent=Xe;var Bh={readContext:pt,use:il,useCallback:function(e,t){return kt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:_h,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,ol(4194308,4,Ah.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ol(4194308,4,e,t)},useInsertionEffect:function(e,t){ol(4,2,e,t)},useMemo:function(e,t){var s=kt();t=t===void 0?null:t;var l=e();if(zn){ra(!0);try{e()}finally{ra(!1)}}return s.memoizedState=[l,t],l},useReducer:function(e,t,s){var l=kt();if(s!==void 0){var d=s(t);if(zn){ra(!0);try{s(t)}finally{ra(!1)}}}else d=t;return l.memoizedState=l.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},l.queue=e,e=e.dispatch=fv.bind(null,be,e),[l.memoizedState,e]},useRef:function(e){var t=kt();return e={current:e},t.memoizedState=e},useState:function(e){e=Uc(e);var t=e.queue,s=Mh.bind(null,be,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:qc,useDeferredValue:function(e,t){var s=kt();return $c(s,e,t)},useTransition:function(){var e=Uc(!1);return e=Rh.bind(null,be,e.queue,!0,!1),kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var l=be,d=kt();if(Ee){if(s===void 0)throw Error(i(407));s=s()}else{if(s=t(),Pe===null)throw Error(i(349));(Ae&127)!==0||lh(l,t,s)}d.memoizedState=s;var f={value:s,getSnapshot:t};return d.queue=f,_h(ch.bind(null,l,f,e),[e]),l.flags|=2048,wr(9,{destroy:void 0},oh.bind(null,l,f,s,t),null),s},useId:function(){var e=kt(),t=Pe.identifierPrefix;if(Ee){var s=ga,l=ha;s=(l&~(1<<32-Nt(l)-1)).toString(32)+s,t="_"+t+"R_"+s,s=rl++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=sv++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Vc,useFormState:vh,useActionState:vh,useOptimistic:function(e){var t=kt();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Pc.bind(null,be,!0,s),s.dispatch=t,[e,t]},useMemoCache:Rc,useCacheRefresh:function(){return kt().memoizedState=dv.bind(null,be)},useEffectEvent:function(e){var t=kt(),s={impl:e};return t.memoizedState=s,function(){if((Re&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}},Ic={readContext:pt,use:il,useCallback:Eh,useContext:pt,useEffect:Mc,useImperativeHandle:Ch,useInsertionEffect:Nh,useLayoutEffect:kh,useMemo:Th,useReducer:ll,useRef:Sh,useState:function(){return ll(Aa)},useDebugValue:qc,useDeferredValue:function(e,t){var s=tt();return Oh(s,qe.memoizedState,e,t)},useTransition:function(){var e=ll(Aa)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Os(e),t]},useSyncExternalStore:ih,useId:Uh,useHostTransitionStatus:Vc,useFormState:bh,useActionState:bh,useOptimistic:function(e,t){var s=tt();return fh(s,qe,e,t)},useMemoCache:Rc,useCacheRefresh:zh};Ic.useEffectEvent=jh;var Vh={readContext:pt,use:il,useCallback:Eh,useContext:pt,useEffect:Mc,useImperativeHandle:Ch,useInsertionEffect:Nh,useLayoutEffect:kh,useMemo:Th,useReducer:Lc,useRef:Sh,useState:function(){return Lc(Aa)},useDebugValue:qc,useDeferredValue:function(e,t){var s=tt();return qe===null?$c(s,e,t):Oh(s,qe.memoizedState,e,t)},useTransition:function(){var e=Lc(Aa)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Os(e),t]},useSyncExternalStore:ih,useId:Uh,useHostTransitionStatus:Vc,useFormState:wh,useActionState:wh,useOptimistic:function(e,t){var s=tt();return qe!==null?fh(s,qe,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Rc,useCacheRefresh:zh};Vh.useEffectEvent=jh;function Hc(e,t,s,l){t=e.memoizedState,s=s(l,t),s=s==null?t:w({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Gc={enqueueSetState:function(e,t,s){e=e._reactInternals;var l=Pt(),d=Fa(l);d.payload=t,s!=null&&(d.callback=s),t=Za(e,d,l),t!==null&&(Ut(t,e,l),As(t,e,l))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var l=Pt(),d=Fa(l);d.tag=1,d.payload=t,s!=null&&(d.callback=s),t=Za(e,d,l),t!==null&&(Ut(t,e,l),As(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Pt(),l=Fa(s);l.tag=2,t!=null&&(l.callback=t),t=Za(e,l,s),t!==null&&(Ut(t,e,s),As(t,e,s))}};function Ph(e,t,s,l,d,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,y):t.prototype&&t.prototype.isPureReactComponent?!bs(s,l)||!bs(d,f):!0}function Ih(e,t,s,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,l),t.state!==e&&Gc.enqueueReplaceState(t,t.state,null)}function Mn(e,t){var s=t;if("ref"in t){s={};for(var l in t)l!=="ref"&&(s[l]=t[l])}if(e=e.defaultProps){s===t&&(s=w({},s));for(var d in e)s[d]===void 0&&(s[d]=e[d])}return s}function Hh(e){Pi(e)}function Gh(e){console.error(e)}function Kh(e){Pi(e)}function dl(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Yh(e,t,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Kc(e,t,s){return s=Fa(s),s.tag=3,s.payload={element:null},s.callback=function(){dl(e,t)},s}function Qh(e){return e=Fa(e),e.tag=3,e}function Jh(e,t,s,l){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;e.payload=function(){return d(f)},e.callback=function(){Yh(t,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Yh(t,s,l),typeof d!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function hv(e,t,s,l,d){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=s.alternate,t!==null&&hr(t,s,d,!0),s=qt.current,s!==null){switch(s.tag){case 31:case 13:return Wt===null?_l():s.alternate===null&&Fe===0&&(Fe=3),s.flags&=-257,s.flags|=65536,s.lanes=d,l===Zi?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([l]):t.add(l),yu(e,l,d)),!1;case 22:return s.flags|=65536,l===Zi?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([l]):s.add(l)),yu(e,l,d)),!1}throw Error(i(435,s.tag))}return yu(e,l,d),_l(),!1}if(Ee)return t=qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=d,l!==dc&&(e=Error(i(422),{cause:l}),Ss(Jt(e,s)))):(l!==dc&&(t=Error(i(423),{cause:l}),Ss(Jt(t,s))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,l=Jt(l,s),d=Kc(e.stateNode,l,d),Sc(e,d),Fe!==4&&(Fe=2)),!1;var f=Error(i(520),{cause:l});if(f=Jt(f,s),Vs===null?Vs=[f]:Vs.push(f),Fe!==4&&(Fe=2),t===null)return!0;l=Jt(l,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=d&-d,s.lanes|=e,e=Kc(s.stateNode,l,e),Sc(s,e),!1;case 1:if(t=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rn===null||!rn.has(f))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Qh(d),Jh(d,e,s,l),Sc(s,d),!1}s=s.return}while(s!==null);return!1}var Yc=Error(i(461)),st=!1;function yt(e,t,s,l){t.child=e===null?Wf(t,null,s,l):Un(t,e.child,s,l)}function Xh(e,t,s,l,d){s=s.render;var f=t.ref;if("ref"in l){var y={};for(var b in l)b!=="ref"&&(y[b]=l[b])}else y=l;return On(t),l=Cc(e,t,s,y,f,d),b=Ec(),e!==null&&!st?(Tc(e,t,d),Ca(e,t,d)):(Ee&&b&&cc(t),t.flags|=1,yt(e,t,l,d),t.child)}function Fh(e,t,s,l,d){if(e===null){var f=s.type;return typeof f=="function"&&!ic(f)&&f.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=f,Zh(e,t,f,l,d)):(e=Ki(s.type,null,l,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!tu(e,d)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:bs,s(y,l)&&e.ref===t.ref)return Ca(e,t,d)}return t.flags|=1,e=Sa(f,l),e.ref=t.ref,e.return=t,t.child=e}function Zh(e,t,s,l,d){if(e!==null){var f=e.memoizedProps;if(bs(f,l)&&e.ref===t.ref)if(st=!1,t.pendingProps=l=f,tu(e,d))(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,Ca(e,t,d)}return Qc(e,t,s,l,d)}function Wh(e,t,s,l){var d=l.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=t.child=e.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,t.child=null;return eg(e,t,f,s,l)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xi(t,f!==null?f.cachePool:null),f!==null?ah(t,f):jc(),nh(t);else return l=t.lanes=536870912,eg(e,t,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Xi(t,f.cachePool),ah(t,f),en(),t.memoizedState=null):(e!==null&&Xi(t,null),jc(),en());return yt(e,t,d,s),t.child}function Ls(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function eg(e,t,s,l,d){var f=vc();return f=f===null?null:{parent:nt._currentValue,pool:f},t.memoizedState={baseLanes:s,cachePool:f},e!==null&&Xi(t,null),jc(),nh(t),e!==null&&hr(e,t,l,!0),t.childLanes=d,null}function fl(e,t){return t=gl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function tg(e,t,s){return Un(t,e.child,null,s),e=fl(t,t.pendingProps),e.flags|=2,$t(t),t.memoizedState=null,e}function gv(e,t,s){var l=t.pendingProps,d=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(l.mode==="hidden")return e=fl(t,l),t.lanes=536870912,Ls(null,e);if(kc(t),(e=Ge)?(e=hm(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:ha,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},s=qf(e),s.return=t,t.child=s,mt=t,Ge=null)):e=null,e===null)throw Qa(t);return t.lanes=536870912,null}return fl(t,l)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(kc(t),d)if(t.flags&256)t.flags&=-257,t=tg(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(st||hr(e,t,s,!1),d=(s&e.childLanes)!==0,st||d){if(l=Pe,l!==null&&(y=Hd(l,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,An(e,y),Ut(l,e,y),Yc;_l(),t=tg(e,t,s)}else e=f.treeContext,Ge=ea(y.nextSibling),mt=t,Ee=!0,Ya=null,Zt=!1,e!==null&&Vf(t,e),t=fl(t,l),t.flags|=4096;return t}return e=Sa(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function hl(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function Qc(e,t,s,l,d){return On(t),s=Cc(e,t,s,l,void 0,d),l=Ec(),e!==null&&!st?(Tc(e,t,d),Ca(e,t,d)):(Ee&&l&&cc(t),t.flags|=1,yt(e,t,s,d),t.child)}function ag(e,t,s,l,d,f){return On(t),t.updateQueue=null,s=sh(t,l,s,d),rh(e),l=Ec(),e!==null&&!st?(Tc(e,t,f),Ca(e,t,f)):(Ee&&l&&cc(t),t.flags|=1,yt(e,t,s,f),t.child)}function ng(e,t,s,l,d){if(On(t),t.stateNode===null){var f=cr,y=s.contextType;typeof y=="object"&&y!==null&&(f=pt(y)),f=new s(l,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=l,f.state=t.memoizedState,f.refs={},xc(t),y=s.contextType,f.context=typeof y=="object"&&y!==null?pt(y):cr,f.state=t.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Hc(t,s,y,l),f.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Gc.enqueueReplaceState(f,f.state,null),Es(t,l,f,d),Cs(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){f=t.stateNode;var b=t.memoizedProps,k=Mn(s,b);f.props=k;var M=f.context,V=s.contextType;y=cr,typeof V=="object"&&V!==null&&(y=pt(V));var K=s.getDerivedStateFromProps;V=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,V||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||M!==y)&&Ih(t,f,l,y),Xa=!1;var $=t.memoizedState;f.state=$,Es(t,l,f,d),Cs(),M=t.memoizedState,b||$!==M||Xa?(typeof K=="function"&&(Hc(t,s,K,l),M=t.memoizedState),(k=Xa||Ph(t,s,k,l,$,M,y))?(V||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=M),f.props=l,f.state=M,f.context=y,l=k):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{f=t.stateNode,wc(e,t),y=t.memoizedProps,V=Mn(s,y),f.props=V,K=t.pendingProps,$=f.context,M=s.contextType,k=cr,typeof M=="object"&&M!==null&&(k=pt(M)),b=s.getDerivedStateFromProps,(M=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||$!==k)&&Ih(t,f,l,k),Xa=!1,$=t.memoizedState,f.state=$,Es(t,l,f,d),Cs();var B=t.memoizedState;y!==K||$!==B||Xa||e!==null&&e.dependencies!==null&&Qi(e.dependencies)?(typeof b=="function"&&(Hc(t,s,b,l),B=t.memoizedState),(V=Xa||Ph(t,s,V,l,$,B,k)||e!==null&&e.dependencies!==null&&Qi(e.dependencies))?(M||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,k),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,k)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=B),f.props=l,f.state=B,f.context=k,l=V):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),l=!1)}return f=l,hl(e,t),l=(t.flags&128)!==0,f||l?(f=t.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&l?(t.child=Un(t,e.child,null,d),t.child=Un(t,null,s,d)):yt(e,t,s,d),t.memoizedState=f.state,e=t.child):e=Ca(e,t,d),e}function rg(e,t,s,l){return En(),t.flags|=256,yt(e,t,s,l),t.child}var Jc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xc(e){return{baseLanes:e,cachePool:Yf()}}function Fc(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=Vt),e}function sg(e,t,s){var l=t.pendingProps,d=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),y&&(d=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(d?Wa(t):en(),(e=Ge)?(e=hm(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:ha,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},s=qf(e),s.return=t,t.child=s,mt=t,Ge=null)):e=null,e===null)throw Qa(t);return Du(e)?t.lanes=32:t.lanes=536870912,null}var b=l.children;return l=l.fallback,d?(en(),d=t.mode,b=gl({mode:"hidden",children:b},d),l=Cn(l,d,s,null),b.return=t,l.return=t,b.sibling=l,t.child=b,l=t.child,l.memoizedState=Xc(s),l.childLanes=Fc(e,y,s),t.memoizedState=Jc,Ls(null,l)):(Wa(t),Zc(t,b))}var k=e.memoizedState;if(k!==null&&(b=k.dehydrated,b!==null)){if(f)t.flags&256?(Wa(t),t.flags&=-257,t=Wc(e,t,s)):t.memoizedState!==null?(en(),t.child=e.child,t.flags|=128,t=null):(en(),b=l.fallback,d=t.mode,l=gl({mode:"visible",children:l.children},d),b=Cn(b,d,s,null),b.flags|=2,l.return=t,b.return=t,l.sibling=b,t.child=l,Un(t,e.child,null,s),l=t.child,l.memoizedState=Xc(s),l.childLanes=Fc(e,y,s),t.memoizedState=Jc,t=Ls(null,l));else if(Wa(t),Du(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var M=y.dgst;y=M,l=Error(i(419)),l.stack="",l.digest=y,Ss({value:l,source:null,stack:null}),t=Wc(e,t,s)}else if(st||hr(e,t,s,!1),y=(s&e.childLanes)!==0,st||y){if(y=Pe,y!==null&&(l=Hd(y,s),l!==0&&l!==k.retryLane))throw k.retryLane=l,An(e,l),Ut(y,e,l),Yc;Ru(b)||_l(),t=Wc(e,t,s)}else Ru(b)?(t.flags|=192,t.child=e.child,t=null):(e=k.treeContext,Ge=ea(b.nextSibling),mt=t,Ee=!0,Ya=null,Zt=!1,e!==null&&Vf(t,e),t=Zc(t,l.children),t.flags|=4096);return t}return d?(en(),b=l.fallback,d=t.mode,k=e.child,M=k.sibling,l=Sa(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,M!==null?b=Sa(M,b):(b=Cn(b,d,s,null),b.flags|=2),b.return=t,l.return=t,l.sibling=b,t.child=l,Ls(null,l),l=t.child,b=e.child.memoizedState,b===null?b=Xc(s):(d=b.cachePool,d!==null?(k=nt._currentValue,d=d.parent!==k?{parent:k,pool:k}:d):d=Yf(),b={baseLanes:b.baseLanes|s,cachePool:d}),l.memoizedState=b,l.childLanes=Fc(e,y,s),t.memoizedState=Jc,Ls(e.child,l)):(Wa(t),s=e.child,e=s.sibling,s=Sa(s,{mode:"visible",children:l.children}),s.return=t,s.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=s,t.memoizedState=null,s)}function Zc(e,t){return t=gl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function gl(e,t){return e=Mt(22,e,null,t),e.lanes=0,e}function Wc(e,t,s){return Un(t,e.child,null,s),e=Zc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ig(e,t,s){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),gc(e.return,t,s)}function eu(e,t,s,l,d,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d,treeForkCount:f}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=s,y.tailMode=d,y.treeForkCount=f)}function lg(e,t,s){var l=t.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var y=et.current,b=(y&2)!==0;if(b?(y=y&1|2,t.flags|=128):y&=1,Z(et,y),yt(e,t,l,s),l=Ee?ws:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ig(e,s,t);else if(e.tag===19)ig(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(s=t.child,d=null;s!==null;)e=s.alternate,e!==null&&al(e)===null&&(d=s),s=s.sibling;s=d,s===null?(d=t.child,t.child=null):(d=s.sibling,s.sibling=null),eu(t,!1,d,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&al(e)===null){t.child=d;break}e=d.sibling,d.sibling=s,s=d,d=e}eu(t,!0,s,null,f,l);break;case"together":eu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Ca(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),nn|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(hr(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,s=Sa(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Sa(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function tu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Qi(e)))}function mv(e,t,s){switch(t.tag){case 3:F(t,t.stateNode.containerInfo),Ja(t,nt,e.memoizedState.cache),En();break;case 27:case 5:je(t);break;case 4:F(t,t.stateNode.containerInfo);break;case 10:Ja(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,kc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Wa(t),t.flags|=128,null):(s&t.child.childLanes)!==0?sg(e,t,s):(Wa(t),e=Ca(e,t,s),e!==null?e.sibling:null);Wa(t);break;case 19:var d=(e.flags&128)!==0;if(l=(s&t.childLanes)!==0,l||(hr(e,t,s,!1),l=(s&t.childLanes)!==0),d){if(l)return lg(e,t,s);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Z(et,et.current),l)break;return null;case 22:return t.lanes=0,Wh(e,t,s,t.pendingProps);case 24:Ja(t,nt,e.memoizedState.cache)}return Ca(e,t,s)}function og(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!tu(e,s)&&(t.flags&128)===0)return st=!1,mv(e,t,s);st=(e.flags&131072)!==0}else st=!1,Ee&&(t.flags&1048576)!==0&&Bf(t,ws,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Dn(t.elementType),t.type=e,typeof e=="function")ic(e)?(l=Mn(e,l),t.tag=1,t=ng(null,t,e,l,s)):(t.tag=0,t=Qc(null,t,e,l,s));else{if(e!=null){var d=e.$$typeof;if(d===q){t.tag=11,t=Xh(null,t,e,l,s);break e}else if(d===H){t.tag=14,t=Fh(null,t,e,l,s);break e}}throw t=Ie(e)||e,Error(i(306,t,""))}}return t;case 0:return Qc(e,t,t.type,t.pendingProps,s);case 1:return l=t.type,d=Mn(l,t.pendingProps),ng(e,t,l,d,s);case 3:e:{if(F(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var f=t.memoizedState;d=f.element,wc(e,t),Es(t,l,null,s);var y=t.memoizedState;if(l=y.cache,Ja(t,nt,l),l!==f.cache&&mc(t,[nt],s,!0),Cs(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=rg(e,t,l,s);break e}else if(l!==d){d=Jt(Error(i(424)),t),Ss(d),t=rg(e,t,l,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ge=ea(e.firstChild),mt=t,Ee=!0,Ya=null,Zt=!0,s=Wf(t,null,l,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(En(),l===d){t=Ca(e,t,s);break e}yt(e,t,l,s)}t=t.child}return t;case 26:return hl(e,t),e===null?(s=bm(t.type,null,t.pendingProps,null))?t.memoizedState=s:Ee||(s=t.type,e=t.pendingProps,l=Tl(ve.current).createElement(s),l[gt]=t,l[Et]=e,vt(l,s,e),dt(l),t.stateNode=l):t.memoizedState=bm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return je(t),e===null&&Ee&&(l=t.stateNode=pm(t.type,t.pendingProps,ve.current),mt=t,Zt=!0,d=Ge,cn(t.type)?(Lu=d,Ge=ea(l.firstChild)):Ge=d),yt(e,t,t.pendingProps.children,s),hl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((d=l=Ge)&&(l=Gv(l,t.type,t.pendingProps,Zt),l!==null?(t.stateNode=l,mt=t,Ge=ea(l.firstChild),Zt=!1,d=!0):d=!1),d||Qa(t)),je(t),d=t.type,f=t.pendingProps,y=e!==null?e.memoizedProps:null,l=f.children,Eu(d,f)?l=null:y!==null&&Eu(d,y)&&(t.flags|=32),t.memoizedState!==null&&(d=Cc(e,t,iv,null,null,s),Js._currentValue=d),hl(e,t),yt(e,t,l,s),t.child;case 6:return e===null&&Ee&&((e=s=Ge)&&(s=Kv(s,t.pendingProps,Zt),s!==null?(t.stateNode=s,mt=t,Ge=null,e=!0):e=!1),e||Qa(t)),null;case 13:return sg(e,t,s);case 4:return F(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Un(t,null,l,s):yt(e,t,l,s),t.child;case 11:return Xh(e,t,t.type,t.pendingProps,s);case 7:return yt(e,t,t.pendingProps,s),t.child;case 8:return yt(e,t,t.pendingProps.children,s),t.child;case 12:return yt(e,t,t.pendingProps.children,s),t.child;case 10:return l=t.pendingProps,Ja(t,t.type,l.value),yt(e,t,l.children,s),t.child;case 9:return d=t.type._context,l=t.pendingProps.children,On(t),d=pt(d),l=l(d),t.flags|=1,yt(e,t,l,s),t.child;case 14:return Fh(e,t,t.type,t.pendingProps,s);case 15:return Zh(e,t,t.type,t.pendingProps,s);case 19:return lg(e,t,s);case 31:return gv(e,t,s);case 22:return Wh(e,t,s,t.pendingProps);case 24:return On(t),l=pt(nt),e===null?(d=vc(),d===null&&(d=Pe,f=pc(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=s),d=f),t.memoizedState={parent:l,cache:d},xc(t),Ja(t,nt,d)):((e.lanes&s)!==0&&(wc(e,t),Es(t,null,null,s),Cs()),d=e.memoizedState,f=t.memoizedState,d.parent!==l?(d={parent:l,cache:l},t.memoizedState=d,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=d),Ja(t,nt,l)):(l=f.cache,Ja(t,nt,l),l!==d.cache&&mc(t,[nt],s,!0))),yt(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Ea(e){e.flags|=4}function au(e,t,s,l,d){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Ug())e.flags|=8192;else throw Ln=Zi,bc}else e.flags&=-16777217}function cg(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jm(t))if(Ug())e.flags|=8192;else throw Ln=Zi,bc}function ml(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vd():536870912,e.lanes|=t,Nr|=t)}function Us(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(t)for(var d=e.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=s,t}function pv(e,t,s){var l=t.pendingProps;switch(uc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return s=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Na(nt),ee(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(fr(t)?Ea(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,fc())),Ke(t),null;case 26:var d=t.type,f=t.memoizedState;return e===null?(Ea(t),f!==null?(Ke(t),cg(t,f)):(Ke(t),au(t,d,null,l,s))):f?f!==e.memoizedState?(Ea(t),Ke(t),cg(t,f)):(Ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ea(t),Ke(t),au(t,d,e,l,s)),null;case 27:if(Ye(t),s=ve.current,d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ea(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Ke(t),null}e=te.current,fr(t)?Pf(t):(e=pm(d,l,s),t.stateNode=e,Ea(t))}return Ke(t),null;case 5:if(Ye(t),d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ea(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Ke(t),null}if(f=te.current,fr(t))Pf(t);else{var y=Tl(ve.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(d,{is:l.is}):y.createElement(d)}}f[gt]=t,f[Et]=l;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=f;e:switch(vt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ea(t)}}return Ke(t),au(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Ea(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=ve.current,fr(t)){if(e=t.stateNode,s=t.memoizedProps,l=null,d=mt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}e[gt]=t,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||sm(e.nodeValue,s)),e||Qa(t,!0)}else e=Tl(e).createTextNode(l),e[gt]=t,t.stateNode=e}return Ke(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(l=fr(t),s!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[gt]=t}else En(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),e=!1}else s=fc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?($t(t),t):($t(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Ke(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=fr(t),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(i(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[gt]=t}else En(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),d=!1}else d=fc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return t.flags&256?($t(t),t):($t(t),null)}return $t(t),(t.flags&128)!==0?(t.lanes=s,t):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=t.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),ml(t,t.updateQueue),Ke(t),null);case 4:return ee(),e===null&&ju(t.stateNode.containerInfo),Ke(t),null;case 10:return Na(t.type),Ke(t),null;case 19:if(G(et),l=t.memoizedState,l===null)return Ke(t),null;if(d=(t.flags&128)!==0,f=l.rendering,f===null)if(d)Us(l,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=al(e),f!==null){for(t.flags|=128,Us(l,!1),e=f.updateQueue,t.updateQueue=e,ml(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)Mf(s,e),s=s.sibling;return Z(et,et.current&1|2),Ee&&_a(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&ht()>xl&&(t.flags|=128,d=!0,Us(l,!1),t.lanes=4194304)}else{if(!d)if(e=al(f),e!==null){if(t.flags|=128,d=!0,e=e.updateQueue,t.updateQueue=e,ml(t,e),Us(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ee)return Ke(t),null}else 2*ht()-l.renderingStartTime>xl&&s!==536870912&&(t.flags|=128,d=!0,Us(l,!1),t.lanes=4194304);l.isBackwards?(f.sibling=t.child,t.child=f):(e=l.last,e!==null?e.sibling=f:t.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ht(),e.sibling=null,s=et.current,Z(et,d?s&1|2:s&1),Ee&&_a(t,l.treeForkCount),e):(Ke(t),null);case 22:case 23:return $t(t),Nc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(s&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),s=t.updateQueue,s!==null&&ml(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==s&&(t.flags|=2048),e!==null&&G(Rn),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Na(nt),Ke(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function yv(e,t){switch(uc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Na(nt),ee(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ye(t),null;case 31:if(t.memoizedState!==null){if($t(t),t.alternate===null)throw Error(i(340));En()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if($t(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));En()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(et),null;case 4:return ee(),null;case 10:return Na(t.type),null;case 22:case 23:return $t(t),Nc(),e!==null&&G(Rn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Na(nt),null;case 25:return null;default:return null}}function ug(e,t){switch(uc(t),t.tag){case 3:Na(nt),ee();break;case 26:case 27:case 5:Ye(t);break;case 4:ee();break;case 31:t.memoizedState!==null&&$t(t);break;case 13:$t(t);break;case 19:G(et);break;case 10:Na(t.type);break;case 22:case 23:$t(t),Nc(),e!==null&&G(Rn);break;case 24:Na(nt)}}function zs(e,t){try{var s=t.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var d=l.next;s=d;do{if((s.tag&e)===e){l=void 0;var f=s.create,y=s.inst;l=f(),y.destroy=l}s=s.next}while(s!==d)}}catch(b){Ue(t,t.return,b)}}function tn(e,t,s){try{var l=t.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&e)===e){var y=l.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,d=t;var k=s,M=b;try{M()}catch(V){Ue(d,k,V)}}}l=l.next}while(l!==f)}}catch(V){Ue(t,t.return,V)}}function dg(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{th(t,s)}catch(l){Ue(e,e.return,l)}}}function fg(e,t,s){s.props=Mn(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Ue(e,t,l)}}function Ms(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(d){Ue(e,t,d)}}function ma(e,t){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(d){Ue(e,t,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Ue(e,t,d)}else s.current=null}function hg(e){var t=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(d){Ue(e,e.return,d)}}function nu(e,t,s){try{var l=e.stateNode;$v(l,e.type,s,t),l[Et]=t}catch(d){Ue(e,e.return,d)}}function gg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&cn(e.type)||e.tag===4}function ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&cn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function su(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=xa));else if(l!==4&&(l===27&&cn(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(su(e,t,s),e=e.sibling;e!==null;)su(e,t,s),e=e.sibling}function pl(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(l!==4&&(l===27&&cn(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(pl(e,t,s),e=e.sibling;e!==null;)pl(e,t,s),e=e.sibling}function mg(e){var t=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,d=t.attributes;d.length;)t.removeAttributeNode(d[0]);vt(t,l,s),t[gt]=e,t[Et]=s}catch(f){Ue(e,e.return,f)}}var Ta=!1,it=!1,iu=!1,pg=typeof WeakSet=="function"?WeakSet:Set,ft=null;function vv(e,t){if(e=e.containerInfo,Au=Ml,e=Cf(e),Wo(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var y=0,b=-1,k=-1,M=0,V=0,K=e,$=null;t:for(;;){for(var B;K!==s||d!==0&&K.nodeType!==3||(b=y+d),K!==f||l!==0&&K.nodeType!==3||(k=y+l),K.nodeType===3&&(y+=K.nodeValue.length),(B=K.firstChild)!==null;)$=K,K=B;for(;;){if(K===e)break t;if($===s&&++M===d&&(b=y),$===f&&++V===l&&(k=y),(B=K.nextSibling)!==null)break;K=$,$=K.parentNode}K=B}s=b===-1||k===-1?null:{start:b,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(Cu={focusedElem:e,selectionRange:s},Ml=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)d=e[s],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=t,d=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ae=Mn(s.type,d);e=l.getSnapshotBeforeUpdate(ae,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ue){Ue(s,s.return,ue)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)Ou(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ou(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function yg(e,t,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ra(e,s),l&4&&zs(5,s);break;case 1:if(Ra(e,s),l&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(y){Ue(s,s.return,y)}else{var d=Mn(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(d,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Ue(s,s.return,y)}}l&64&&dg(s),l&512&&Ms(s,s.return);break;case 3:if(Ra(e,s),l&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{th(e,t)}catch(y){Ue(s,s.return,y)}}break;case 27:t===null&&l&4&&mg(s);case 26:case 5:Ra(e,s),t===null&&l&4&&hg(s),l&512&&Ms(s,s.return);break;case 12:Ra(e,s);break;case 31:Ra(e,s),l&4&&xg(e,s);break;case 13:Ra(e,s),l&4&&wg(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Av.bind(null,s),Yv(e,s))));break;case 22:if(l=s.memoizedState!==null||Ta,!l){t=t!==null&&t.memoizedState!==null||it,d=Ta;var f=it;Ta=l,(it=t)&&!f?Da(e,s,(s.subtreeFlags&8772)!==0):Ra(e,s),Ta=d,it=f}break;case 30:break;default:Ra(e,s)}}function vg(e){var t=e.alternate;t!==null&&(e.alternate=null,vg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&zo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qe=null,Ot=!1;function Oa(e,t,s){for(s=s.child;s!==null;)bg(e,t,s),s=s.sibling}function bg(e,t,s){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Ia,s)}catch{}switch(s.tag){case 26:it||ma(s,t),Oa(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:it||ma(s,t);var l=Qe,d=Ot;cn(s.type)&&(Qe=s.stateNode,Ot=!1),Oa(e,t,s),Ks(s.stateNode),Qe=l,Ot=d;break;case 5:it||ma(s,t);case 6:if(l=Qe,d=Ot,Qe=null,Oa(e,t,s),Qe=l,Ot=d,Qe!==null)if(Ot)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(s.stateNode)}catch(f){Ue(s,t,f)}else try{Qe.removeChild(s.stateNode)}catch(f){Ue(s,t,f)}break;case 18:Qe!==null&&(Ot?(e=Qe,dm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Dr(e)):dm(Qe,s.stateNode));break;case 4:l=Qe,d=Ot,Qe=s.stateNode.containerInfo,Ot=!0,Oa(e,t,s),Qe=l,Ot=d;break;case 0:case 11:case 14:case 15:tn(2,s,t),it||tn(4,s,t),Oa(e,t,s);break;case 1:it||(ma(s,t),l=s.stateNode,typeof l.componentWillUnmount=="function"&&fg(s,t,l)),Oa(e,t,s);break;case 21:Oa(e,t,s);break;case 22:it=(l=it)||s.memoizedState!==null,Oa(e,t,s),it=l;break;default:Oa(e,t,s)}}function xg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Dr(e)}catch(s){Ue(t,t.return,s)}}}function wg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dr(e)}catch(s){Ue(t,t.return,s)}}function bv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new pg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new pg),t;default:throw Error(i(435,e.tag))}}function yl(e,t){var s=bv(e);t.forEach(function(l){if(!s.has(l)){s.add(l);var d=Cv.bind(null,e,l);l.then(d,d)}})}function Rt(e,t){var s=t.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l],f=e,y=t,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(cn(b.type)){Qe=b.stateNode,Ot=!1;break e}break;case 5:Qe=b.stateNode,Ot=!1;break e;case 3:case 4:Qe=b.stateNode.containerInfo,Ot=!0;break e}b=b.return}if(Qe===null)throw Error(i(160));bg(f,y,d),Qe=null,Ot=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Sg(t,e),t=t.sibling}var ia=null;function Sg(e,t){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rt(t,e),Dt(e),l&4&&(tn(3,e,e.return),zs(3,e),tn(5,e,e.return));break;case 1:Rt(t,e),Dt(e),l&512&&(it||s===null||ma(s,s.return)),l&64&&Ta&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var d=ia;if(Rt(t,e),Dt(e),l&512&&(it||s===null||ma(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[us]||f[gt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),vt(f,l,s),f[gt]=e,dt(f),l=f;break e;case"link":var y=Sm("link","href",d).get(l+(s.href||""));if(y){for(var b=0;b<y.length;b++)if(f=y[b],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(b,1);break t}}f=d.createElement(l),vt(f,l,s),d.head.appendChild(f);break;case"meta":if(y=Sm("meta","content",d).get(l+(s.content||""))){for(b=0;b<y.length;b++)if(f=y[b],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(b,1);break t}}f=d.createElement(l),vt(f,l,s),d.head.appendChild(f);break;default:throw Error(i(468,l))}f[gt]=e,dt(f),l=f}e.stateNode=l}else _m(d,e.type,e.stateNode);else e.stateNode=wm(d,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?_m(d,e.type,e.stateNode):wm(d,l,e.memoizedProps)):l===null&&e.stateNode!==null&&nu(e,e.memoizedProps,s.memoizedProps)}break;case 27:Rt(t,e),Dt(e),l&512&&(it||s===null||ma(s,s.return)),s!==null&&l&4&&nu(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Rt(t,e),Dt(e),l&512&&(it||s===null||ma(s,s.return)),e.flags&32){d=e.stateNode;try{ar(d,"")}catch(ae){Ue(e,e.return,ae)}}l&4&&e.stateNode!=null&&(d=e.memoizedProps,nu(e,d,s!==null?s.memoizedProps:d)),l&1024&&(iu=!0);break;case 6:if(Rt(t,e),Dt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ae){Ue(e,e.return,ae)}}break;case 3:if(Dl=null,d=ia,ia=Ol(t.containerInfo),Rt(t,e),ia=d,Dt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Dr(t.containerInfo)}catch(ae){Ue(e,e.return,ae)}iu&&(iu=!1,_g(e));break;case 4:l=ia,ia=Ol(e.stateNode.containerInfo),Rt(t,e),Dt(e),ia=l;break;case 12:Rt(t,e),Dt(e);break;case 31:Rt(t,e),Dt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,yl(e,l)));break;case 13:Rt(t,e),Dt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(bl=ht()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,yl(e,l)));break;case 22:d=e.memoizedState!==null;var k=s!==null&&s.memoizedState!==null,M=Ta,V=it;if(Ta=M||d,it=V||k,Rt(t,e),it=V,Ta=M,Dt(e),l&8192)e:for(t=e.stateNode,t._visibility=d?t._visibility&-2:t._visibility|1,d&&(s===null||k||Ta||it||qn(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){k=s=t;try{if(f=k.stateNode,d)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=k.stateNode;var K=k.memoizedProps.style,$=K!=null&&K.hasOwnProperty("display")?K.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ae){Ue(k,k.return,ae)}}}else if(t.tag===6){if(s===null){k=t;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(ae){Ue(k,k.return,ae)}}}else if(t.tag===18){if(s===null){k=t;try{var B=k.stateNode;d?fm(B,!0):fm(k.stateNode,!1)}catch(ae){Ue(k,k.return,ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,yl(e,s))));break;case 19:Rt(t,e),Dt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,yl(e,l)));break;case 30:break;case 21:break;default:Rt(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{for(var s,l=e.return;l!==null;){if(gg(l)){s=l;break}l=l.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var d=s.stateNode,f=ru(e);pl(e,f,d);break;case 5:var y=s.stateNode;s.flags&32&&(ar(y,""),s.flags&=-33);var b=ru(e);pl(e,b,y);break;case 3:case 4:var k=s.stateNode.containerInfo,M=ru(e);su(e,M,k);break;default:throw Error(i(161))}}catch(V){Ue(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _g(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_g(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ra(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)yg(e,t.alternate,t),t=t.sibling}function qn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:tn(4,t,t.return),qn(t);break;case 1:ma(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&fg(t,t.return,s),qn(t);break;case 27:Ks(t.stateNode);case 26:case 5:ma(t,t.return),qn(t);break;case 22:t.memoizedState===null&&qn(t);break;case 30:qn(t);break;default:qn(t)}e=e.sibling}}function Da(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,d=e,f=t,y=f.flags;switch(f.tag){case 0:case 11:case 15:Da(d,f,s),zs(4,f);break;case 1:if(Da(d,f,s),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(M){Ue(l,l.return,M)}if(l=f,d=l.updateQueue,d!==null){var b=l.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)eh(k[d],b)}catch(M){Ue(l,l.return,M)}}s&&y&64&&dg(f),Ms(f,f.return);break;case 27:mg(f);case 26:case 5:Da(d,f,s),s&&l===null&&y&4&&hg(f),Ms(f,f.return);break;case 12:Da(d,f,s);break;case 31:Da(d,f,s),s&&y&4&&xg(d,f);break;case 13:Da(d,f,s),s&&y&4&&wg(d,f);break;case 22:f.memoizedState===null&&Da(d,f,s),Ms(f,f.return);break;case 30:break;default:Da(d,f,s)}t=t.sibling}}function lu(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&_s(s))}function ou(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_s(e))}function la(e,t,s,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jg(e,t,s,l),t=t.sibling}function jg(e,t,s,l){var d=t.flags;switch(t.tag){case 0:case 11:case 15:la(e,t,s,l),d&2048&&zs(9,t);break;case 1:la(e,t,s,l);break;case 3:la(e,t,s,l),d&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_s(e)));break;case 12:if(d&2048){la(e,t,s,l),e=t.stateNode;try{var f=t.memoizedProps,y=f.id,b=f.onPostCommit;typeof b=="function"&&b(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){Ue(t,t.return,k)}}else la(e,t,s,l);break;case 31:la(e,t,s,l);break;case 13:la(e,t,s,l);break;case 23:break;case 22:f=t.stateNode,y=t.alternate,t.memoizedState!==null?f._visibility&2?la(e,t,s,l):qs(e,t):f._visibility&2?la(e,t,s,l):(f._visibility|=2,Sr(e,t,s,l,(t.subtreeFlags&10256)!==0||!1)),d&2048&&lu(y,t);break;case 24:la(e,t,s,l),d&2048&&ou(t.alternate,t);break;default:la(e,t,s,l)}}function Sr(e,t,s,l,d){for(d=d&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,y=t,b=s,k=l,M=y.flags;switch(y.tag){case 0:case 11:case 15:Sr(f,y,b,k,d),zs(8,y);break;case 23:break;case 22:var V=y.stateNode;y.memoizedState!==null?V._visibility&2?Sr(f,y,b,k,d):qs(f,y):(V._visibility|=2,Sr(f,y,b,k,d)),d&&M&2048&&lu(y.alternate,y);break;case 24:Sr(f,y,b,k,d),d&&M&2048&&ou(y.alternate,y);break;default:Sr(f,y,b,k,d)}t=t.sibling}}function qs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,l=t,d=l.flags;switch(l.tag){case 22:qs(s,l),d&2048&&lu(l.alternate,l);break;case 24:qs(s,l),d&2048&&ou(l.alternate,l);break;default:qs(s,l)}t=t.sibling}}var $s=8192;function _r(e,t,s){if(e.subtreeFlags&$s)for(e=e.child;e!==null;)Ng(e,t,s),e=e.sibling}function Ng(e,t,s){switch(e.tag){case 26:_r(e,t,s),e.flags&$s&&e.memoizedState!==null&&sb(s,ia,e.memoizedState,e.memoizedProps);break;case 5:_r(e,t,s);break;case 3:case 4:var l=ia;ia=Ol(e.stateNode.containerInfo),_r(e,t,s),ia=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=$s,$s=16777216,_r(e,t,s),$s=l):_r(e,t,s));break;default:_r(e,t,s)}}function kg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Bs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];ft=l,Cg(l,e)}kg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ag(e),e=e.sibling}function Ag(e){switch(e.tag){case 0:case 11:case 15:Bs(e),e.flags&2048&&tn(9,e,e.return);break;case 3:Bs(e);break;case 12:Bs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,vl(e)):Bs(e);break;default:Bs(e)}}function vl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];ft=l,Cg(l,e)}kg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:tn(8,t,t.return),vl(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,vl(t));break;default:vl(t)}e=e.sibling}}function Cg(e,t){for(;ft!==null;){var s=ft;switch(s.tag){case 0:case 11:case 15:tn(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_s(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ft=l;else e:for(s=e;ft!==null;){l=ft;var d=l.sibling,f=l.return;if(vg(l),l===s){ft=null;break e}if(d!==null){d.return=f,ft=d;break e}ft=f}}}var xv={getCacheForType:function(e){var t=pt(nt),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return pt(nt).controller.signal}},wv=typeof WeakMap=="function"?WeakMap:Map,Re=0,Pe=null,Ne=null,Ae=0,Le=0,Bt=null,an=!1,jr=!1,cu=!1,La=0,Fe=0,nn=0,$n=0,uu=0,Vt=0,Nr=0,Vs=null,Lt=null,du=!1,bl=0,Eg=0,xl=1/0,wl=null,rn=null,ot=0,sn=null,kr=null,Ua=0,fu=0,hu=null,Tg=null,Ps=0,gu=null;function Pt(){return(Re&2)!==0&&Ae!==0?Ae&-Ae:U.T!==null?xu():Gd()}function Og(){if(Vt===0)if((Ae&536870912)===0||Ee){var e=wn;wn<<=1,(wn&3932160)===0&&(wn=262144),Vt=e}else Vt=536870912;return e=qt.current,e!==null&&(e.flags|=32),Vt}function Ut(e,t,s){(e===Pe&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(Ar(e,0),ln(e,Ae,Vt,!1)),cs(e,s),((Re&2)===0||e!==Pe)&&(e===Pe&&((Re&2)===0&&($n|=s),Fe===4&&ln(e,Ae,Vt,!1)),pa(e))}function Rg(e,t,s){if((Re&6)!==0)throw Error(i(327));var l=!s&&(t&127)===0&&(t&e.expiredLanes)===0||os(e,t),d=l?jv(e,t):pu(e,t,!0),f=l;do{if(d===0){jr&&!l&&ln(e,t,0,!1);break}else{if(s=e.current.alternate,f&&!Sv(s)){d=pu(e,t,!1),f=!1;continue}if(d===2){if(f=t,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var b=e;d=Vs;var k=b.current.memoizedState.isDehydrated;if(k&&(Ar(b,y).flags|=256),y=pu(b,y,!1),y!==2){if(cu&&!k){b.errorRecoveryDisabledLanes|=f,$n|=f,d=4;break e}f=Lt,Lt=d,f!==null&&(Lt===null?Lt=f:Lt.push.apply(Lt,f))}d=y}if(f=!1,d!==2)continue}}if(d===1){Ar(e,0),ln(e,t,0,!0);break}e:{switch(l=e,f=d,f){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:ln(l,t,Vt,!an);break e;case 2:Lt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(d=bl+300-ht(),10<d)){if(ln(l,t,Vt,!an),Oi(l,0,!0)!==0)break e;Ua=t,l.timeoutHandle=cm(Dg.bind(null,l,s,Lt,wl,du,t,Vt,$n,Nr,an,f,"Throttled",-0,0),d);break e}Dg(l,s,Lt,wl,du,t,Vt,$n,Nr,an,f,null,-0,0)}}break}while(!0);pa(e)}function Dg(e,t,s,l,d,f,y,b,k,M,V,K,$,B){if(e.timeoutHandle=-1,K=t.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xa},Ng(t,f,K);var ae=(f&62914560)===f?bl-ht():(f&4194048)===f?Eg-ht():0;if(ae=ib(K,ae),ae!==null){Ua=f,e.cancelPendingCommit=ae(Vg.bind(null,e,t,f,s,l,d,y,b,k,V,K,null,$,B)),ln(e,f,y,!M);return}}Vg(e,t,f,s,l,d,y,b,k)}function Sv(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var d=s[l],f=d.getSnapshot;d=d.value;try{if(!zt(f(),d))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t,s,l){t&=~uu,t&=~$n,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var d=t;0<d;){var f=31-Nt(d),y=1<<f;l[f]=-1,d&=~y}s!==0&&Pd(e,s,t)}function Sl(){return(Re&6)===0?(Is(0),!1):!0}function mu(){if(Ne!==null){if(Le===0)var e=Ne.return;else e=Ne,ja=Tn=null,Oc(e),yr=null,Ns=0,e=Ne;for(;e!==null;)ug(e.alternate,e),e=e.return;Ne=null}}function Ar(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Pv(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ua=0,mu(),Pe=e,Ne=s=Sa(e.current,null),Ae=t,Le=0,Bt=null,an=!1,jr=os(e,t),cu=!1,Nr=Vt=uu=$n=nn=Fe=0,Lt=Vs=null,du=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var d=31-Nt(l),f=1<<d;t|=e[d],l&=~f}return La=t,Ii(),s}function Lg(e,t){be=null,U.H=Ds,t===pr||t===Fi?(t=Xf(),Le=3):t===bc?(t=Xf(),Le=4):Le=t===Yc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bt=t,Ne===null&&(Fe=1,dl(e,Jt(t,e.current)))}function Ug(){var e=qt.current;return e===null?!0:(Ae&4194048)===Ae?Wt===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===Wt:!1}function zg(){var e=U.H;return U.H=Ds,e===null?Ds:e}function Mg(){var e=U.A;return U.A=xv,e}function _l(){Fe=4,an||(Ae&4194048)!==Ae&&qt.current!==null||(jr=!0),(nn&134217727)===0&&($n&134217727)===0||Pe===null||ln(Pe,Ae,Vt,!1)}function pu(e,t,s){var l=Re;Re|=2;var d=zg(),f=Mg();(Pe!==e||Ae!==t)&&(wl=null,Ar(e,t)),t=!1;var y=Fe;e:do try{if(Le!==0&&Ne!==null){var b=Ne,k=Bt;switch(Le){case 8:mu(),y=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(t=!0);var M=Le;if(Le=0,Bt=null,Cr(e,b,k,M),s&&jr){y=0;break e}break;default:M=Le,Le=0,Bt=null,Cr(e,b,k,M)}}_v(),y=Fe;break}catch(V){Lg(e,V)}while(!0);return t&&e.shellSuspendCounter++,ja=Tn=null,Re=l,U.H=d,U.A=f,Ne===null&&(Pe=null,Ae=0,Ii()),y}function _v(){for(;Ne!==null;)qg(Ne)}function jv(e,t){var s=Re;Re|=2;var l=zg(),d=Mg();Pe!==e||Ae!==t?(wl=null,xl=ht()+500,Ar(e,t)):jr=os(e,t);e:do try{if(Le!==0&&Ne!==null){t=Ne;var f=Bt;t:switch(Le){case 1:Le=0,Bt=null,Cr(e,t,f,1);break;case 2:case 9:if(Qf(f)){Le=0,Bt=null,$g(t);break}t=function(){Le!==2&&Le!==9||Pe!==e||(Le=7),pa(e)},f.then(t,t);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:Qf(f)?(Le=0,Bt=null,$g(t)):(Le=0,Bt=null,Cr(e,t,f,7));break;case 5:var y=null;switch(Ne.tag){case 26:y=Ne.memoizedState;case 5:case 27:var b=Ne;if(y?jm(y):b.stateNode.complete){Le=0,Bt=null;var k=b.sibling;if(k!==null)Ne=k;else{var M=b.return;M!==null?(Ne=M,jl(M)):Ne=null}break t}}Le=0,Bt=null,Cr(e,t,f,5);break;case 6:Le=0,Bt=null,Cr(e,t,f,6);break;case 8:mu(),Fe=6;break e;default:throw Error(i(462))}}Nv();break}catch(V){Lg(e,V)}while(!0);return ja=Tn=null,U.H=l,U.A=d,Re=s,Ne!==null?0:(Pe=null,Ae=0,Ii(),Fe)}function Nv(){for(;Ne!==null&&!Ni();)qg(Ne)}function qg(e){var t=og(e.alternate,e,La);e.memoizedProps=e.pendingProps,t===null?jl(e):Ne=t}function $g(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=ag(s,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=ag(s,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:Oc(t);default:ug(s,t),t=Ne=Mf(t,La),t=og(s,t,La)}e.memoizedProps=e.pendingProps,t===null?jl(e):Ne=t}function Cr(e,t,s,l){ja=Tn=null,Oc(t),yr=null,Ns=0;var d=t.return;try{if(hv(e,d,t,s,Ae)){Fe=1,dl(e,Jt(s,e.current)),Ne=null;return}}catch(f){if(d!==null)throw Ne=d,f;Fe=1,dl(e,Jt(s,e.current)),Ne=null;return}t.flags&32768?(Ee||l===1?e=!0:jr||(Ae&536870912)!==0?e=!1:(an=e=!0,(l===2||l===9||l===3||l===6)&&(l=qt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bg(t,e)):jl(t)}function jl(e){var t=e;do{if((t.flags&32768)!==0){Bg(t,an);return}e=t.return;var s=pv(t.alternate,t,La);if(s!==null){Ne=s;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Fe===0&&(Fe=5)}function Bg(e,t){do{var s=yv(e.alternate,e);if(s!==null){s.flags&=32767,Ne=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=s}while(e!==null);Fe=6,Ne=null}function Vg(e,t,s,l,d,f,y,b,k){e.cancelPendingCommit=null;do Nl();while(ot!==0);if((Re&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(f=t.lanes|t.childLanes,f|=rc,ry(e,s,f,y,b,k),e===Pe&&(Ne=Pe=null,Ae=0),kr=t,sn=e,Ua=s,fu=f,hu=d,Tg=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ev(Pa,function(){return Kg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,d=Q.p,Q.p=2,y=Re,Re|=4;try{vv(e,t,s)}finally{Re=y,Q.p=d,U.T=l}}ot=1,Pg(),Ig(),Hg()}}function Pg(){if(ot===1){ot=0;var e=sn,t=kr,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=U.T,U.T=null;var l=Q.p;Q.p=2;var d=Re;Re|=4;try{Sg(t,e);var f=Cu,y=Cf(e.containerInfo),b=f.focusedElem,k=f.selectionRange;if(y!==b&&b&&b.ownerDocument&&Af(b.ownerDocument.documentElement,b)){if(k!==null&&Wo(b)){var M=k.start,V=k.end;if(V===void 0&&(V=M),"selectionStart"in b)b.selectionStart=M,b.selectionEnd=Math.min(V,b.value.length);else{var K=b.ownerDocument||document,$=K&&K.defaultView||window;if($.getSelection){var B=$.getSelection(),ae=b.textContent.length,ue=Math.min(k.start,ae),Be=k.end===void 0?ue:Math.min(k.end,ae);!B.extend&&ue>Be&&(y=Be,Be=ue,ue=y);var L=kf(b,ue),C=kf(b,Be);if(L&&C&&(B.rangeCount!==1||B.anchorNode!==L.node||B.anchorOffset!==L.offset||B.focusNode!==C.node||B.focusOffset!==C.offset)){var z=K.createRange();z.setStart(L.node,L.offset),B.removeAllRanges(),ue>Be?(B.addRange(z),B.extend(C.node,C.offset)):(z.setEnd(C.node,C.offset),B.addRange(z))}}}}for(K=[],B=b;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<K.length;b++){var I=K[b];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Ml=!!Au,Cu=Au=null}finally{Re=d,Q.p=l,U.T=s}}e.current=t,ot=2}}function Ig(){if(ot===2){ot=0;var e=sn,t=kr,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=U.T,U.T=null;var l=Q.p;Q.p=2;var d=Re;Re|=4;try{yg(e,t.alternate,t)}finally{Re=d,Q.p=l,U.T=s}}ot=3}}function Hg(){if(ot===4||ot===3){ot=0,ss();var e=sn,t=kr,s=Ua,l=Tg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ot=5:(ot=0,kr=sn=null,Gg(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(rn=null),Lo(s),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Ia,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=U.T,d=Q.p,Q.p=2,U.T=null;try{for(var f=e.onRecoverableError,y=0;y<l.length;y++){var b=l[y];f(b.value,{componentStack:b.stack})}}finally{U.T=t,Q.p=d}}(Ua&3)!==0&&Nl(),pa(e),d=e.pendingLanes,(s&261930)!==0&&(d&42)!==0?e===gu?Ps++:(Ps=0,gu=e):Ps=0,Is(0)}}function Gg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_s(t)))}function Nl(){return Pg(),Ig(),Hg(),Kg()}function Kg(){if(ot!==5)return!1;var e=sn,t=fu;fu=0;var s=Lo(Ua),l=U.T,d=Q.p;try{Q.p=32>s?32:s,U.T=null,s=hu,hu=null;var f=sn,y=Ua;if(ot=0,kr=sn=null,Ua=0,(Re&6)!==0)throw Error(i(331));var b=Re;if(Re|=4,Ag(f.current),jg(f,f.current,y,s),Re=b,Is(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Ia,f)}catch{}return!0}finally{Q.p=d,U.T=l,Gg(e,t)}}function Yg(e,t,s){t=Jt(s,t),t=Kc(e.stateNode,t,2),e=Za(e,t,2),e!==null&&(cs(e,2),pa(e))}function Ue(e,t,s){if(e.tag===3)Yg(e,e,s);else for(;t!==null;){if(t.tag===3){Yg(t,e,s);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rn===null||!rn.has(l))){e=Jt(s,e),s=Qh(2),l=Za(t,s,2),l!==null&&(Jh(s,l,t,e),cs(l,2),pa(l));break}}t=t.return}}function yu(e,t,s){var l=e.pingCache;if(l===null){l=e.pingCache=new wv;var d=new Set;l.set(t,d)}else d=l.get(t),d===void 0&&(d=new Set,l.set(t,d));d.has(s)||(cu=!0,d.add(s),e=kv.bind(null,e,t,s),t.then(e,e))}function kv(e,t,s){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Pe===e&&(Ae&s)===s&&(Fe===4||Fe===3&&(Ae&62914560)===Ae&&300>ht()-bl?(Re&2)===0&&Ar(e,0):uu|=s,Nr===Ae&&(Nr=0)),pa(e)}function Qg(e,t){t===0&&(t=Vd()),e=An(e,t),e!==null&&(cs(e,t),pa(e))}function Av(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Qg(e,s)}function Cv(e,t){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Qg(e,s)}function Ev(e,t){return Qn(e,t)}var kl=null,Er=null,vu=!1,Al=!1,bu=!1,on=0;function pa(e){e!==Er&&e.next===null&&(Er===null?kl=Er=e:Er=Er.next=e),Al=!0,vu||(vu=!0,Ov())}function Is(e,t){if(!bu&&Al){bu=!0;do for(var s=!1,l=kl;l!==null;){if(e!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var y=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-Nt(42|e)+1)-1,f&=d&~(y&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Zg(l,f))}else f=Ae,f=Oi(l,l===Pe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||os(l,f)||(s=!0,Zg(l,f));l=l.next}while(s);bu=!1}}function Tv(){Jg()}function Jg(){Al=vu=!1;var e=0;on!==0&&Vv()&&(e=on);for(var t=ht(),s=null,l=kl;l!==null;){var d=l.next,f=Xg(l,t);f===0?(l.next=null,s===null?kl=d:s.next=d,d===null&&(Er=s)):(s=l,(e!==0||(f&3)!==0)&&(Al=!0)),l=d}ot!==0&&ot!==5||Is(e),on!==0&&(on=0)}function Xg(e,t){for(var s=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Nt(f),b=1<<y,k=d[y];k===-1?((b&s)===0||(b&l)!==0)&&(d[y]=ny(b,t)):k<=t&&(e.expiredLanes|=b),f&=~b}if(t=Pe,s=Ae,s=Oi(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===t&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&rs(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||os(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(l!==null&&rs(l),Lo(s)){case 2:case 8:s=xn;break;case 32:s=Pa;break;case 268435456:s=ls;break;default:s=Pa}return l=Fg.bind(null,e),s=Qn(s,l),e.callbackPriority=t,e.callbackNode=s,t}return l!==null&&l!==null&&rs(l),e.callbackPriority=2,e.callbackNode=null,2}function Fg(e,t){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Nl()&&e.callbackNode!==s)return null;var l=Ae;return l=Oi(e,e===Pe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Rg(e,l,t),Xg(e,ht()),e.callbackNode!=null&&e.callbackNode===s?Fg.bind(null,e):null)}function Zg(e,t){if(Nl())return null;Rg(e,t,!0)}function Ov(){Iv(function(){(Re&6)!==0?Qn(To,Tv):Jg()})}function xu(){if(on===0){var e=gr;e===0&&(e=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),on=e}return on}function Wg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ui(""+e)}function em(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function Rv(e,t,s,l,d){if(t==="submit"&&s&&s.stateNode===d){var f=Wg((d[Et]||null).action),y=l.submitter;y&&(t=(t=y[Et]||null)?Wg(t.formAction):y.getAttribute("formAction"),t!==null&&(f=t,y=null));var b=new $i("action","action",null,l,d);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(on!==0){var k=y?em(d,y):new FormData(d);Bc(s,{pending:!0,data:k,method:d.method,action:f},null,k)}}else typeof f=="function"&&(b.preventDefault(),k=y?em(d,y):new FormData(d),Bc(s,{pending:!0,data:k,method:d.method,action:f},f,k))},currentTarget:d}]})}}for(var wu=0;wu<nc.length;wu++){var Su=nc[wu],Dv=Su.toLowerCase(),Lv=Su[0].toUpperCase()+Su.slice(1);sa(Dv,"on"+Lv)}sa(Of,"onAnimationEnd"),sa(Rf,"onAnimationIteration"),sa(Df,"onAnimationStart"),sa("dblclick","onDoubleClick"),sa("focusin","onFocus"),sa("focusout","onBlur"),sa(Xy,"onTransitionRun"),sa(Fy,"onTransitionStart"),sa(Zy,"onTransitionCancel"),sa(Lf,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hs));function tm(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],d=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var y=l.length-1;0<=y;y--){var b=l[y],k=b.instance,M=b.currentTarget;if(b=b.listener,k!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=M;try{f(d)}catch(V){Pi(V)}d.currentTarget=null,f=k}else for(y=0;y<l.length;y++){if(b=l[y],k=b.instance,M=b.currentTarget,b=b.listener,k!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=M;try{f(d)}catch(V){Pi(V)}d.currentTarget=null,f=k}}}}function ke(e,t){var s=t[Uo];s===void 0&&(s=t[Uo]=new Set);var l=e+"__bubble";s.has(l)||(am(t,e,2,!1),s.add(l))}function _u(e,t,s){var l=0;t&&(l|=4),am(s,e,l,t)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function ju(e){if(!e[Cl]){e[Cl]=!0,Qd.forEach(function(s){s!=="selectionchange"&&(Uv.has(s)||_u(s,!1,e),_u(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cl]||(t[Cl]=!0,_u("selectionchange",!1,t))}}function am(e,t,s,l){switch(Om(t)){case 2:var d=cb;break;case 8:d=ub;break;default:d=$u}s=d.bind(null,t,s,e),d=void 0,!Ho||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(t,s,{capture:!0,passive:d}):e.addEventListener(t,s,!0):d!==void 0?e.addEventListener(t,s,{passive:d}):e.addEventListener(t,s,!1)}function Nu(e,t,s,l,d){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var b=l.stateNode.containerInfo;if(b===d)break;if(y===4)for(y=l.return;y!==null;){var k=y.tag;if((k===3||k===4)&&y.stateNode.containerInfo===d)return;y=y.return}for(;b!==null;){if(y=Fn(b),y===null)return;if(k=y.tag,k===5||k===6||k===26||k===27){l=f=y;continue e}b=b.parentNode}}l=l.return}lf(function(){var M=f,V=Po(s),K=[];e:{var $=Uf.get(e);if($!==void 0){var B=$i,ae=e;switch(e){case"keypress":if(Mi(s)===0)break e;case"keydown":case"keyup":B=Cy;break;case"focusin":ae="focus",B=Qo;break;case"focusout":ae="blur",B=Qo;break;case"beforeblur":case"afterblur":B=Qo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=uf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=py;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Oy;break;case Of:case Rf:case Df:B=by;break;case Lf:B=Dy;break;case"scroll":case"scrollend":B=gy;break;case"wheel":B=Uy;break;case"copy":case"cut":case"paste":B=wy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=ff;break;case"toggle":case"beforetoggle":B=My}var ue=(t&4)!==0,Be=!ue&&(e==="scroll"||e==="scrollend"),L=ue?$!==null?$+"Capture":null:$;ue=[];for(var C=M,z;C!==null;){var I=C;if(z=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||z===null||L===null||(I=fs(C,L),I!=null&&ue.push(Gs(C,I,z))),Be)break;C=C.return}0<ue.length&&($=new B($,ae,null,s,V),K.push({event:$,listeners:ue}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",$&&s!==Vo&&(ae=s.relatedTarget||s.fromElement)&&(Fn(ae)||ae[Xn]))break e;if((B||$)&&($=V.window===V?V:($=V.ownerDocument)?$.defaultView||$.parentWindow:window,B?(ae=s.relatedTarget||s.toElement,B=M,ae=ae?Fn(ae):null,ae!==null&&(Be=c(ae),ue=ae.tag,ae!==Be||ue!==5&&ue!==27&&ue!==6)&&(ae=null)):(B=null,ae=M),B!==ae)){if(ue=uf,I="onMouseLeave",L="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(ue=ff,I="onPointerLeave",L="onPointerEnter",C="pointer"),Be=B==null?$:ds(B),z=ae==null?$:ds(ae),$=new ue(I,C+"leave",B,s,V),$.target=Be,$.relatedTarget=z,I=null,Fn(V)===M&&(ue=new ue(L,C+"enter",ae,s,V),ue.target=z,ue.relatedTarget=Be,I=ue),Be=I,B&&ae)t:{for(ue=zv,L=B,C=ae,z=0,I=L;I;I=ue(I))z++;I=0;for(var ie=C;ie;ie=ue(ie))I++;for(;0<z-I;)L=ue(L),z--;for(;0<I-z;)C=ue(C),I--;for(;z--;){if(L===C||C!==null&&L===C.alternate){ue=L;break t}L=ue(L),C=ue(C)}ue=null}else ue=null;B!==null&&nm(K,$,B,ue,!1),ae!==null&&Be!==null&&nm(K,Be,ae,ue,!0)}}e:{if($=M?ds(M):window,B=$.nodeName&&$.nodeName.toLowerCase(),B==="select"||B==="input"&&$.type==="file")var Te=xf;else if(vf($))if(wf)Te=Yy;else{Te=Gy;var re=Hy}else B=$.nodeName,!B||B.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?M&&Bo(M.elementType)&&(Te=xf):Te=Ky;if(Te&&(Te=Te(e,M))){bf(K,Te,s,V);break e}re&&re(e,$,M),e==="focusout"&&M&&$.type==="number"&&M.memoizedProps.value!=null&&$o($,"number",$.value)}switch(re=M?ds(M):window,e){case"focusin":(vf(re)||re.contentEditable==="true")&&(ir=re,ec=M,xs=null);break;case"focusout":xs=ec=ir=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,Ef(K,s,V);break;case"selectionchange":if(Jy)break;case"keydown":case"keyup":Ef(K,s,V)}var xe;if(Xo)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else sr?pf(e,s)&&(Ce="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ce="onCompositionStart");Ce&&(hf&&s.locale!=="ko"&&(sr||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&sr&&(xe=of()):(Ga=V,Go="value"in Ga?Ga.value:Ga.textContent,sr=!0)),re=El(M,Ce),0<re.length&&(Ce=new df(Ce,e,null,s,V),K.push({event:Ce,listeners:re}),xe?Ce.data=xe:(xe=yf(s),xe!==null&&(Ce.data=xe)))),(xe=$y?By(e,s):Vy(e,s))&&(Ce=El(M,"onBeforeInput"),0<Ce.length&&(re=new df("onBeforeInput","beforeinput",null,s,V),K.push({event:re,listeners:Ce}),re.data=xe)),Rv(K,e,M,s,V)}tm(K,t)})}function Gs(e,t,s){return{instance:e,listener:t,currentTarget:s}}function El(e,t){for(var s=t+"Capture",l=[];e!==null;){var d=e,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=fs(e,s),d!=null&&l.unshift(Gs(e,d,f)),d=fs(e,t),d!=null&&l.push(Gs(e,d,f))),e.tag===3)return l;e=e.return}return[]}function zv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function nm(e,t,s,l,d){for(var f=t._reactName,y=[];s!==null&&s!==l;){var b=s,k=b.alternate,M=b.stateNode;if(b=b.tag,k!==null&&k===l)break;b!==5&&b!==26&&b!==27||M===null||(k=M,d?(M=fs(s,f),M!=null&&y.unshift(Gs(s,M,k))):d||(M=fs(s,f),M!=null&&y.push(Gs(s,M,k)))),s=s.return}y.length!==0&&e.push({event:t,listeners:y})}var Mv=/\r\n?/g,qv=/\u0000|\uFFFD/g;function rm(e){return(typeof e=="string"?e:""+e).replace(Mv,`
`).replace(qv,"")}function sm(e,t){return t=rm(t),rm(e)===t}function $e(e,t,s,l,d,f){switch(s){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ar(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ar(e,""+l);break;case"className":Di(e,"class",l);break;case"tabIndex":Di(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Di(e,s,l);break;case"style":rf(e,l,f);break;case"data":if(t!=="object"){Di(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ui(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(t!=="input"&&$e(e,t,"name",d.name,d,null),$e(e,t,"formEncType",d.formEncType,d,null),$e(e,t,"formMethod",d.formMethod,d,null),$e(e,t,"formTarget",d.formTarget,d,null)):($e(e,t,"encType",d.encType,d,null),$e(e,t,"method",d.method,d,null),$e(e,t,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ui(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=xa);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Ui(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":ke("beforetoggle",e),ke("toggle",e),Ri(e,"popover",l);break;case"xlinkActuate":ba(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ba(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ba(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ba(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ba(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ba(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ba(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ba(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ba(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ri(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fy.get(s)||s,Ri(e,s,l))}}function ku(e,t,s,l,d,f){switch(s){case"style":rf(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"children":typeof l=="string"?ar(e,l):(typeof l=="number"||typeof l=="bigint")&&ar(e,""+l);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"onClick":l!=null&&(e.onclick=xa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),t=s.slice(2,d?s.length-7:void 0),f=e[Et]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(t,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,l,d);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Ri(e,s,l)}}}function vt(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var l=!1,d=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:$e(e,t,f,y,s,null)}}d&&$e(e,t,"srcSet",s.srcSet,s,null),l&&$e(e,t,"src",s.src,s,null);return;case"input":ke("invalid",e);var b=f=y=d=null,k=null,M=null;for(l in s)if(s.hasOwnProperty(l)){var V=s[l];if(V!=null)switch(l){case"name":d=V;break;case"type":y=V;break;case"checked":k=V;break;case"defaultChecked":M=V;break;case"value":f=V;break;case"defaultValue":b=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,t));break;default:$e(e,t,l,V,s,null)}}ef(e,f,b,k,M,y,d,!1);return;case"select":ke("invalid",e),l=y=f=null;for(d in s)if(s.hasOwnProperty(d)&&(b=s[d],b!=null))switch(d){case"value":f=b;break;case"defaultValue":y=b;break;case"multiple":l=b;default:$e(e,t,d,b,s,null)}t=f,s=y,e.multiple=!!l,t!=null?tr(e,!!l,t,!1):s!=null&&tr(e,!!l,s,!0);return;case"textarea":ke("invalid",e),f=d=l=null;for(y in s)if(s.hasOwnProperty(y)&&(b=s[y],b!=null))switch(y){case"value":l=b;break;case"defaultValue":d=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:$e(e,t,y,b,s,null)}af(e,l,d,f);return;case"option":for(k in s)if(s.hasOwnProperty(k)&&(l=s[k],l!=null))switch(k){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(e,t,k,l,s,null)}return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(l=0;l<Hs.length;l++)ke(Hs[l],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in s)if(s.hasOwnProperty(M)&&(l=s[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:$e(e,t,M,l,s,null)}return;default:if(Bo(t)){for(V in s)s.hasOwnProperty(V)&&(l=s[V],l!==void 0&&ku(e,t,V,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&$e(e,t,b,l,s,null))}function $v(e,t,s,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,y=null,b=null,k=null,M=null,V=null;for(B in s){var K=s[B];if(s.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":k=K;default:l.hasOwnProperty(B)||$e(e,t,B,null,l,K)}}for(var $ in l){var B=l[$];if(K=s[$],l.hasOwnProperty($)&&(B!=null||K!=null))switch($){case"type":f=B;break;case"name":d=B;break;case"checked":M=B;break;case"defaultChecked":V=B;break;case"value":y=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,t));break;default:B!==K&&$e(e,t,$,B,l,K)}}qo(e,y,b,k,M,V,f,d);return;case"select":B=y=b=$=null;for(f in s)if(k=s[f],s.hasOwnProperty(f)&&k!=null)switch(f){case"value":break;case"multiple":B=k;default:l.hasOwnProperty(f)||$e(e,t,f,null,l,k)}for(d in l)if(f=l[d],k=s[d],l.hasOwnProperty(d)&&(f!=null||k!=null))switch(d){case"value":$=f;break;case"defaultValue":b=f;break;case"multiple":y=f;default:f!==k&&$e(e,t,d,f,l,k)}t=b,s=y,l=B,$!=null?tr(e,!!s,$,!1):!!l!=!!s&&(t!=null?tr(e,!!s,t,!0):tr(e,!!s,s?[]:"",!1));return;case"textarea":B=$=null;for(b in s)if(d=s[b],s.hasOwnProperty(b)&&d!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:$e(e,t,b,null,l,d)}for(y in l)if(d=l[y],f=s[y],l.hasOwnProperty(y)&&(d!=null||f!=null))switch(y){case"value":$=d;break;case"defaultValue":B=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==f&&$e(e,t,y,d,l,f)}tf(e,$,B);return;case"option":for(var ae in s)if($=s[ae],s.hasOwnProperty(ae)&&$!=null&&!l.hasOwnProperty(ae))switch(ae){case"selected":e.selected=!1;break;default:$e(e,t,ae,null,l,$)}for(k in l)if($=l[k],B=s[k],l.hasOwnProperty(k)&&$!==B&&($!=null||B!=null))switch(k){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:$e(e,t,k,$,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in s)$=s[ue],s.hasOwnProperty(ue)&&$!=null&&!l.hasOwnProperty(ue)&&$e(e,t,ue,null,l,$);for(M in l)if($=l[M],B=s[M],l.hasOwnProperty(M)&&$!==B&&($!=null||B!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,t));break;default:$e(e,t,M,$,l,B)}return;default:if(Bo(t)){for(var Be in s)$=s[Be],s.hasOwnProperty(Be)&&$!==void 0&&!l.hasOwnProperty(Be)&&ku(e,t,Be,void 0,l,$);for(V in l)$=l[V],B=s[V],!l.hasOwnProperty(V)||$===B||$===void 0&&B===void 0||ku(e,t,V,$,l,B);return}}for(var L in s)$=s[L],s.hasOwnProperty(L)&&$!=null&&!l.hasOwnProperty(L)&&$e(e,t,L,null,l,$);for(K in l)$=l[K],B=s[K],!l.hasOwnProperty(K)||$===B||$==null&&B==null||$e(e,t,K,$,l,B)}function im(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var d=s[l],f=d.transferSize,y=d.initiatorType,b=d.duration;if(f&&b&&im(y)){for(y=0,b=d.responseEnd,l+=1;l<s.length;l++){var k=s[l],M=k.startTime;if(M>b)break;var V=k.transferSize,K=k.initiatorType;V&&im(K)&&(k=k.responseEnd,y+=V*(k<b?1:(b-M)/(k-M)))}if(--l,t+=8*(f+y)/(d.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Au=null,Cu=null;function Tl(e){return e.nodeType===9?e:e.ownerDocument}function lm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function om(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Eu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tu=null;function Vv(){var e=window.event;return e&&e.type==="popstate"?e===Tu?!1:(Tu=e,!0):(Tu=null,!1)}var cm=typeof setTimeout=="function"?setTimeout:void 0,Pv=typeof clearTimeout=="function"?clearTimeout:void 0,um=typeof Promise=="function"?Promise:void 0,Iv=typeof queueMicrotask=="function"?queueMicrotask:typeof um<"u"?function(e){return um.resolve(null).then(e).catch(Hv)}:cm;function Hv(e){setTimeout(function(){throw e})}function cn(e){return e==="head"}function dm(e,t){var s=t,l=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(d),Dr(t);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Ks(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Ks(s);for(var f=s.firstChild;f;){var y=f.nextSibling,b=f.nodeName;f[us]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&Ks(e.ownerDocument.body);s=d}while(s);Dr(t)}function fm(e,t){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Ou(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ou(s),zo(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Gv(e,t,s,l){for(;e.nodeType===1;){var d=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[us])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ea(e.nextSibling),e===null)break}return null}function Kv(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ea(e.nextSibling),e===null))return null;return e}function hm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ea(e.nextSibling),e===null))return null;return e}function Ru(e){return e.data==="$?"||e.data==="$~"}function Du(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Yv(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var l=function(){t(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Lu=null;function gm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return ea(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function mm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function pm(e,t,s){switch(t=Tl(s),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ks(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);zo(e)}var ta=new Map,ym=new Set;function Ol(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var za=Q.d;Q.d={f:Qv,r:Jv,D:Xv,C:Fv,L:Zv,m:Wv,X:tb,S:eb,M:ab};function Qv(){var e=za.f(),t=Sl();return e||t}function Jv(e){var t=Zn(e);t!==null&&t.tag===5&&t.type==="form"?Lh(t):za.r(e)}var Tr=typeof document>"u"?null:document;function vm(e,t,s){var l=Tr;if(l&&typeof t=="string"&&t){var d=Yt(t);d='link[rel="'+e+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),ym.has(d)||(ym.add(d),e={rel:e,crossOrigin:s,href:t},l.querySelector(d)===null&&(t=l.createElement("link"),vt(t,"link",e),dt(t),l.head.appendChild(t)))}}function Xv(e){za.D(e),vm("dns-prefetch",e,null)}function Fv(e,t){za.C(e,t),vm("preconnect",e,t)}function Zv(e,t,s){za.L(e,t,s);var l=Tr;if(l&&e&&t){var d='link[rel="preload"][as="'+Yt(t)+'"]';t==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Yt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Yt(s.imageSizes)+'"]')):d+='[href="'+Yt(e)+'"]';var f=d;switch(t){case"style":f=Or(e);break;case"script":f=Rr(e)}ta.has(f)||(e=w({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),ta.set(f,e),l.querySelector(d)!==null||t==="style"&&l.querySelector(Ys(f))||t==="script"&&l.querySelector(Qs(f))||(t=l.createElement("link"),vt(t,"link",e),dt(t),l.head.appendChild(t)))}}function Wv(e,t){za.m(e,t);var s=Tr;if(s&&e){var l=t&&typeof t.as=="string"?t.as:"script",d='link[rel="modulepreload"][as="'+Yt(l)+'"][href="'+Yt(e)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Rr(e)}if(!ta.has(f)&&(e=w({rel:"modulepreload",href:e},t),ta.set(f,e),s.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Qs(f)))return}l=s.createElement("link"),vt(l,"link",e),dt(l),s.head.appendChild(l)}}}function eb(e,t,s){za.S(e,t,s);var l=Tr;if(l&&e){var d=Wn(l).hoistableStyles,f=Or(e);t=t||"default";var y=d.get(f);if(!y){var b={loading:0,preload:null};if(y=l.querySelector(Ys(f)))b.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},s),(s=ta.get(f))&&Uu(e,s);var k=y=l.createElement("link");dt(k),vt(k,"link",e),k._p=new Promise(function(M,V){k.onload=M,k.onerror=V}),k.addEventListener("load",function(){b.loading|=1}),k.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Rl(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:b},d.set(f,y)}}}function tb(e,t){za.X(e,t);var s=Tr;if(s&&e){var l=Wn(s).hoistableScripts,d=Rr(e),f=l.get(d);f||(f=s.querySelector(Qs(d)),f||(e=w({src:e,async:!0},t),(t=ta.get(d))&&zu(e,t),f=s.createElement("script"),dt(f),vt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function ab(e,t){za.M(e,t);var s=Tr;if(s&&e){var l=Wn(s).hoistableScripts,d=Rr(e),f=l.get(d);f||(f=s.querySelector(Qs(d)),f||(e=w({src:e,async:!0,type:"module"},t),(t=ta.get(d))&&zu(e,t),f=s.createElement("script"),dt(f),vt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function bm(e,t,s,l){var d=(d=ve.current)?Ol(d):null;if(!d)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=Or(s.href),s=Wn(d).hoistableStyles,l=s.get(t),l||(l={type:"style",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Or(s.href);var f=Wn(d).hoistableStyles,y=f.get(e);if(y||(d=d.ownerDocument||d,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=d.querySelector(Ys(e)))&&!f._p&&(y.instance=f,y.state.loading=5),ta.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ta.set(e,s),f||nb(d,e,s,y.state))),t&&l===null)throw Error(i(528,""));return y}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Rr(s),s=Wn(d).hoistableScripts,l=s.get(t),l||(l={type:"script",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Or(e){return'href="'+Yt(e)+'"'}function Ys(e){return'link[rel="stylesheet"]['+e+"]"}function xm(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function nb(e,t,s,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),vt(t,"link",s),dt(t),e.head.appendChild(t))}function Rr(e){return'[src="'+Yt(e)+'"]'}function Qs(e){return"script[async]"+e}function wm(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Yt(s.href)+'"]');if(l)return t.instance=l,dt(l),l;var d=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),dt(l),vt(l,"style",d),Rl(l,s.precedence,e),t.instance=l;case"stylesheet":d=Or(s.href);var f=e.querySelector(Ys(d));if(f)return t.state.loading|=4,t.instance=f,dt(f),f;l=xm(s),(d=ta.get(d))&&Uu(l,d),f=(e.ownerDocument||e).createElement("link"),dt(f);var y=f;return y._p=new Promise(function(b,k){y.onload=b,y.onerror=k}),vt(f,"link",l),t.state.loading|=4,Rl(f,s.precedence,e),t.instance=f;case"script":return f=Rr(s.src),(d=e.querySelector(Qs(f)))?(t.instance=d,dt(d),d):(l=s,(d=ta.get(f))&&(l=w({},s),zu(l,d)),e=e.ownerDocument||e,d=e.createElement("script"),dt(d),vt(d,"link",l),e.head.appendChild(d),t.instance=d);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Rl(l,s.precedence,e));return t.instance}function Rl(e,t,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,y=0;y<l.length;y++){var b=l[y];if(b.dataset.precedence===t)f=b;else if(f!==d)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function Uu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function zu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Dl=null;function Sm(e,t,s){if(Dl===null){var l=new Map,d=Dl=new Map;d.set(s,l)}else d=Dl,l=d.get(s),l||(l=new Map,d.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),d=0;d<s.length;d++){var f=s[d];if(!(f[us]||f[gt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(t)||"";y=e+y;var b=l.get(y);b?b.push(f):l.set(y,[f])}}return l}function _m(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function rb(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function sb(e,t,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Or(l.href),f=t.querySelector(Ys(d));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ll.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=f,dt(f);return}f=t.ownerDocument||t,l=xm(l),(d=ta.get(d))&&Uu(l,d),f=f.createElement("link"),dt(f);var y=f;y._p=new Promise(function(b,k){y.onload=b,y.onerror=k}),vt(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Ll.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var Mu=0;function ib(e,t){return e.stylesheets&&e.count===0&&zl(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&zl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&Mu===0&&(Mu=62500*Bv());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Mu?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Ll(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ul=null;function zl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ul=new Map,t.forEach(lb,e),Ul=null,Ll.call(e))}function lb(e,t){if(!(t.state.loading&4)){var s=Ul.get(e);if(s)var l=s.get(null);else{s=new Map,Ul.set(e,s);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var y=d[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}d=t.instance,y=d.getAttribute("data-precedence"),f=s.get(y)||l,f===l&&s.set(null,d),s.set(y,d),this.count++,l=Ll.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),t.state.loading|=4}}var Js={$$typeof:T,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function ob(e,t,s,l,d,f,y,b,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ro(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ro(0),this.hiddenUpdates=Ro(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Nm(e,t,s,l,d,f,y,b,k,M,V,K){return e=new ob(e,t,s,y,k,M,V,K,b),t=1,f===!0&&(t|=24),f=Mt(3,null,null,t),e.current=f,f.stateNode=e,t=pc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:t},xc(f),e}function km(e){return e?(e=cr,e):cr}function Am(e,t,s,l,d,f){d=km(d),l.context===null?l.context=d:l.pendingContext=d,l=Fa(t),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Za(e,l,t),s!==null&&(Ut(s,e,t),As(s,e,t))}function Cm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function qu(e,t){Cm(e,t),(e=e.alternate)&&Cm(e,t)}function Em(e){if(e.tag===13||e.tag===31){var t=An(e,67108864);t!==null&&Ut(t,e,67108864),qu(e,67108864)}}function Tm(e){if(e.tag===13||e.tag===31){var t=Pt();t=Do(t);var s=An(e,t);s!==null&&Ut(s,e,t),qu(e,t)}}var Ml=!0;function cb(e,t,s,l){var d=U.T;U.T=null;var f=Q.p;try{Q.p=2,$u(e,t,s,l)}finally{Q.p=f,U.T=d}}function ub(e,t,s,l){var d=U.T;U.T=null;var f=Q.p;try{Q.p=8,$u(e,t,s,l)}finally{Q.p=f,U.T=d}}function $u(e,t,s,l){if(Ml){var d=Bu(l);if(d===null)Nu(e,t,l,ql,s),Rm(e,l);else if(fb(d,e,t,s,l))l.stopPropagation();else if(Rm(e,l),t&4&&-1<db.indexOf(e)){for(;d!==null;){var f=Zn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Sn(f.pendingLanes);if(y!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var k=1<<31-Nt(y);b.entanglements[1]|=k,y&=~k}pa(f),(Re&6)===0&&(xl=ht()+500,Is(0))}}break;case 31:case 13:b=An(f,2),b!==null&&Ut(b,f,2),Sl(),qu(f,2)}if(f=Bu(l),f===null&&Nu(e,t,l,ql,s),f===d)break;d=f}d!==null&&l.stopPropagation()}else Nu(e,t,l,null,s)}}function Bu(e){return e=Po(e),Vu(e)}var ql=null;function Vu(e){if(ql=null,e=Fn(e),e!==null){var t=c(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=h(t),e!==null)return e;e=null}else if(s===31){if(e=g(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ql=e,null}function Om(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ki()){case To:return 2;case xn:return 8;case Pa:case is:return 32;case ls:return 268435456;default:return 32}default:return 32}}var Pu=!1,un=null,dn=null,fn=null,Xs=new Map,Fs=new Map,hn=[],db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rm(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Xs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(t.pointerId)}}function Zs(e,t,s,l,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},t!==null&&(t=Zn(t),t!==null&&Em(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function fb(e,t,s,l,d){switch(t){case"focusin":return un=Zs(un,e,t,s,l,d),!0;case"dragenter":return dn=Zs(dn,e,t,s,l,d),!0;case"mouseover":return fn=Zs(fn,e,t,s,l,d),!0;case"pointerover":var f=d.pointerId;return Xs.set(f,Zs(Xs.get(f)||null,e,t,s,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Fs.set(f,Zs(Fs.get(f)||null,e,t,s,l,d)),!0}return!1}function Dm(e){var t=Fn(e.target);if(t!==null){var s=c(t);if(s!==null){if(t=s.tag,t===13){if(t=h(s),t!==null){e.blockedOn=t,Kd(e.priority,function(){Tm(s)});return}}else if(t===31){if(t=g(s),t!==null){e.blockedOn=t,Kd(e.priority,function(){Tm(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $l(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Bu(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Vo=l,s.target.dispatchEvent(l),Vo=null}else return t=Zn(s),t!==null&&Em(t),e.blockedOn=s,!1;t.shift()}return!0}function Lm(e,t,s){$l(e)&&s.delete(t)}function hb(){Pu=!1,un!==null&&$l(un)&&(un=null),dn!==null&&$l(dn)&&(dn=null),fn!==null&&$l(fn)&&(fn=null),Xs.forEach(Lm),Fs.forEach(Lm)}function Bl(e,t){e.blockedOn===t&&(e.blockedOn=null,Pu||(Pu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hb)))}var Vl=null;function Um(e){Vl!==e&&(Vl=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vl===e&&(Vl=null);for(var t=0;t<e.length;t+=3){var s=e[t],l=e[t+1],d=e[t+2];if(typeof l!="function"){if(Vu(l||s)===null)continue;break}var f=Zn(s);f!==null&&(e.splice(t,3),t-=3,Bc(f,{pending:!0,data:d,method:s.method,action:l},l,d))}}))}function Dr(e){function t(k){return Bl(k,e)}un!==null&&Bl(un,e),dn!==null&&Bl(dn,e),fn!==null&&Bl(fn,e),Xs.forEach(t),Fs.forEach(t);for(var s=0;s<hn.length;s++){var l=hn[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<hn.length&&(s=hn[0],s.blockedOn===null);)Dm(s),s.blockedOn===null&&hn.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var d=s[l],f=s[l+1],y=d[Et]||null;if(typeof f=="function")y||Um(s);else if(y){var b=null;if(f&&f.hasAttribute("formAction")){if(d=f,y=f[Et]||null)b=y.formAction;else if(Vu(d)!==null)continue}else b=y.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),Um(s)}}}function zm(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return d=y})},focusReset:"manual",scroll:"manual"})}function t(){d!==null&&(d(),d=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),d!==null&&(d(),d=null)}}}function Iu(e){this._internalRoot=e}Pl.prototype.render=Iu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var s=t.current,l=Pt();Am(s,l,e,t,null,null)},Pl.prototype.unmount=Iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Am(e.current,2,null,e,null,null),Sl(),t[Xn]=null}};function Pl(e){this._internalRoot=e}Pl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gd();e={blockedOn:null,target:e,priority:t};for(var s=0;s<hn.length&&t!==0&&t<hn[s].priority;s++);hn.splice(s,0,e),s===0&&Dm(e)}};var Mm=a.version;if(Mm!=="19.2.3")throw Error(i(527,Mm,"19.2.3"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var gb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{Ia=Il.inject(gb),wt=Il}catch{}}return ei.createRoot=function(e,t){if(!o(e))throw Error(i(299));var s=!1,l="",d=Hh,f=Gh,y=Kh;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(d=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=Nm(e,1,!1,null,null,s,l,null,d,f,y,zm),e[Xn]=t.current,ju(e),new Iu(t)},ei.hydrateRoot=function(e,t,s){if(!o(e))throw Error(i(299));var l=!1,d="",f=Hh,y=Gh,b=Kh,k=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(k=s.formState)),t=Nm(e,1,!0,t,s??null,l,d,k,f,y,b,zm),t.context=km(null),s=t.current,l=Pt(),l=Do(l),d=Fa(l),d.callback=null,Za(s,d,l),s=l,t.current.lanes=s,cs(t,s),pa(t),e[Xn]=t.current,ju(e),new Pl(t)},ei.version="19.2.3",ei}var Ym;function Nb(){if(Ym)return Ku.exports;Ym=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Ku.exports=jb(),Ku.exports}var kb=Nb();const Qm=n=>Symbol.iterator in n,Jm=n=>"entries"in n,Xm=(n,a)=>{const r=n instanceof Map?n:new Map(n.entries()),i=a instanceof Map?a:new Map(a.entries());if(r.size!==i.size)return!1;for(const[o,c]of r)if(!i.has(o)||!Object.is(c,i.get(o)))return!1;return!0},Ab=(n,a)=>{const r=n[Symbol.iterator](),i=a[Symbol.iterator]();let o=r.next(),c=i.next();for(;!o.done&&!c.done;){if(!Object.is(o.value,c.value))return!1;o=r.next(),c=i.next()}return!!o.done&&!!c.done};function Cb(n,a){return Object.is(n,a)?!0:typeof n!="object"||n===null||typeof a!="object"||a===null||Object.getPrototypeOf(n)!==Object.getPrototypeOf(a)?!1:Qm(n)&&Qm(a)?Jm(n)&&Jm(a)?Xm(n,a):Ab(n,a):Xm({entries:()=>Object.entries(n)},{entries:()=>Object.entries(a)})}function Yn(n){const a=Yr.useRef(void 0);return r=>{const i=n(r);return Cb(a.current,i)?a.current:a.current=i}}const Fm=n=>{let a;const r=new Set,i=(p,v)=>{const w=typeof p=="function"?p(a):p;if(!Object.is(w,a)){const x=a;a=v??(typeof w!="object"||w===null)?w:Object.assign({},a,w),r.forEach(S=>S(a,x))}},o=()=>a,g={setState:i,getState:o,getInitialState:()=>m,subscribe:p=>(r.add(p),()=>r.delete(p))},m=a=n(i,o,g);return g},Eb=(n=>n?Fm(n):Fm),Tb=n=>n;function Ob(n,a=Tb){const r=Yr.useSyncExternalStore(n.subscribe,Yr.useCallback(()=>a(n.getState()),[n,a]),Yr.useCallback(()=>a(n.getInitialState()),[n,a]));return Yr.useDebugValue(r),r}const Zm=n=>{const a=Eb(n),r=i=>Ob(a,i);return Object.assign(r,a),r},Rb=(n=>n?Zm(n):Zm),F0="souq_iraq_theme_preference";function Db(){if(typeof window>"u")return"system";const n=localStorage.getItem(F0);return n==="light"||n==="dark"||n==="system"?n:"system"}function Lb(n){typeof window>"u"||localStorage.setItem(F0,n)}function Ub(n){return n==="light"||n==="dark"?n:typeof window>"u"?"light":window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light"}function zb(n){typeof document>"u"||(document.documentElement.classList.toggle("dark",n==="dark"),document.documentElement.style.colorScheme=n)}const fd="cat718818@gmail.com";function Mb(n){return(n??"").trim().toLowerCase()===fd}function qb(){if(typeof window>"u")return"ar";const n=localStorage.getItem("iraq_marketplace_language");return n==="en"||n==="ar"?n:"ar"}const le=Rb((n,a)=>({currentPage:"home",selectedSellerId:null,selectedProductId:null,searchQuery:"",selectedCategory:"all",selectedLocation:"all",priceRange:[0,2e6],favorites:[],pageHistory:[],authNextPage:null,navigate:(r,i)=>{const o=a();if(["sellerDashboard"].includes(r)&&!o.isAuthenticated){const m=i?.sellerId??o.selectedSellerId,p=i?.productId??o.selectedProductId;if(o.currentPage==="profile"&&o.authNextPage===r&&o.selectedSellerId===m&&o.selectedProductId===p)return;n({currentPage:"profile",authNextPage:r,selectedSellerId:m,selectedProductId:p,pageHistory:[...o.pageHistory,o.currentPage]});return}if(r==="sellerDashboard"&&!Mb(o.user?.email)){typeof window<"u"&&window.alert(o.language==="ar"?`ما عندك صلاحية تفتح لوحة التحكم. لازم تسجل دخول بهذا البريد فقط: ${fd}`:`You don't have access to the dashboard. Sign in with: ${fd}`),n({currentPage:"profile",authNextPage:null,pageHistory:[...o.pageHistory,o.currentPage]});return}const h=i?.sellerId??o.selectedSellerId,g=i?.productId??o.selectedProductId;o.currentPage===r&&o.selectedSellerId===h&&o.selectedProductId===g||n({currentPage:r,selectedSellerId:h,selectedProductId:g,pageHistory:[...o.pageHistory,o.currentPage]})},goBack:()=>{const i=[...a().pageHistory],o=i.pop()||"home";n({currentPage:o,pageHistory:i})},setSearchQuery:r=>n({searchQuery:r}),setSelectedCategory:r=>n({selectedCategory:r}),setSelectedLocation:r=>n({selectedLocation:r}),setPriceRange:r=>n({priceRange:r}),toggleFavorite:r=>{const i=a(),o=i.favorites.includes(r)?i.favorites.filter(c=>c!==r):[...i.favorites,r];n({favorites:o})},user:null,isAuthenticated:!1,isAdmin:!1,authToken:null,language:qb(),themePreference:Db(),securitySettings:{maxLoginAttempts:5,lockoutDuration:15,sessionTimeout:15,requireStrongPassword:!0,enableTwoFactor:!1},setUser:r=>n({user:r,isAdmin:r?.role==="admin"}),setAuthenticated:r=>{a().isAuthenticated!==r&&n({isAuthenticated:r})},setAuthToken:r=>{a().authToken!==r&&n({authToken:r})},setAuthNextPage:r=>{a().authNextPage!==r&&n({authNextPage:r})},consumeAuthNextPage:()=>{const r=a().authNextPage;return r&&n({authNextPage:null}),r},logout:()=>n({user:null,isAuthenticated:!1,isAdmin:!1,authToken:null,authNextPage:null}),isAdminUser:()=>a().user?.role==="admin",setLanguage:r=>{a().language!==r&&(n({language:r}),typeof window<"u"&&localStorage.setItem("iraq_marketplace_language",r),typeof document<"u"&&(document.documentElement.dir=r==="ar"?"rtl":"ltr",document.documentElement.lang=r))},setThemePreference:r=>{a().themePreference!==r&&(n({themePreference:r}),Lb(r))},updateSecuritySettings:r=>n(i=>({securitySettings:{...i.securitySettings,...r}})),viewCounts:{},setViewCount:(r,i)=>{a().viewCounts[r]!==i&&n(o=>({viewCounts:{...o.viewCounts,[r]:i}}))},incrementViewCount:r=>n(i=>({viewCounts:{...i.viewCounts,[r]:(i.viewCounts[r]||0)+1}})),getViewCount:r=>a().viewCounts[r]||0,verificationRequests:[],addVerificationRequest:r=>n(i=>({verificationRequests:[...i.verificationRequests,r]})),updateVerificationStatus:(r,i,o)=>n(c=>({verificationRequests:c.verificationRequests.map(h=>h.productId===r?{...h,status:i,verifiedAt:o}:h)})),getVerificationStatus:r=>a().verificationRequests.find(i=>i.productId===r),sellerDashboardId:null,showAddProductForm:!1,setSellerDashboardId:r=>n({sellerDashboardId:r}),setShowAddProductForm:r=>n({showAddProductForm:r})}));const Z0=(...n)=>n.filter((a,r,i)=>!!a&&a.trim()!==""&&i.indexOf(a)===r).join(" ").trim();const $b=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Bb=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,r,i)=>i?i.toUpperCase():r.toLowerCase());const Wm=n=>{const a=Bb(n);return a.charAt(0).toUpperCase()+a.slice(1)};var Vb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Pb=n=>{for(const a in n)if(a.startsWith("aria-")||a==="role"||a==="title")return!0;return!1};const Ib=E.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:h,...g},m)=>E.createElement("svg",{ref:m,...Vb,width:a,height:a,stroke:n,strokeWidth:i?Number(r)*24/Number(a):r,className:Z0("lucide",o),...!c&&!Pb(g)&&{"aria-hidden":"true"},...g},[...h.map(([p,v])=>E.createElement(p,v)),...Array.isArray(c)?c:[c]]));const oe=(n,a)=>{const r=E.forwardRef(({className:i,...o},c)=>E.createElement(Ib,{ref:c,iconNode:a,className:Z0(`lucide-${$b(Wm(n))}`,`lucide-${n}`,i),...o}));return r.displayName=Wm(n),r};const Hb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Cd=oe("arrow-left",Hb);const Gb=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],W0=oe("bell",Gb);const Kb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ep=oe("calendar",Kb);const Yb=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],tp=oe("camera",Yb);const Qb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],e0=oe("chart-column",Qb);const Jb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],eo=oe("check",Jb);const Xb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Fb=oe("chevron-down",Xb);const Zb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],to=oe("chevron-right",Zb);const Wb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ao=oe("circle-alert",Wb);const ex=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jr=oe("circle-check-big",ex);const tx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ap=oe("circle-check",tx);const ax=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nx=oe("circle-question-mark",ax);const rx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],np=oe("circle-x",rx);const sx=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ed=oe("clock",sx);const ix=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],lx=oe("external-link",ix);const ox=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zr=oe("eye",ox);const cx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xu=oe("file-text",cx);const ux=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],dx=oe("flame",ux);const fx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],hx=oe("globe",fx);const gx=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ui=oe("heart",gx);const mx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],px=oe("house",mx);const yx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],vx=oe("info",yx);const bx=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],rp=oe("instagram",bx);const xx=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],wx=oe("key-round",xx);const Sx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],sp=oe("loader-circle",Sx);const _x=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jx=oe("log-out",_x);const Nx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bo=oe("map-pin",Nx);const kx=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],ip=oe("message-circle",kx);const Ax=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Cx=oe("moon",Ax);const Ex=[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]],Tx=oe("music-2",Ex);const Ox=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],di=oe("package",Ox);const Rx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Dx=oe("pen",Rx);const Lx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],no=oe("plus",Lx);const Ux=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Td=oe("search",Ux);const zx=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],t0=oe("settings",zx);const Mx=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],lp=oe("share-2",Mx);const qx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$a=oe("shield-check",qx);const $x=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],a0=oe("shield",$x);const Bx=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Od=oe("shopping-bag",Bx);const Vx=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Px=oe("shopping-cart",Vx);const Ix=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],Hx=oe("sliders-horizontal",Ix);const Gx=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Kx=oe("smartphone",Gx);const Yx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Qx=oe("sparkles",Yx);const Jx=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],fa=oe("star",Jx);const Xx=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Fu=oe("store",Xx);const Fx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zx=oe("trash-2",Fx);const Wx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Rd=oe("trending-up",Wx);const e1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],n0=oe("triangle-alert",e1);const t1=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Dd=oe("truck",t1);const a1=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],n1=oe("upload",a1);const r1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],op=oe("user",r1);const s1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fi=oe("x",s1);const i1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],l1=oe("zap",i1),ro=[{id:"all",name:"All",nameAr:"الكل",icon:"🏪",color:"bg-emerald-100 text-emerald-700"},{id:"fashion",name:"Fashion",nameAr:"أزياء",icon:"👗",color:"bg-pink-100 text-pink-700"},{id:"electronics",name:"Electronics",nameAr:"إلكترونيات",icon:"📱",color:"bg-blue-100 text-blue-700"},{id:"beauty",name:"Beauty",nameAr:"تجميل",icon:"💄",color:"bg-purple-100 text-purple-700"},{id:"home",name:"Home",nameAr:"منزل",icon:"🏠",color:"bg-amber-100 text-amber-700"},{id:"food",name:"Food",nameAr:"طعام",icon:"🍽️",color:"bg-orange-100 text-orange-700"},{id:"sports",name:"Sports",nameAr:"رياضة",icon:"⚽",color:"bg-emerald-100 text-emerald-700"},{id:"kids",name:"Kids",nameAr:"أطفال",icon:"🧸",color:"bg-red-100 text-red-700"}],cp=[{id:"all",name:"All Iraq",nameAr:"كل العراق"},{id:"baghdad",name:"Baghdad",nameAr:"بغداد"},{id:"basra",name:"Basra",nameAr:"البصرة"},{id:"erbil",name:"Erbil",nameAr:"أربيل"},{id:"sulaymaniyah",name:"Sulaymaniyah",nameAr:"السليمانية"},{id:"najaf",name:"Najaf",nameAr:"النجف"},{id:"karbala",name:"Karbala",nameAr:"كربلاء"},{id:"mosul",name:"Mosul",nameAr:"الموصل"},{id:"kirkuk",name:"Kirkuk",nameAr:"كركوك"}];function o1(n){return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`}function c1(n){let a=0;for(let r=0;r<n.length;r++)a=a*31+n.charCodeAt(r)|0;return Math.abs(a)%360}function u1(n){const a=n.trim().replace(/\s+/g," ");if(!a)return"S";const r=a.split(" ").filter(Boolean);return r.length===1?r[0].slice(0,2).toUpperCase():`${r[0][0]}${r[1][0]}`.toUpperCase()}function Ld(n){const a=c1(n.id),r=(a+40)%360,i=Math.max(0,Math.min(n.rounded??24,Math.min(n.width,n.height)/2)),o=Math.max(14,Math.floor(Math.min(n.width,n.height)/8)),c=Math.max(12,Math.floor(o*.55)),h=n.subtitle?.trim();return o1(`<svg xmlns="http://www.w3.org/2000/svg" width="${n.width}" height="${n.height}" viewBox="0 0 ${n.width} ${n.height}">
      <defs>
        <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="hsl(${a} 75% 55%)"/>
          <stop offset="100%" stop-color="hsl(${r} 75% 45%)"/>
        </linearGradient>
        <filter id="s" x="-20%" y="-20%" width="140%" height="140%">
          <feDropShadow dx="0" dy="6" stdDeviation="8" flood-color="#000" flood-opacity="0.25"/>
        </filter>
      </defs>
      <rect width="${n.width}" height="${n.height}" rx="${i}" fill="url(#g)"/>
      <g filter="url(#s)">
        <rect x="${Math.floor(n.width*.06)}" y="${Math.floor(n.height*.12)}" width="${Math.floor(n.width*.88)}" height="${Math.floor(n.height*.76)}" rx="${Math.max(12,Math.floor(i*.6))}" fill="rgba(255,255,255,0.12)"/>
      </g>
      <text x="50%" y="${h?"48%":"55%"}" text-anchor="middle" dominant-baseline="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial" font-weight="800"
        font-size="${o}" fill="rgba(255,255,255,0.95)">${n.label}</text>
      ${h?`<text x="50%" y="66%" text-anchor="middle" dominant-baseline="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial" font-weight="600"
        font-size="${c}" fill="rgba(255,255,255,0.85)">${h}</text>`:""}
    </svg>`)}function Lr(n,a){return Ld({id:`seller-avatar:${a}:${n}`,width:150,height:150,label:u1(n),rounded:32})}function Ur(n,a){return Ld({id:`seller-cover:${a}:${n}`,width:800,height:300,label:n,subtitle:"Souq Iraq",rounded:28})}function At(n,a){return Ld({id:`product:${a}:${n}`,width:400,height:400,label:n,subtitle:"IQD",rounded:36})}let Wr=[{id:"s1",name:"Noor Fashion",nameAr:"نور فاشن",avatar:Lr("Noor Fashion","s1"),coverImage:Ur("Noor Fashion","s1"),bio:"Premium women's fashion from Turkey & Dubai. Shipping all over Iraq 🇮🇶",location:"baghdad",locationAr:"بغداد",whatsapp:"9647701234567",instagram:"noorfashion_iq",tiktok:"noorfashion",isVerified:!0,rating:4.8,totalRatings:234,totalSales:1520,joinedDate:"2023-06-15",categories:["fashion"],viewCount:15600,deliveryInfo:"توصيل لكل العراق",productCount:3},{id:"s2",name:"Tech Zone IQ",nameAr:"تك زون",avatar:Lr("Tech Zone IQ","s2"),coverImage:Ur("Tech Zone IQ","s2"),bio:"Latest smartphones, accessories & gadgets. Original products with warranty ✅",location:"erbil",locationAr:"أربيل",whatsapp:"9647702345678",instagram:"techzone_iq",tiktok:"techzoneiq",isVerified:!0,rating:4.6,totalRatings:189,totalSales:980,joinedDate:"2023-08-20",categories:["electronics"],viewCount:12300,deliveryInfo:"توصيل لكل العراق",productCount:3},{id:"s3",name:"Bella Beauty",nameAr:"بيلا بيوتي",avatar:Lr("Bella Beauty","s3"),coverImage:Ur("Bella Beauty","s3"),bio:"Korean & French skincare products. 100% original. Free samples with every order 🎁",location:"basra",locationAr:"البصرة",whatsapp:"9647703456789",instagram:"bellabeauty_iq",tiktok:"bellabeautyiq",isVerified:!0,rating:4.9,totalRatings:312,totalSales:2100,joinedDate:"2023-03-10",categories:["beauty"],viewCount:21400,deliveryInfo:"توصيل لكل العراق",productCount:3},{id:"s4",name:"Iraqi Home Decor",nameAr:"ديكور عراقي",avatar:Lr("Iraqi Home Decor","s4"),coverImage:Ur("Iraqi Home Decor","s4"),bio:"Transform your home with our curated collection of modern & traditional decor 🏡",location:"najaf",locationAr:"النجف",whatsapp:"9647704567890",instagram:"",tiktok:"",isVerified:!1,rating:4.3,totalRatings:87,totalSales:450,joinedDate:"2024-01-05",categories:["home"],viewCount:5600,deliveryInfo:"توصيل لكل العراق",productCount:2},{id:"s5",name:"Mama's Kitchen",nameAr:"مطبخ ماما",avatar:Lr("Mama's Kitchen","s5"),coverImage:Ur("Mama's Kitchen","s5"),bio:"Homemade Iraqi sweets & pastries. Daily fresh. Delivery in Baghdad only 🍰",location:"baghdad",locationAr:"بغداد",whatsapp:"9647705678901",instagram:"mamaskitchen_iq",tiktok:"mamaskitcheniq",isVerified:!0,rating:4.7,totalRatings:156,totalSales:890,joinedDate:"2023-11-01",categories:["food"],viewCount:9800,deliveryInfo:"توصيل لكل العراق",productCount:2},{id:"s6",name:"Sport Planet",nameAr:"سبورت بلانيت",avatar:Lr("Sport Planet","s6"),coverImage:Ur("Sport Planet","s6"),bio:"Your one-stop shop for sports gear, gym equipment & activewear 💪",location:"sulaymaniyah",locationAr:"السليمانية",whatsapp:"9647706789012",instagram:"",tiktok:"",isVerified:!1,rating:4.4,totalRatings:67,totalSales:340,joinedDate:"2024-02-15",categories:["sports"],viewCount:4200,deliveryInfo:"توصيل لكل العراق",productCount:2}],_i=[{id:"p1",sellerId:"s1",name:"Turkish Abaya Collection",nameAr:"عبايات تركية",description:"Premium Turkish abayas with elegant embroidery. Available in multiple colors and sizes.",descriptionAr:"عبايات تركية فاخرة مع تطريز أنيق. متوفرة بعدة ألوان ومقاسات.",price:65e3,originalPrice:85e3,currency:"IQD",images:[At("Turkish Abaya Collection","p1")],category:"fashion",categoryAr:"أزياء",inStock:!0,viewCount:1230,createdAt:"2024-03-01",tags:["abaya","turkish","women"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-05"},{id:"p2",sellerId:"s1",name:"Designer Handbag",nameAr:"حقيبة يد فاخرة",description:"Luxury designer-inspired handbag. High quality leather finish.",descriptionAr:"حقيبة يد فاخرة. تشطيب جلد عالي الجودة.",price:45e3,currency:"IQD",images:[At("Designer Handbag","p2")],category:"fashion",categoryAr:"أزياء",inStock:!0,viewCount:890,createdAt:"2024-03-05",tags:["bag","leather","women"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-08"},{id:"p3",sellerId:"s1",name:"Summer Dress Set",nameAr:"طقم فستان صيفي",description:"Light and breezy summer dress set. Perfect for Iraqi summer weather.",descriptionAr:"طقم فستان صيفي خفيف ومنعش. مثالي لصيف العراق.",price:35e3,originalPrice:42e3,currency:"IQD",images:[At("Summer Dress Set","p3")],category:"fashion",categoryAr:"أزياء",inStock:!0,viewCount:2100,createdAt:"2024-03-10",tags:["dress","summer","women"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-12"},{id:"p4",sellerId:"s2",name:"iPhone 15 Pro Max",nameAr:"آيفون 15 برو ماكس",description:"Brand new iPhone 15 Pro Max 256GB. Original with 1 year warranty.",descriptionAr:"آيفون 15 برو ماكس 256 جيجا جديد. أصلي مع ضمان سنة.",price:185e4,currency:"IQD",images:[At("iPhone 15 Pro Max","p4")],category:"electronics",categoryAr:"إلكترونيات",inStock:!0,viewCount:5400,createdAt:"2024-03-02",tags:["iphone","apple","smartphone"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-04"},{id:"p5",sellerId:"s2",name:"Samsung Galaxy Buds",nameAr:"سماعات سامسونج",description:"Samsung Galaxy Buds2 Pro. Active noise cancellation. Original.",descriptionAr:"سماعات سامسونج جالاكسي بادز2 برو. إلغاء ضوضاء فعال. أصلي.",price:175e3,originalPrice:21e4,currency:"IQD",images:[At("Samsung Galaxy Buds","p5")],category:"electronics",categoryAr:"إلكترونيات",inStock:!0,viewCount:1800,createdAt:"2024-03-08",tags:["samsung","earbuds","audio"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-10"},{id:"p6",sellerId:"s2",name:"Apple Watch Series 9",nameAr:"ساعة أبل سيريز 9",description:"Apple Watch Series 9 GPS. Health & fitness tracking. Multiple bands.",descriptionAr:"ساعة أبل سيريز 9 GPS. تتبع الصحة واللياقة. أحزمة متعددة.",price:65e4,currency:"IQD",images:[At("Apple Watch Series 9","p6")],category:"electronics",categoryAr:"إلكترونيات",inStock:!1,viewCount:3200,createdAt:"2024-02-28",tags:["apple","watch","smartwatch"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-02"},{id:"p7",sellerId:"s3",name:"Korean Skincare Set",nameAr:"مجموعة عناية كورية",description:"10-step Korean skincare routine set. Includes cleanser, toner, serum & more.",descriptionAr:"مجموعة عناية كورية من 10 خطوات. تشمل منظف وتونر وسيروم والمزيد.",price:85e3,originalPrice:12e4,currency:"IQD",images:[At("Korean Skincare Set","p7")],category:"beauty",categoryAr:"تجميل",inStock:!0,viewCount:4300,createdAt:"2024-03-03",tags:["skincare","korean","set"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-06"},{id:"p8",sellerId:"s3",name:"MAC Lipstick Collection",nameAr:"مجموعة أحمر شفاه ماك",description:"Original MAC lipstick set. 6 trending shades. Long-lasting formula.",descriptionAr:"مجموعة أحمر شفاه ماك أصلية. 6 ألوان رائجة. تركيبة تدوم طويلاً.",price:55e3,currency:"IQD",images:[At("MAC Lipstick Collection","p8")],category:"beauty",categoryAr:"تجميل",inStock:!0,viewCount:2900,createdAt:"2024-03-07",tags:["mac","lipstick","makeup"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-09"},{id:"p9",sellerId:"s3",name:"Hair Care Bundle",nameAr:"حزمة العناية بالشعر",description:"Complete hair care bundle with shampoo, conditioner, and hair mask.",descriptionAr:"حزمة كاملة للعناية بالشعر مع شامبو وبلسم وماسك شعر.",price:42e3,originalPrice:58e3,currency:"IQD",images:[At("Hair Care Bundle","p9")],category:"beauty",categoryAr:"تجميل",inStock:!0,viewCount:1600,createdAt:"2024-03-12",tags:["hair","shampoo","care"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-14"},{id:"p10",sellerId:"s4",name:"Modern Table Lamp",nameAr:"مصباح طاولة عصري",description:"Elegant modern table lamp with USB charging port. LED warm light.",descriptionAr:"مصباح طاولة عصري أنيق مع منفذ شحن USB. إضاءة LED دافئة.",price:28e3,currency:"IQD",images:[At("Modern Table Lamp","p10")],category:"home",categoryAr:"منزل",inStock:!0,viewCount:780,createdAt:"2024-03-04",tags:["lamp","modern","decor"],isVerified:!1,verificationStatus:"none"},{id:"p11",sellerId:"s4",name:"Decorative Cushion Set",nameAr:"طقم وسائد ديكور",description:"Set of 4 premium decorative cushions. Traditional Iraqi patterns.",descriptionAr:"طقم من 4 وسائد ديكور فاخرة. نقوش عراقية تقليدية.",price:38e3,originalPrice:5e4,currency:"IQD",images:[At("Decorative Cushion Set","p11")],category:"home",categoryAr:"منزل",inStock:!0,viewCount:560,createdAt:"2024-03-09",tags:["cushion","traditional","decor"],isVerified:!1,verificationStatus:"pending"},{id:"p12",sellerId:"s5",name:"Iraqi Kleicha Box",nameAr:"علبة كليجة عراقية",description:"Homemade Iraqi Kleicha with dates & walnuts. 1kg box. Daily fresh.",descriptionAr:"كليجة عراقية منزلية بالتمر والجوز. علبة 1 كيلو. طازجة يومياً.",price:25e3,currency:"IQD",images:[At("Iraqi Kleicha Box","p12")],category:"food",categoryAr:"طعام",inStock:!0,viewCount:3400,createdAt:"2024-03-06",tags:["kleicha","sweets","iraqi"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-08"},{id:"p13",sellerId:"s5",name:"Baklava Premium Box",nameAr:"علبة بقلاوة فاخرة",description:"Premium handmade baklava with pistachios. Perfect gift box.",descriptionAr:"بقلاوة يدوية فاخرة بالفستق. علبة هدايا مثالية.",price:35e3,originalPrice:4e4,currency:"IQD",images:[At("Baklava Premium Box","p13")],category:"food",categoryAr:"طعام",inStock:!0,viewCount:2100,createdAt:"2024-03-11",tags:["baklava","sweets","pistachio"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-13"},{id:"p14",sellerId:"s6",name:"Yoga Mat Premium",nameAr:"بساط يوغا فاخر",description:"Non-slip premium yoga mat. 6mm thick. Carrying strap included.",descriptionAr:"بساط يوغا فاخر مانع للانزلاق. سمك 6 ملم. مع حزام حمل.",price:22e3,currency:"IQD",images:[At("Yoga Mat Premium","p14")],category:"sports",categoryAr:"رياضة",inStock:!0,viewCount:450,createdAt:"2024-03-13",tags:["yoga","mat","fitness"],isVerified:!1,verificationStatus:"none"},{id:"p15",sellerId:"s6",name:"Dumbbell Set 20kg",nameAr:"طقم دمبل 20 كغ",description:"Adjustable dumbbell set 20kg. Chrome plated. With carry case.",descriptionAr:"طقم دمبل قابل للتعديل 20 كغ. مطلي بالكروم. مع حقيبة حمل.",price:55e3,originalPrice:7e4,currency:"IQD",images:[At("Dumbbell Set 20kg","p15")],category:"sports",categoryAr:"رياضة",inStock:!0,viewCount:670,createdAt:"2024-03-14",tags:["dumbbell","gym","weights"],isVerified:!1,verificationStatus:"none"}],Ud=[{id:"r1",sellerId:"s1",buyerName:"Ahmed M.",rating:5,comment:"Excellent quality! Fast delivery to Baghdad.",verified:!0,date:"2024-03-10"},{id:"r2",sellerId:"s1",buyerName:"Sara K.",rating:4,comment:"Beautiful abaya, exactly as shown. Highly recommend!",verified:!0,date:"2024-03-08"},{id:"r3",sellerId:"s2",buyerName:"Omar H.",rating:5,comment:"Original iPhone, great price. Very trustworthy seller.",verified:!0,date:"2024-03-09"},{id:"r4",sellerId:"s3",buyerName:"Fatima R.",rating:5,comment:"Amazing skincare products! My skin loves them ❤️",verified:!0,date:"2024-03-11"},{id:"r5",sellerId:"s3",buyerName:"Zainab A.",rating:5,comment:"Best beauty store in Iraq! Always original products.",verified:!0,date:"2024-03-07"},{id:"r6",sellerId:"s5",buyerName:"Mustafa T.",rating:5,comment:"The kleicha tastes like my grandmother's recipe! 😍",verified:!0,date:"2024-03-12"},{id:"r7",sellerId:"s4",buyerName:"Layla S.",rating:4,comment:"Good quality cushions. Delivery took 3 days.",verified:!0,date:"2024-03-13"},{id:"r8",sellerId:"s2",buyerName:"Ali N.",rating:4,comment:"Galaxy Buds work perfectly. Good packaging.",verified:!0,date:"2024-03-14"}];function Ma(n){n.sellers&&(Wr=n.sellers),n.products&&(_i=n.products),n.ratings&&(Ud=n.ratings)}function Gt(n){return n.toLocaleString("en-US")+" IQD"}function xo(n){const a=Wr.find(o=>o.id===n);if(!a)return;const{average:r,count:i}=Ba(n);return{...a,rating:r,totalRatings:i}}function so(n){return _i.filter(a=>a.sellerId===n)}function up(n){return Ud.filter(a=>a.sellerId===n)}function Ba(n){const a=up(n),r=a.length;if(r===0)return{average:0,count:0};const i=a.reduce((c,h)=>c+h.rating,0);return{average:Math.round(i/r*10)/10,count:r}}function aa(n){return _i.find(a=>a.id===n)}function d1(n,a){const r=encodeURIComponent(`Hi, I am interested in: ${a}

Sent from Souq Iraq 🇮🇶`);return`https://wa.me/${n}?text=${r}`}function f1(n,a){const r=encodeURIComponent(a);return`https://wa.me/${n}?text=${r}`}function io(n,a){return a==="ar"?`${n.toLocaleString("ar-IQ")} دينار`:`${n.toLocaleString("en-US")} IQD`}function h1(n){const{seller:a,products:r,totalPrice:i}=n;let o=`مرحباً، أريد طلب المنتجات التالية من ${a.nameAr}:

`;return r.forEach((c,h)=>{const{product:g,quantity:m}=c,p=g.price*m;o+=`${h+1}. ${g.nameAr} - الكمية: ${m} - السعر: ${io(p,"ar")}
`}),o+=`
المجموع الكلي: ${io(i,"ar")}

`,o+=`شكراً!

`,o+="تم الإرسال من تطبيق سوق العراق 🇮🇶",o}function g1(n){const{seller:a,products:r,totalPrice:i}=n;let o=`Hello, I would like to order the following products from ${a.name}:

`;return r.forEach((c,h)=>{const{product:g,quantity:m}=c,p=g.price*m;o+=`${h+1}. ${g.name} - Quantity: ${m} - Price: ${io(p,"en")}
`}),o+=`
Total: ${io(i,"en")}

`,o+=`Thank you!

`,o+="Sent from Souq Iraq 🇮🇶",o}function m1(n){return n.language==="ar"?h1(n):g1(n)}function dp(n,a){const r=f1(n,a);window.open(r,"_blank")}const fp="souq_iraq_cart";function va(){try{const n=localStorage.getItem(fp);if(n)return JSON.parse(n)}catch(n){console.error("Error reading cart from storage:",n)}return{items:[],updatedAt:new Date().toISOString()}}function wo(n){try{n.updatedAt=new Date().toISOString(),localStorage.setItem(fp,JSON.stringify(n))}catch(a){console.error("Error saving cart to storage:",a)}}function p1(n,a=1){const r=va(),i=aa(n);if(!i)throw new Error("Product not found");const o=r.items.findIndex(c=>c.productId===n);return o>=0?r.items[o].quantity+=a:r.items.push({productId:n,quantity:a,sellerId:i.sellerId,addedAt:new Date().toISOString()}),wo(r),r}function y1(n){const a=va();return a.items=a.items.filter(r=>r.productId!==n),wo(a),a}function v1(n,a){const r=va(),i=r.items.findIndex(o=>o.productId===n);return i>=0&&(a<=0?r.items.splice(i,1):r.items[i].quantity=a),wo(r),r}function b1(){const n={items:[],updatedAt:new Date().toISOString()};return wo(n),n}function x1(){return va().items.reduce((a,r)=>a+r.quantity,0)}function w1(){return va().items.reduce((a,r)=>{const i=aa(r.productId);return a+(i?i.price*r.quantity:0)},0)}function hp(){const n=va(),a=new Map;return n.items.forEach(r=>{const i=aa(r.productId),o=xo(r.sellerId);if(!i||!o)return;a.has(r.sellerId)||a.set(r.sellerId,{seller:o,items:[],total:0});const c=a.get(r.sellerId);c.items.push({product:i,quantity:r.quantity}),c.total+=i.price*r.quantity}),Array.from(a.values())}function gp(n){const r=hp().map(c=>({seller:c.seller,products:c.items,totalPrice:c.total,language:n}));let i=0;return{sellersData:r,openNextSeller:()=>{if(i>=r.length)return!1;const c=r[i],h=m1(c);return dp(c.seller.whatsapp,h),i++,i<r.length}}}function S1(n){return va().items.some(r=>r.productId===n)}function _1(n){return va().items.find(i=>i.productId===n)?.quantity||0}const mp=E.createContext(void 0);function j1({children:n}){const[a,r]=E.useState({items:[],updatedAt:new Date().toISOString()}),[i,o]=E.useState(!0),c=le(D=>D.language),{isAuthenticated:h,navigate:g,setAuthNextPage:m}=le(Yn(D=>({isAuthenticated:D.isAuthenticated,navigate:D.navigate,setAuthNextPage:D.setAuthNextPage}))),p=E.useCallback(()=>h?!0:(m("cart"),g("profile"),!1),[h,g,m]);E.useEffect(()=>{const D=va();r(D),o(!1)},[]);const v=E.useCallback(()=>{const D=va();r(D)},[]),w=E.useCallback((D,H=1)=>{if(!p())return;const pe=p1(D,H);r(pe)},[p]),x=E.useCallback(D=>{if(!p())return;const H=y1(D);r(H)},[p]),S=E.useCallback((D,H)=>{if(!p())return;const pe=v1(D,H);r(pe)},[p]),_=E.useCallback(()=>{if(!p())return;const D=b1();r(D)},[p]),N=E.useCallback(()=>{if(!p())return;const{openNextSeller:D}=gp(c);D()},[p,c]),j=E.useCallback(D=>S1(D),[]),A=E.useCallback(D=>_1(D),[]),R=x1(),T=w1(),q=hp(),Y={cart:a,itemCount:R,total:T,sellerGroups:q,isLoading:i,addToCart:w,removeFromCart:x,updateQuantity:S,clearCart:_,checkout:N,isInCart:j,getQuantity:A,refreshCart:v};return u.jsx(mp.Provider,{value:Y,children:n})}function es(){const n=E.useContext(mp);if(n===void 0)throw new Error("useCart must be used within a CartProvider");return n}function N1(){if(console&&console.warn){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];Kn(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),console.warn(...a)}}const r0={};function hd(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];Kn(a[0])&&r0[a[0]]||(Kn(a[0])&&(r0[a[0]]=new Date),N1(...a))}const pp=(n,a)=>()=>{if(n.isInitialized)a();else{const r=()=>{setTimeout(()=>{n.off("initialized",r)},0),a()};n.on("initialized",r)}},s0=(n,a,r)=>{n.loadNamespaces(a,pp(n,r))},i0=(n,a,r,i)=>{Kn(r)&&(r=[r]),r.forEach(o=>{n.options.ns.indexOf(o)<0&&n.options.ns.push(o)}),n.loadLanguages(a,pp(n,i))},k1=function(n,a){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=a.languages[0],o=a.options?a.options.fallbackLng:!1,c=a.languages[a.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const h=(g,m)=>{const p=a.services.backendConnector.state[`${g}|${m}`];return p===-1||p===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!h(a.isLanguageChangingTo,n)?!1:!!(a.hasResourceBundle(i,n)||!a.services.backendConnector.backend||a.options.resources&&!a.options.partialBundledLanguages||h(i,n)&&(!o||h(c,n)))},A1=function(n,a){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!a.languages||!a.languages.length?(hd("i18n.languages were undefined or empty",a.languages),!0):a.options.ignoreJSONStructure!==void 0?a.hasLoadedNamespace(n,{lng:r.lng,precheck:(o,c)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!c(o.isLanguageChangingTo,n))return!1}}):k1(n,a,r)},Kn=n=>typeof n=="string",C1=n=>typeof n=="object"&&n!==null,E1=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,T1={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},O1=n=>T1[n],R1=n=>n.replace(E1,O1);let gd={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:R1};const D1=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};gd={...gd,...n}},L1=()=>gd;let yp;const U1=n=>{yp=n},z1=()=>yp,M1={type:"3rdParty",init(n){D1(n.options.react),U1(n)}},q1=E.createContext();class $1{constructor(){this.usedNamespaces={}}addUsedNamespaces(a){a.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces=()=>Object.keys(this.usedNamespaces)}const B1=(n,a)=>{const r=E.useRef();return E.useEffect(()=>{r.current=n},[n,a]),r.current},vp=(n,a,r,i)=>n.getFixedT(a,r,i),V1=(n,a,r,i)=>E.useCallback(vp(n,a,r,i),[n,a,r,i]),na=function(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=a,{i18n:i,defaultNS:o}=E.useContext(q1)||{},c=r||i||z1();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new $1),!c){hd("You will need to pass in an i18next instance by using initReactI18next");const q=(D,H)=>Kn(H)?H:C1(H)&&Kn(H.defaultValue)?H.defaultValue:Array.isArray(D)?D[D.length-1]:D,Y=[q,{},!1];return Y.t=q,Y.i18n={},Y.ready=!1,Y}c.options.react&&c.options.react.wait!==void 0&&hd("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const h={...L1(),...c.options.react,...a},{useSuspense:g,keyPrefix:m}=h;let p=o||c.options&&c.options.defaultNS;p=Kn(p)?[p]:p||["translation"],c.reportNamespaces.addUsedNamespaces&&c.reportNamespaces.addUsedNamespaces(p);const v=(c.isInitialized||c.initializedStoreOnce)&&p.every(q=>A1(q,c,h)),w=V1(c,a.lng||null,h.nsMode==="fallback"?p:p[0],m),x=()=>w,S=()=>vp(c,a.lng||null,h.nsMode==="fallback"?p:p[0],m),[_,N]=E.useState(x);let j=p.join();a.lng&&(j=`${a.lng}${j}`);const A=B1(j),R=E.useRef(!0);E.useEffect(()=>{const{bindI18n:q,bindI18nStore:Y}=h;R.current=!0,!v&&!g&&(a.lng?i0(c,a.lng,p,()=>{R.current&&N(S)}):s0(c,p,()=>{R.current&&N(S)})),v&&A&&A!==j&&R.current&&N(S);const D=()=>{R.current&&N(S)};return q&&c&&c.on(q,D),Y&&c&&c.store.on(Y,D),()=>{R.current=!1,q&&c&&q.split(" ").forEach(H=>c.off(H,D)),Y&&c&&Y.split(" ").forEach(H=>c.store.off(H,D))}},[c,j]),E.useEffect(()=>{R.current&&v&&N(x)},[c,m,v]);const T=[_,c,v];if(T.t=_,T.i18n=c,T.ready=v,v||!v&&!g)return T;throw new Promise(q=>{a.lng?i0(c,a.lng,p,()=>q()):s0(c,p,()=>q())})},P1=[{page:"home",icon:px,labelKey:"nav.home"},{page:"search",icon:Td,labelKey:"nav.explore"},{page:"favorites",icon:ui,labelKey:"nav.saved"},{page:"cart",icon:Px,labelKey:"nav.cart",showBadge:!0},{page:"verify",icon:$a,labelKey:"nav.verify"},{page:"profile",icon:op,labelKey:"nav.profile"}];function I1(){const{t:n}=na(),{currentPage:a,navigate:r}=le(Yn(o=>({currentPage:o.currentPage,navigate:o.navigate}))),{itemCount:i}=es();return u.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-xl border-t border-gray-100 safe-bottom",children:u.jsx("div",{className:"max-w-lg mx-auto flex items-center justify-around px-2 pt-1 pb-1",children:P1.map(({page:o,icon:c,labelKey:h,showBadge:g})=>{const m=a===o;return u.jsxs("button",{onClick:()=>r(o),className:`touch-target relative flex flex-col items-center justify-center gap-0.5 px-3 py-1.5 rounded-xl transition-all duration-200 ${m?"text-emerald-600":"text-gray-400 hover:text-gray-600"}`,children:[u.jsxs("div",{className:"relative",children:[u.jsx(c,{size:22,strokeWidth:m?2.5:1.8,className:`transition-transform duration-200 ${m?"scale-110":""}`}),g&&i>0&&u.jsx("span",{className:"absolute -top-1.5 -right-1.5 w-4 h-4 flex items-center justify-center bg-emerald-500 text-white text-[10px] font-bold rounded-full",children:i>99?"99+":i})]}),u.jsx("span",{className:`text-[10px] font-medium ${m?"font-semibold":""}`,children:n(h)}),m&&u.jsx("div",{className:"absolute -top-0.5 w-8 h-0.5 bg-emerald-500 rounded-full"})]},o)})})})}function bp({src:n,alt:a,className:r=""}){const[i,o]=E.useState(!1),[c,h]=E.useState(!1),g=E.useRef(null);return E.useEffect(()=>{const m=new IntersectionObserver(([p])=>{p.isIntersecting&&(h(!0),m.disconnect())},{rootMargin:"100px"});return g.current&&m.observe(g.current),()=>m.disconnect()},[]),u.jsxs("div",{ref:g,className:`relative ${r}`,children:[!i&&u.jsx("div",{className:"absolute inset-0 skeleton rounded-lg"}),c&&u.jsx("img",{src:n,alt:a,loading:"lazy",onLoad:()=>o(!0),className:`${r} transition-opacity duration-300 ${i?"opacity-100":"opacity-0"}`})]})}const xp="souq_iraq_views",l0="souq_iraq_visitor_id",H1=24;function lo(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function G1(){return new Date().toISOString().split("T")[0]}function wp(n){const a=new Date(n);return(new Date().getTime()-a.getTime())/(1e3*60*60)<H1}function K1(){const n=[];n.push(`${screen.width}x${screen.height}`),n.push(`${screen.colorDepth}`),n.push(`${window.devicePixelRatio||1}`),n.push(Intl.DateTimeFormat().resolvedOptions().timeZone),n.push(navigator.language),n.push(navigator.platform);const a=navigator.userAgent;let r=0;for(let i=0;i<a.length;i++){const o=a.charCodeAt(i);r=(r<<5)-r+o,r=r&r}n.push(r.toString(36));try{const i=document.createElement("canvas"),o=i.getContext("2d");o&&(o.textBaseline="top",o.font="14px Arial",o.fillText("fingerprint",2,2),n.push(i.toDataURL().slice(-50)))}catch{}return n.join("|")}function Sp(){try{const n=localStorage.getItem(l0);if(n)return n;const a=K1(),r=Math.random().toString(36).substr(2,9),i=`visitor-${a.hashCode()}-${r}`;return localStorage.setItem(l0,i),i}catch{return`session-${lo()}`}}String.prototype.hashCode=function(){let n=0;for(let a=0;a<this.length;a++){const r=this.charCodeAt(a);n=(n<<5)-n+r,n=n&n}return Math.abs(n).toString(36)};function Y1(){try{const n="souq_iraq_session_id";let a=sessionStorage.getItem(n);return a||(a=`session-${lo()}`,sessionStorage.setItem(n,a)),a}catch{return`temp-session-${lo()}`}}function So(){try{const n=localStorage.getItem(xp);if(n)return JSON.parse(n)}catch{}return{visitorId:Sp(),viewRecords:[],viewCounts:{},aggregations:[]}}function Q1(n){try{localStorage.setItem(xp,JSON.stringify(n))}catch{console.warn("Views storage could not be saved")}}function _o(n){const a=So(),r=a.visitorId||Sp(),i=Y1(),o=new Date().toISOString();if(a.viewRecords.find(v=>v.productId===n&&v.viewerId===r&&wp(v.viewedAt)))return{recorded:!1,viewCount:a.viewCounts[n]?.totalViews||0};const h={id:lo(),productId:n,viewerId:r,viewedAt:o,sessionId:i};a.viewRecords.push(h),a.viewRecords.length>1e3&&(a.viewRecords=a.viewRecords.slice(-1e3));const g=a.viewCounts[n]||{totalViews:0,todayViews:0,lastUpdated:o},m=G1(),p=g.lastUpdated.split("T")[0]===m;return a.viewCounts[n]={productId:n,totalViews:g.totalViews+1,todayViews:p?g.todayViews+1:1,lastUpdated:o},J1(a,n,m),Q1(a),{recorded:!0,viewCount:a.viewCounts[n].totalViews}}function J1(n,a,r){const i=n.aggregations.find(h=>h.productId===a&&h.date===r);i?i.viewCount+=1:n.aggregations.push({productId:a,date:r,viewCount:1,uniqueViewCount:1});const o=new Date;o.setFullYear(o.getFullYear()-1);const c=o.toISOString().split("T")[0];n.aggregations=n.aggregations.filter(h=>h.date>=c)}function X1(n){return So().viewCounts[n]?.totalViews||0}function o0(n){const a=So(),r={};for(const i of n)r[i]=a.viewCounts[i]?.totalViews||0;return r}function F1(n){const a=So(),r=a.visitorId;return a.viewRecords.some(i=>i.productId===n&&i.viewerId===r&&wp(i.viewedAt))}function zd(n,a="en"){return n<1e3?n.toString():n<1e6?`${(n/1e3).toFixed(1)}${a==="ar"?"ألف":"K"}`:n<1e9?`${(n/1e6).toFixed(1)}${a==="ar"?"م":"M"}`:`${(n/1e9).toFixed(1)}${a==="ar"?"مليار":"B"}`}let Zu=[],Wl=null;function Z1(){if(Wl=null,Zu.length===0)return;const n=new Set(Zu.map(a=>a.productId));Zu=[];for(const a of n)_o(a)}function c0(){Wl&&(clearTimeout(Wl),Wl=null),Z1()}function W1({productId:n,initialViewCount:a=0,children:r,threshold:i=.5,rootMargin:o="0px",enabled:c=!0,minVisibleTime:h=300,onViewTracked:g}){const[m,p]=E.useState(a),[v,w]=E.useState(!1),x=E.useRef(null),S=E.useRef(null),_=E.useRef(null),N=E.useRef(!1);E.useEffect(()=>{c&&F1(n)&&(N.current=!0,w(!0))},[n,c]),E.useEffect(()=>()=>{S.current&&(S.current.disconnect(),S.current=null),_.current&&clearTimeout(_.current)},[]);const j=E.useCallback(()=>{if(!c||N.current)return;const R=_o(n);R.recorded?(N.current=!0,w(!0),p(T=>T===R.viewCount?T:R.viewCount),g?.(n,R.viewCount)):p(T=>T===R.viewCount?T:R.viewCount)},[n,c,g]),A=E.useCallback(R=>{if(S.current&&(S.current.disconnect(),S.current=null),_.current&&(clearTimeout(_.current),_.current=null),x.current=R,!R||!c)return;const T=new IntersectionObserver(q=>{const[Y]=q;Y.isIntersecting&&!N.current?h>0?_.current=setTimeout(()=>{N.current||j()},h):j():Y.isIntersecting||_.current&&(clearTimeout(_.current),_.current=null)},{threshold:i,rootMargin:o});S.current=T,T.observe(R)},[c,i,o,h,j]);return u.jsx(u.Fragment,{children:r({ref:A,viewCount:m,hasTracked:v})})}const he=n=>typeof n=="string",ti=()=>{let n,a;const r=new Promise((i,o)=>{n=i,a=o});return r.resolve=n,r.reject=a,r},u0=n=>n==null?"":""+n,ew=(n,a,r)=>{n.forEach(i=>{a[i]&&(r[i]=a[i])})},tw=/###/g,d0=n=>n&&n.indexOf("###")>-1?n.replace(tw,"."):n,f0=n=>!n||he(n),li=(n,a,r)=>{const i=he(a)?a.split("."):a;let o=0;for(;o<i.length-1;){if(f0(n))return{};const c=d0(i[o]);!n[c]&&r&&(n[c]=new r),Object.prototype.hasOwnProperty.call(n,c)?n=n[c]:n={},++o}return f0(n)?{}:{obj:n,k:d0(i[o])}},h0=(n,a,r)=>{const{obj:i,k:o}=li(n,a,Object);if(i!==void 0||a.length===1){i[o]=r;return}let c=a[a.length-1],h=a.slice(0,a.length-1),g=li(n,h,Object);for(;g.obj===void 0&&h.length;)c=`${h[h.length-1]}.${c}`,h=h.slice(0,h.length-1),g=li(n,h,Object),g&&g.obj&&typeof g.obj[`${g.k}.${c}`]<"u"&&(g.obj=void 0);g.obj[`${g.k}.${c}`]=r},aw=(n,a,r,i)=>{const{obj:o,k:c}=li(n,a,Object);o[c]=o[c]||[],o[c].push(r)},oo=(n,a)=>{const{obj:r,k:i}=li(n,a);if(r)return r[i]},nw=(n,a,r)=>{const i=oo(n,r);return i!==void 0?i:oo(a,r)},_p=(n,a,r)=>{for(const i in a)i!=="__proto__"&&i!=="constructor"&&(i in n?he(n[i])||n[i]instanceof String||he(a[i])||a[i]instanceof String?r&&(n[i]=a[i]):_p(n[i],a[i],r):n[i]=a[i]);return n},zr=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var rw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const sw=n=>he(n)?n.replace(/[&<>"'\/]/g,a=>rw[a]):n;class iw{constructor(a){this.capacity=a,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(a){const r=this.regExpMap.get(a);if(r!==void 0)return r;const i=new RegExp(a);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(a,i),this.regExpQueue.push(a),i}}const lw=[" ",",","?","!",";"],ow=new iw(20),cw=(n,a,r)=>{a=a||"",r=r||"";const i=lw.filter(h=>a.indexOf(h)<0&&r.indexOf(h)<0);if(i.length===0)return!0;const o=ow.getRegExp(`(${i.map(h=>h==="?"?"\\?":h).join("|")})`);let c=!o.test(n);if(!c){const h=n.indexOf(r);h>0&&!o.test(n.substring(0,h))&&(c=!0)}return c},md=function(n,a){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[a])return n[a];const i=a.split(r);let o=n;for(let c=0;c<i.length;){if(!o||typeof o!="object")return;let h,g="";for(let m=c;m<i.length;++m)if(m!==c&&(g+=r),g+=i[m],h=o[g],h!==void 0){if(["string","number","boolean"].indexOf(typeof h)>-1&&m<i.length-1)continue;c+=m-c+1;break}o=h}return o},co=n=>n&&n.replace("_","-"),uw={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,a){console&&console[n]&&console[n].apply(console,a)}};class uo{constructor(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(a,r)}init(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=a||uw,this.options=r,this.debug=r.debug}log(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}warn(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}error(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return this.forward(r,"error","")}deprecate(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(a,r,i,o){return o&&!this.debug?null:(he(a[0])&&(a[0]=`${i}${this.prefix} ${a[0]}`),this.logger[r](a))}create(a){return new uo(this.logger,{prefix:`${this.prefix}:${a}:`,...this.options})}clone(a){return a=a||this.options,a.prefix=a.prefix||this.prefix,new uo(this.logger,a)}}var ya=new uo;class jo{constructor(){this.observers={}}on(a,r){return a.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const o=this.observers[i].get(r)||0;this.observers[i].set(r,o+1)}),this}off(a,r){if(this.observers[a]){if(!r){delete this.observers[a];return}this.observers[a].delete(r)}}emit(a){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];this.observers[a]&&Array.from(this.observers[a].entries()).forEach(h=>{let[g,m]=h;for(let p=0;p<m;p++)g(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(h=>{let[g,m]=h;for(let p=0;p<m;p++)g.apply(g,[a,...i])})}}class g0 extends jo{constructor(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=a||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(a){this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}removeNamespaces(a){const r=this.options.ns.indexOf(a);r>-1&&this.options.ns.splice(r,1)}getResource(a,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,h=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let g;a.indexOf(".")>-1?g=a.split("."):(g=[a,r],i&&(Array.isArray(i)?g.push(...i):he(i)&&c?g.push(...i.split(c)):g.push(i)));const m=oo(this.data,g);return!m&&!r&&!i&&a.indexOf(".")>-1&&(a=g[0],r=g[1],i=g.slice(2).join(".")),m||!h||!he(i)?m:md(this.data&&this.data[a]&&this.data[a][r],i,c)}addResource(a,r,i,o){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const h=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let g=[a,r];i&&(g=g.concat(h?i.split(h):i)),a.indexOf(".")>-1&&(g=a.split("."),o=r,r=g[1]),this.addNamespaces(r),h0(this.data,g,o),c.silent||this.emit("added",a,r,i,o)}addResources(a,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const c in i)(he(i[c])||Array.isArray(i[c]))&&this.addResource(a,r,c,i[c],{silent:!0});o.silent||this.emit("added",a,r,i)}addResourceBundle(a,r,i,o,c){let h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},g=[a,r];a.indexOf(".")>-1&&(g=a.split("."),o=i,i=r,r=g[1]),this.addNamespaces(r);let m=oo(this.data,g)||{};h.skipCopy||(i=JSON.parse(JSON.stringify(i))),o?_p(m,i,c):m={...m,...i},h0(this.data,g,m),h.silent||this.emit("added",a,r,i)}removeResourceBundle(a,r){this.hasResourceBundle(a,r)&&delete this.data[a][r],this.removeNamespaces(r),this.emit("removed",a,r)}hasResourceBundle(a,r){return this.getResource(a,r)!==void 0}getResourceBundle(a,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(a,r)}:this.getResource(a,r)}getDataByLanguage(a){return this.data[a]}hasLanguageSomeTranslations(a){const r=this.getDataByLanguage(a);return!!(r&&Object.keys(r)||[]).find(o=>r[o]&&Object.keys(r[o]).length>0)}toJSON(){return this.data}}var jp={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,a,r,i,o){return n.forEach(c=>{this.processors[c]&&(a=this.processors[c].process(a,r,i,o))}),a}};const m0={};class fo extends jo{constructor(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),ew(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ya.create("translator")}changeLanguage(a){a&&(this.language=a)}exists(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(a==null)return!1;const i=this.resolve(a,r);return i&&i.res!==void 0}extractFromKey(a,r){let i=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let c=r.ns||this.options.defaultNS||[];const h=i&&a.indexOf(i)>-1,g=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!cw(a,i,o);if(h&&!g){const m=a.match(this.interpolator.nestingRegexp);if(m&&m.length>0)return{key:a,namespaces:he(c)?[c]:c};const p=a.split(i);(i!==o||i===o&&this.options.ns.indexOf(p[0])>-1)&&(c=p.shift()),a=p.join(o)}return{key:a,namespaces:he(c)?[c]:c}}translate(a,r,i){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),a==null)return"";Array.isArray(a)||(a=[String(a)]);const o=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,c=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:h,namespaces:g}=this.extractFromKey(a[a.length-1],r),m=g[g.length-1],p=r.lng||this.language,v=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(v){const q=r.nsSeparator||this.options.nsSeparator;return o?{res:`${m}${q}${h}`,usedKey:h,exactUsedKey:h,usedLng:p,usedNS:m,usedParams:this.getUsedParamsDetails(r)}:`${m}${q}${h}`}return o?{res:h,usedKey:h,exactUsedKey:h,usedLng:p,usedNS:m,usedParams:this.getUsedParamsDetails(r)}:h}const w=this.resolve(a,r);let x=w&&w.res;const S=w&&w.usedKey||h,_=w&&w.exactUsedKey||h,N=Object.prototype.toString.apply(x),j=["[object Number]","[object Function]","[object RegExp]"],A=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,T=!he(x)&&typeof x!="boolean"&&typeof x!="number";if(R&&x&&T&&j.indexOf(N)<0&&!(he(A)&&Array.isArray(x))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const q=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,x,{...r,ns:g}):`key '${h} (${this.language})' returned an object instead of string.`;return o?(w.res=q,w.usedParams=this.getUsedParamsDetails(r),w):q}if(c){const q=Array.isArray(x),Y=q?[]:{},D=q?_:S;for(const H in x)if(Object.prototype.hasOwnProperty.call(x,H)){const pe=`${D}${c}${H}`;Y[H]=this.translate(pe,{...r,joinArrays:!1,ns:g}),Y[H]===pe&&(Y[H]=x[H])}x=Y}}else if(R&&he(A)&&Array.isArray(x))x=x.join(A),x&&(x=this.extendTranslation(x,a,r,i));else{let q=!1,Y=!1;const D=r.count!==void 0&&!he(r.count),H=fo.hasDefaultValue(r),pe=D?this.pluralResolver.getSuffix(p,r.count,r):"",ge=r.ordinal&&D?this.pluralResolver.getSuffix(p,r.count,{ordinal:!1}):"",We=D&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),Ve=We&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${pe}`]||r[`defaultValue${ge}`]||r.defaultValue;!this.isValidLookup(x)&&H&&(q=!0,x=Ve),this.isValidLookup(x)||(Y=!0,x=h);const ut=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Y?void 0:x,Ie=H&&Ve!==x&&this.options.updateMissing;if(Y||q||Ie){if(this.logger.log(Ie?"updateKey":"missingKey",p,m,h,Ie?Ve:x),c){const W=this.resolve(h,{...r,keySeparator:!1});W&&W.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ce=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let W=0;W<U.length;W++)ce.push(U[W]);else this.options.saveMissingTo==="all"?ce=this.languageUtils.toResolveHierarchy(r.lng||this.language):ce.push(r.lng||this.language);const Q=(W,ye,_e)=>{const O=H&&_e!==x?_e:ut;this.options.missingKeyHandler?this.options.missingKeyHandler(W,m,ye,O,Ie,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(W,m,ye,O,Ie,r),this.emit("missingKey",W,m,ye,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&D?ce.forEach(W=>{const ye=this.pluralResolver.getSuffixes(W,r);We&&r[`defaultValue${this.options.pluralSeparator}zero`]&&ye.indexOf(`${this.options.pluralSeparator}zero`)<0&&ye.push(`${this.options.pluralSeparator}zero`),ye.forEach(_e=>{Q([W],h+_e,r[`defaultValue${_e}`]||Ve)})}):Q(ce,h,Ve))}x=this.extendTranslation(x,a,r,w,i),Y&&x===h&&this.options.appendNamespaceToMissingKey&&(x=`${m}:${h}`),(Y||q)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}:${h}`:h,q?x:void 0):x=this.options.parseMissingKeyHandler(x))}return o?(w.res=x,w.usedParams=this.getUsedParamsDetails(r),w):x}extendTranslation(a,r,i,o,c){var h=this;if(this.i18nFormat&&this.i18nFormat.parse)a=this.i18nFormat.parse(a,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const p=he(a)&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let v;if(p){const x=a.match(this.interpolator.nestingRegexp);v=x&&x.length}let w=i.replace&&!he(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(w={...this.options.interpolation.defaultVariables,...w}),a=this.interpolator.interpolate(a,w,i.lng||this.language||o.usedLng,i),p){const x=a.match(this.interpolator.nestingRegexp),S=x&&x.length;v<S&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(i.lng=this.language||o.usedLng),i.nest!==!1&&(a=this.interpolator.nest(a,function(){for(var x=arguments.length,S=new Array(x),_=0;_<x;_++)S[_]=arguments[_];return c&&c[0]===S[0]&&!i.context?(h.logger.warn(`It seems you are nesting recursively key: ${S[0]} in key: ${r[0]}`),null):h.translate(...S,r)},i)),i.interpolation&&this.interpolator.reset()}const g=i.postProcess||this.options.postProcess,m=he(g)?[g]:g;return a!=null&&m&&m.length&&i.applyPostProcessor!==!1&&(a=jp.handle(m,a,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),a}resolve(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,o,c,h,g;return he(a)&&(a=[a]),a.forEach(m=>{if(this.isValidLookup(i))return;const p=this.extractFromKey(m,r),v=p.key;o=v;let w=p.namespaces;this.options.fallbackNS&&(w=w.concat(this.options.fallbackNS));const x=r.count!==void 0&&!he(r.count),S=x&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),_=r.context!==void 0&&(he(r.context)||typeof r.context=="number")&&r.context!=="",N=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);w.forEach(j=>{this.isValidLookup(i)||(g=j,!m0[`${N[0]}-${j}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(g)&&(m0[`${N[0]}-${j}`]=!0,this.logger.warn(`key "${o}" for languages "${N.join(", ")}" won't get resolved as namespace "${g}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),N.forEach(A=>{if(this.isValidLookup(i))return;h=A;const R=[v];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(R,v,A,j,r);else{let q;x&&(q=this.pluralResolver.getSuffix(A,r.count,r));const Y=`${this.options.pluralSeparator}zero`,D=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(R.push(v+q),r.ordinal&&q.indexOf(D)===0&&R.push(v+q.replace(D,this.options.pluralSeparator)),S&&R.push(v+Y)),_){const H=`${v}${this.options.contextSeparator}${r.context}`;R.push(H),x&&(R.push(H+q),r.ordinal&&q.indexOf(D)===0&&R.push(H+q.replace(D,this.options.pluralSeparator)),S&&R.push(H+Y))}}let T;for(;T=R.pop();)this.isValidLookup(i)||(c=T,i=this.getResource(A,j,T,r))}))})}),{res:i,usedKey:o,exactUsedKey:c,usedLng:h,usedNS:g}}isValidLookup(a){return a!==void 0&&!(!this.options.returnNull&&a===null)&&!(!this.options.returnEmptyString&&a==="")}getResource(a,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(a,r,i,o):this.resourceStore.getResource(a,r,i,o)}getUsedParamsDetails(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=a.replace&&!he(a.replace);let o=i?a.replace:a;if(i&&typeof a.count<"u"&&(o.count=a.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!i){o={...o};for(const c of r)delete o[c]}return o}static hasDefaultValue(a){const r="defaultValue";for(const i in a)if(Object.prototype.hasOwnProperty.call(a,i)&&r===i.substring(0,r.length)&&a[i]!==void 0)return!0;return!1}}const Wu=n=>n.charAt(0).toUpperCase()+n.slice(1);class p0{constructor(a){this.options=a,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ya.create("languageUtils")}getScriptPartFromCode(a){if(a=co(a),!a||a.indexOf("-")<0)return null;const r=a.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(a){if(a=co(a),!a||a.indexOf("-")<0)return a;const r=a.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(a){if(he(a)&&a.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let o=Intl.getCanonicalLocales(a)[0];if(o&&this.options.lowerCaseLng&&(o=o.toLowerCase()),o)return o}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let i=a.split("-");return this.options.lowerCaseLng?i=i.map(o=>o.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Wu(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Wu(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=Wu(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a}isSupportedCode(a){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(a=this.getLanguagePartFromCode(a)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(a)>-1}getBestMatchFromCodes(a){if(!a)return null;let r;return a.forEach(i=>{if(r)return;const o=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(o))&&(r=o)}),!r&&this.options.supportedLngs&&a.forEach(i=>{if(r)return;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return r=o;r=this.options.supportedLngs.find(c=>{if(c===o)return c;if(!(c.indexOf("-")<0&&o.indexOf("-")<0)&&(c.indexOf("-")>0&&o.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===o||c.indexOf(o)===0&&o.length>1))return c})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(a,r){if(!a)return[];if(typeof a=="function"&&(a=a(r)),he(a)&&(a=[a]),Array.isArray(a))return a;if(!r)return a.default||[];let i=a[r];return i||(i=a[this.getScriptPartFromCode(r)]),i||(i=a[this.formatLanguageCode(r)]),i||(i=a[this.getLanguagePartFromCode(r)]),i||(i=a.default),i||[]}toResolveHierarchy(a,r){const i=this.getFallbackCodes(r||this.options.fallbackLng||[],a),o=[],c=h=>{h&&(this.isSupportedCode(h)?o.push(h):this.logger.warn(`rejecting language code not found in supportedLngs: ${h}`))};return he(a)&&(a.indexOf("-")>-1||a.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(a)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(a)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(a))):he(a)&&c(this.formatLanguageCode(a)),i.forEach(h=>{o.indexOf(h)<0&&c(this.formatLanguageCode(h))}),o}}let dw=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],fw={1:n=>+(n>1),2:n=>+(n!=1),3:n=>0,4:n=>n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,5:n=>n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5,6:n=>n==1?0:n>=2&&n<=4?1:2,7:n=>n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,8:n=>n==1?0:n==2?1:n!=8&&n!=11?2:3,9:n=>+(n>=2),10:n=>n==1?0:n==2?1:n<7?2:n<11?3:4,11:n=>n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3,12:n=>+(n%10!=1||n%100==11),13:n=>+(n!==0),14:n=>n==1?0:n==2?1:n==3?2:3,15:n=>n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2,16:n=>n%10==1&&n%100!=11?0:n!==0?1:2,17:n=>n==1||n%10==1&&n%100!=11?0:1,18:n=>n==0?0:n==1?1:2,19:n=>n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3,20:n=>n==1?0:n==0||n%100>0&&n%100<20?1:2,21:n=>n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0,22:n=>n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3};const hw=["v1","v2","v3"],gw=["v4"],y0={zero:0,one:1,two:2,few:3,many:4,other:5},mw=()=>{const n={};return dw.forEach(a=>{a.lngs.forEach(r=>{n[r]={numbers:a.nr,plurals:fw[a.fc]}})}),n};class pw{constructor(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=a,this.options=r,this.logger=ya.create("pluralResolver"),(!this.options.compatibilityJSON||gw.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=mw(),this.pluralRulesCache={}}addRule(a,r){this.rules[a]=r}clearCache(){this.pluralRulesCache={}}getRule(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const i=co(a==="dev"?"en":a),o=r.ordinal?"ordinal":"cardinal",c=JSON.stringify({cleanedCode:i,type:o});if(c in this.pluralRulesCache)return this.pluralRulesCache[c];let h;try{h=new Intl.PluralRules(i,{type:o})}catch{if(!a.match(/-|_/))return;const m=this.languageUtils.getLanguagePartFromCode(a);h=this.getRule(m,r)}return this.pluralRulesCache[c]=h,h}return this.rules[a]||this.rules[this.languageUtils.getLanguagePartFromCode(a)]}needsPlural(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(a,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(a,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(a,i).map(o=>`${r}${o}`)}getSuffixes(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(a,r);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((o,c)=>y0[o]-y0[c]).map(o=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o}`):i.numbers.map(o=>this.getSuffix(a,o,r)):[]}getSuffix(a,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(a,i);return o?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${o.select(r)}`:this.getSuffixRetroCompatible(o,r):(this.logger.warn(`no plural rule found for: ${a}`),"")}getSuffixRetroCompatible(a,r){const i=a.noAbs?a.plurals(r):a.plurals(Math.abs(r));let o=a.numbers[i];this.options.simplifyPluralSuffix&&a.numbers.length===2&&a.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));const c=()=>this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString();return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?`_plural_${o.toString()}`:c():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&a.numbers.length===2&&a.numbers[0]===1?c():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!hw.includes(this.options.compatibilityJSON)}}const v0=function(n,a,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,c=nw(n,a,r);return!c&&o&&he(r)&&(c=md(n,r,i),c===void 0&&(c=md(a,r,i))),c},ed=n=>n.replace(/\$/g,"$$$$");class yw{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ya.create("interpolator"),this.options=a,this.format=a.interpolation&&a.interpolation.format||(r=>r),this.init(a)}init(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};a.interpolation||(a.interpolation={escapeValue:!0});const{escape:r,escapeValue:i,useRawValueToEscape:o,prefix:c,prefixEscaped:h,suffix:g,suffixEscaped:m,formatSeparator:p,unescapeSuffix:v,unescapePrefix:w,nestingPrefix:x,nestingPrefixEscaped:S,nestingSuffix:_,nestingSuffixEscaped:N,nestingOptionsSeparator:j,maxReplaces:A,alwaysFormat:R}=a.interpolation;this.escape=r!==void 0?r:sw,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=c?zr(c):h||"{{",this.suffix=g?zr(g):m||"}}",this.formatSeparator=p||",",this.unescapePrefix=v?"":w||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=x?zr(x):S||zr("$t("),this.nestingSuffix=_?zr(_):N||zr(")"),this.nestingOptionsSeparator=j||",",this.maxReplaces=A||1e3,this.alwaysFormat=R!==void 0?R:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const a=(r,i)=>r&&r.source===i?(r.lastIndex=0,r):new RegExp(i,"g");this.regexp=a(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=a(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=a(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(a,r,i,o){let c,h,g;const m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=S=>{if(S.indexOf(this.formatSeparator)<0){const A=v0(r,m,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,i,{...o,...r,interpolationkey:S}):A}const _=S.split(this.formatSeparator),N=_.shift().trim(),j=_.join(this.formatSeparator).trim();return this.format(v0(r,m,N,this.options.keySeparator,this.options.ignoreJSONStructure),j,i,{...o,...r,interpolationkey:N})};this.resetRegExp();const v=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,w=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>ed(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?ed(this.escape(S)):ed(S)}].forEach(S=>{for(g=0;c=S.regex.exec(a);){const _=c[1].trim();if(h=p(_),h===void 0)if(typeof v=="function"){const j=v(a,c,o);h=he(j)?j:""}else if(o&&Object.prototype.hasOwnProperty.call(o,_))h="";else if(w){h=c[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${a}`),h="";else!he(h)&&!this.useRawValueToEscape&&(h=u0(h));const N=S.safeValue(h);if(a=a.replace(c[0],N),w?(S.regex.lastIndex+=h.length,S.regex.lastIndex-=c[0].length):S.regex.lastIndex=0,g++,g>=this.maxReplaces)break}}),a}nest(a,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,c,h;const g=(m,p)=>{const v=this.nestingOptionsSeparator;if(m.indexOf(v)<0)return m;const w=m.split(new RegExp(`${v}[ ]*{`));let x=`{${w[1]}`;m=w[0],x=this.interpolate(x,h);const S=x.match(/'/g),_=x.match(/"/g);(S&&S.length%2===0&&!_||_.length%2!==0)&&(x=x.replace(/'/g,'"'));try{h=JSON.parse(x),p&&(h={...p,...h})}catch(N){return this.logger.warn(`failed parsing options string in nesting for key ${m}`,N),`${m}${v}${x}`}return h.defaultValue&&h.defaultValue.indexOf(this.prefix)>-1&&delete h.defaultValue,m};for(;o=this.nestingRegexp.exec(a);){let m=[];h={...i},h=h.replace&&!he(h.replace)?h.replace:h,h.applyPostProcessor=!1,delete h.defaultValue;let p=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const v=o[1].split(this.formatSeparator).map(w=>w.trim());o[1]=v.shift(),m=v,p=!0}if(c=r(g.call(this,o[1].trim(),h),h),c&&o[0]===a&&!he(c))return c;he(c)||(c=u0(c)),c||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${a}`),c=""),p&&(c=m.reduce((v,w)=>this.format(v,w,i.lng,{...i,interpolationkey:o[1].trim()}),c.trim())),a=a.replace(o[0],c),this.regexp.lastIndex=0}return a}}const vw=n=>{let a=n.toLowerCase().trim();const r={};if(n.indexOf("(")>-1){const i=n.split("(");a=i[0].toLowerCase().trim();const o=i[1].substring(0,i[1].length-1);a==="currency"&&o.indexOf(":")<0?r.currency||(r.currency=o.trim()):a==="relativetime"&&o.indexOf(":")<0?r.range||(r.range=o.trim()):o.split(";").forEach(h=>{if(h){const[g,...m]=h.split(":"),p=m.join(":").trim().replace(/^'+|'+$/g,""),v=g.trim();r[v]||(r[v]=p),p==="false"&&(r[v]=!1),p==="true"&&(r[v]=!0),isNaN(p)||(r[v]=parseInt(p,10))}})}return{formatName:a,formatOptions:r}},Mr=n=>{const a={};return(r,i,o)=>{let c=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(c={...c,[o.interpolationkey]:void 0});const h=i+JSON.stringify(c);let g=a[h];return g||(g=n(co(i),o),a[h]=g),g(r)}};class bw{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ya.create("formatter"),this.options=a,this.formats={number:Mr((r,i)=>{const o=new Intl.NumberFormat(r,{...i});return c=>o.format(c)}),currency:Mr((r,i)=>{const o=new Intl.NumberFormat(r,{...i,style:"currency"});return c=>o.format(c)}),datetime:Mr((r,i)=>{const o=new Intl.DateTimeFormat(r,{...i});return c=>o.format(c)}),relativetime:Mr((r,i)=>{const o=new Intl.RelativeTimeFormat(r,{...i});return c=>o.format(c,i.range||"day")}),list:Mr((r,i)=>{const o=new Intl.ListFormat(r,{...i});return c=>o.format(c)})},this.init(a)}init(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(a,r){this.formats[a.toLowerCase().trim()]=r}addCached(a,r){this.formats[a.toLowerCase().trim()]=Mr(r)}format(a,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const c=r.split(this.formatSeparator);if(c.length>1&&c[0].indexOf("(")>1&&c[0].indexOf(")")<0&&c.find(g=>g.indexOf(")")>-1)){const g=c.findIndex(m=>m.indexOf(")")>-1);c[0]=[c[0],...c.splice(1,g)].join(this.formatSeparator)}return c.reduce((g,m)=>{const{formatName:p,formatOptions:v}=vw(m);if(this.formats[p]){let w=g;try{const x=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},S=x.locale||x.lng||o.locale||o.lng||i;w=this.formats[p](g,S,{...v,...o,...x})}catch(x){this.logger.warn(x)}return w}else this.logger.warn(`there was no format function for ${p}`);return g},a)}}const xw=(n,a)=>{n.pending[a]!==void 0&&(delete n.pending[a],n.pendingCount--)};class ww extends jo{constructor(a,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=a,this.store=r,this.services=i,this.languageUtils=i.languageUtils,this.options=o,this.logger=ya.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,o.backend,o)}queueLoad(a,r,i,o){const c={},h={},g={},m={};return a.forEach(p=>{let v=!0;r.forEach(w=>{const x=`${p}|${w}`;!i.reload&&this.store.hasResourceBundle(p,w)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?h[x]===void 0&&(h[x]=!0):(this.state[x]=1,v=!1,h[x]===void 0&&(h[x]=!0),c[x]===void 0&&(c[x]=!0),m[w]===void 0&&(m[w]=!0)))}),v||(g[p]=!0)}),(Object.keys(c).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(c),pending:Object.keys(h),toLoadLanguages:Object.keys(g),toLoadNamespaces:Object.keys(m)}}loaded(a,r,i){const o=a.split("|"),c=o[0],h=o[1];r&&this.emit("failedLoading",c,h,r),!r&&i&&this.store.addResourceBundle(c,h,i,void 0,void 0,{skipCopy:!0}),this.state[a]=r?-1:2,r&&i&&(this.state[a]=0);const g={};this.queue.forEach(m=>{aw(m.loaded,[c],h),xw(m,a),r&&m.errors.push(r),m.pendingCount===0&&!m.done&&(Object.keys(m.loaded).forEach(p=>{g[p]||(g[p]={});const v=m.loaded[p];v.length&&v.forEach(w=>{g[p][w]===void 0&&(g[p][w]=!0)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",g),this.queue=this.queue.filter(m=>!m.done)}read(a,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,h=arguments.length>5?arguments[5]:void 0;if(!a.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:a,ns:r,fcName:i,tried:o,wait:c,callback:h});return}this.readingCalls++;const g=(p,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const w=this.waitingReads.shift();this.read(w.lng,w.ns,w.fcName,w.tried,w.wait,w.callback)}if(p&&v&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,a,r,i,o+1,c*2,h)},c);return}h(p,v)},m=this.backend[i].bind(this.backend);if(m.length===2){try{const p=m(a,r);p&&typeof p.then=="function"?p.then(v=>g(null,v)).catch(g):g(null,p)}catch(p){g(p)}return}return m(a,r,g)}prepareLoading(a,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();he(a)&&(a=this.languageUtils.toResolveHierarchy(a)),he(r)&&(r=[r]);const c=this.queueLoad(a,r,i,o);if(!c.toLoad.length)return c.pending.length||o(),null;c.toLoad.forEach(h=>{this.loadOne(h)})}load(a,r,i){this.prepareLoading(a,r,{},i)}reload(a,r,i){this.prepareLoading(a,r,{reload:!0},i)}loadOne(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=a.split("|"),o=i[0],c=i[1];this.read(o,c,"read",void 0,void 0,(h,g)=>{h&&this.logger.warn(`${r}loading namespace ${c} for language ${o} failed`,h),!h&&g&&this.logger.log(`${r}loaded namespace ${c} for language ${o}`,g),this.loaded(a,h,g)})}saveMissing(a,r,i,o,c){let h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${i}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const m={...h,isUpdate:c},p=this.backend.create.bind(this.backend);if(p.length<6)try{let v;p.length===5?v=p(a,r,i,o,m):v=p(a,r,i,o),v&&typeof v.then=="function"?v.then(w=>g(null,w)).catch(g):g(null,v)}catch(v){g(v)}else p(a,r,i,o,g,m)}!a||!a[0]||this.store.addResource(a[0],r,i,o)}}}const b0=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let a={};if(typeof n[1]=="object"&&(a=n[1]),he(n[1])&&(a.defaultValue=n[1]),he(n[2])&&(a.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const r=n[3]||n[2];Object.keys(r).forEach(i=>{a[i]=r[i]})}return a},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),x0=n=>(he(n.ns)&&(n.ns=[n.ns]),he(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),he(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n),Hl=()=>{},Sw=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(r=>{typeof n[r]=="function"&&(n[r]=n[r].bind(n))})};class hi extends jo{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=x0(a),this.services={},this.logger=ya,this.modules={external:[]},Sw(this),r&&!this.isInitialized&&!a.isClone){if(!this.options.initImmediate)return this.init(a,r),this;setTimeout(()=>{this.init(a,r)},0)}}init(){var a=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(i=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(he(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const o=b0();this.options={...o,...this.options,...x0(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...o.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const c=v=>v?typeof v=="function"?new v:v:null;if(!this.options.isClone){this.modules.logger?ya.init(c(this.modules.logger),this.options):ya.init(null,this.options);let v;this.modules.formatter?v=this.modules.formatter:typeof Intl<"u"&&(v=bw);const w=new p0(this.options);this.store=new g0(this.options.resources,this.options);const x=this.services;x.logger=ya,x.resourceStore=this.store,x.languageUtils=w,x.pluralResolver=new pw(w,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),v&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(x.formatter=c(v),x.formatter.init(x,this.options),this.options.interpolation.format=x.formatter.format.bind(x.formatter)),x.interpolator=new yw(this.options),x.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},x.backendConnector=new ww(c(this.modules.backend),x.resourceStore,x,this.options),x.backendConnector.on("*",function(S){for(var _=arguments.length,N=new Array(_>1?_-1:0),j=1;j<_;j++)N[j-1]=arguments[j];a.emit(S,...N)}),this.modules.languageDetector&&(x.languageDetector=c(this.modules.languageDetector),x.languageDetector.init&&x.languageDetector.init(x,this.options.detection,this.options)),this.modules.i18nFormat&&(x.i18nFormat=c(this.modules.i18nFormat),x.i18nFormat.init&&x.i18nFormat.init(this)),this.translator=new fo(this.services,this.options),this.translator.on("*",function(S){for(var _=arguments.length,N=new Array(_>1?_-1:0),j=1;j<_;j++)N[j-1]=arguments[j];a.emit(S,...N)}),this.modules.external.forEach(S=>{S.init&&S.init(this)})}if(this.format=this.options.interpolation.format,i||(i=Hl),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const v=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);v.length>0&&v[0]!=="dev"&&(this.options.lng=v[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(v=>{this[v]=function(){return a.store[v](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(v=>{this[v]=function(){return a.store[v](...arguments),a}});const m=ti(),p=()=>{const v=(w,x)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),m.resolve(x),i(w,x)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return v(null,this.t.bind(this));this.changeLanguage(this.options.lng,v)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),m}loadResources(a){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hl;const o=he(a)?a:this.language;if(typeof a=="function"&&(i=a),!this.options.resources||this.options.partialBundledLanguages){if(o&&o.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const c=[],h=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(p=>{p!=="cimode"&&c.indexOf(p)<0&&c.push(p)})};o?h(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>h(m)),this.options.preload&&this.options.preload.forEach(g=>h(g)),this.services.backendConnector.load(c,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(g)})}else i(null)}reloadResources(a,r,i){const o=ti();return typeof a=="function"&&(i=a,a=void 0),typeof r=="function"&&(i=r,r=void 0),a||(a=this.languages),r||(r=this.options.ns),i||(i=Hl),this.services.backendConnector.reload(a,r,c=>{o.resolve(),i(c)}),o}use(a){if(!a)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!a.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return a.type==="backend"&&(this.modules.backend=a),(a.type==="logger"||a.log&&a.warn&&a.error)&&(this.modules.logger=a),a.type==="languageDetector"&&(this.modules.languageDetector=a),a.type==="i18nFormat"&&(this.modules.i18nFormat=a),a.type==="postProcessor"&&jp.addPostProcessor(a),a.type==="formatter"&&(this.modules.formatter=a),a.type==="3rdParty"&&this.modules.external.push(a),this}setResolvedLanguage(a){if(!(!a||!this.languages)&&!(["cimode","dev"].indexOf(a)>-1))for(let r=0;r<this.languages.length;r++){const i=this.languages[r];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(a,r){var i=this;this.isLanguageChangingTo=a;const o=ti();this.emit("languageChanging",a);const c=m=>{this.language=m,this.languages=this.services.languageUtils.toResolveHierarchy(m),this.resolvedLanguage=void 0,this.setResolvedLanguage(m)},h=(m,p)=>{p?(c(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,o.resolve(function(){return i.t(...arguments)}),r&&r(m,function(){return i.t(...arguments)})},g=m=>{!a&&!m&&this.services.languageDetector&&(m=[]);const p=he(m)?m:this.services.languageUtils.getBestMatchFromCodes(m);p&&(this.language||c(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(p)),this.loadResources(p,v=>{h(v,p)})};return!a&&this.services.languageDetector&&!this.services.languageDetector.async?g(this.services.languageDetector.detect()):!a&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(g):this.services.languageDetector.detect(g):g(a),o}getFixedT(a,r,i){var o=this;const c=function(h,g){let m;if(typeof g!="object"){for(var p=arguments.length,v=new Array(p>2?p-2:0),w=2;w<p;w++)v[w-2]=arguments[w];m=o.options.overloadTranslationOptionHandler([h,g].concat(v))}else m={...g};m.lng=m.lng||c.lng,m.lngs=m.lngs||c.lngs,m.ns=m.ns||c.ns,m.keyPrefix!==""&&(m.keyPrefix=m.keyPrefix||i||c.keyPrefix);const x=o.options.keySeparator||".";let S;return m.keyPrefix&&Array.isArray(h)?S=h.map(_=>`${m.keyPrefix}${x}${_}`):S=m.keyPrefix?`${m.keyPrefix}${x}${h}`:h,o.t(S,m)};return he(a)?c.lng=a:c.lngs=a,c.ns=r,c.keyPrefix=i,c}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(a){this.options.defaultNS=a}hasLoadedNamespace(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=r.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const h=(g,m)=>{const p=this.services.backendConnector.state[`${g}|${m}`];return p===-1||p===0||p===2};if(r.precheck){const g=r.precheck(this,h);if(g!==void 0)return g}return!!(this.hasResourceBundle(i,a)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(i,a)&&(!o||h(c,a)))}loadNamespaces(a,r){const i=ti();return this.options.ns?(he(a)&&(a=[a]),a.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{i.resolve(),r&&r(o)}),i):(r&&r(),Promise.resolve())}loadLanguages(a,r){const i=ti();he(a)&&(a=[a]);const o=this.options.preload||[],c=a.filter(h=>o.indexOf(h)<0&&this.services.languageUtils.isSupportedCode(h));return c.length?(this.options.preload=o.concat(c),this.loadResources(h=>{i.resolve(),r&&r(h)}),i):(r&&r(),Promise.resolve())}dir(a){if(a||(a=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!a)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new p0(b0());return r.indexOf(i.getLanguagePartFromCode(a))>-1||a.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new hi(a,r)}cloneInstance(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hl;const i=a.forkResourceStore;i&&delete a.forkResourceStore;const o={...this.options,...a,isClone:!0},c=new hi(o);return(a.debug!==void 0||a.prefix!==void 0)&&(c.logger=c.logger.clone(a)),["store","services","language"].forEach(g=>{c[g]=this[g]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},i&&(c.store=new g0(this.store.data,o),c.services.resourceStore=c.store),c.translator=new fo(c.services,o),c.translator.on("*",function(g){for(var m=arguments.length,p=new Array(m>1?m-1:0),v=1;v<m;v++)p[v-1]=arguments[v];c.emit(g,...p)}),c.init(o,r),c.translator.options=o,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const at=hi.createInstance();at.createInstance=hi.createInstance;at.createInstance;at.dir;at.init;at.loadResources;at.reloadResources;at.use;at.changeLanguage;at.getFixedT;at.t;at.exists;at.setDefaultNamespace;at.hasLoadedNamespace;at.loadNamespaces;at.loadLanguages;function _w(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function gi(n){"@babel/helpers - typeof";return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},gi(n)}function jw(n,a){if(gi(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,a);if(gi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Nw(n){var a=jw(n,"string");return gi(a)=="symbol"?a:a+""}function kw(n,a){for(var r=0;r<a.length;r++){var i=a[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Nw(i.key),i)}}function Aw(n,a,r){return a&&kw(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),n}var Np=[],Cw=Np.forEach,Ew=Np.slice;function Tw(n){return Cw.call(Ew.call(arguments,1),function(a){if(a)for(var r in a)n[r]===void 0&&(n[r]=a[r])}),n}var w0=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Ow=function(a,r,i){var o=i||{};o.path=o.path||"/";var c=encodeURIComponent(r),h="".concat(a,"=").concat(c);if(o.maxAge>0){var g=o.maxAge-0;if(Number.isNaN(g))throw new Error("maxAge should be a Number");h+="; Max-Age=".concat(Math.floor(g))}if(o.domain){if(!w0.test(o.domain))throw new TypeError("option domain is invalid");h+="; Domain=".concat(o.domain)}if(o.path){if(!w0.test(o.path))throw new TypeError("option path is invalid");h+="; Path=".concat(o.path)}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");h+="; Expires=".concat(o.expires.toUTCString())}if(o.httpOnly&&(h+="; HttpOnly"),o.secure&&(h+="; Secure"),o.sameSite){var m=typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite;switch(m){case!0:h+="; SameSite=Strict";break;case"lax":h+="; SameSite=Lax";break;case"strict":h+="; SameSite=Strict";break;case"none":h+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return h},S0={create:function(a,r,i,o){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(c.expires=new Date,c.expires.setTime(c.expires.getTime()+i*60*1e3)),o&&(c.domain=o),document.cookie=Ow(a,encodeURIComponent(r),c)},read:function(a){for(var r="".concat(a,"="),i=document.cookie.split(";"),o=0;o<i.length;o++){for(var c=i[o];c.charAt(0)===" ";)c=c.substring(1,c.length);if(c.indexOf(r)===0)return c.substring(r.length,c.length)}return null},remove:function(a){this.create(a,"",-1)}},Rw={name:"cookie",lookup:function(a){var r;if(a.lookupCookie&&typeof document<"u"){var i=S0.read(a.lookupCookie);i&&(r=i)}return r},cacheUserLanguage:function(a,r){r.lookupCookie&&typeof document<"u"&&S0.create(r.lookupCookie,a,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},Dw={name:"querystring",lookup:function(a){var r;if(typeof window<"u"){var i=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));for(var o=i.substring(1),c=o.split("&"),h=0;h<c.length;h++){var g=c[h].indexOf("=");if(g>0){var m=c[h].substring(0,g);m===a.lookupQuerystring&&(r=c[h].substring(g+1))}}}return r}},ai=null,_0=function(){if(ai!==null)return ai;try{ai=window!=="undefined"&&window.localStorage!==null;var a="i18next.translate.boo";window.localStorage.setItem(a,"foo"),window.localStorage.removeItem(a)}catch{ai=!1}return ai},Lw={name:"localStorage",lookup:function(a){var r;if(a.lookupLocalStorage&&_0()){var i=window.localStorage.getItem(a.lookupLocalStorage);i&&(r=i)}return r},cacheUserLanguage:function(a,r){r.lookupLocalStorage&&_0()&&window.localStorage.setItem(r.lookupLocalStorage,a)}},ni=null,j0=function(){if(ni!==null)return ni;try{ni=window!=="undefined"&&window.sessionStorage!==null;var a="i18next.translate.boo";window.sessionStorage.setItem(a,"foo"),window.sessionStorage.removeItem(a)}catch{ni=!1}return ni},Uw={name:"sessionStorage",lookup:function(a){var r;if(a.lookupSessionStorage&&j0()){var i=window.sessionStorage.getItem(a.lookupSessionStorage);i&&(r=i)}return r},cacheUserLanguage:function(a,r){r.lookupSessionStorage&&j0()&&window.sessionStorage.setItem(r.lookupSessionStorage,a)}},zw={name:"navigator",lookup:function(a){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)r.push(navigator.languages[i]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},Mw={name:"htmlTag",lookup:function(a){var r,i=a.htmlTag||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(r=i.getAttribute("lang")),r}},qw={name:"path",lookup:function(a){var r;if(typeof window<"u"){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if(typeof a.lookupFromPathIndex=="number"){if(typeof i[a.lookupFromPathIndex]!="string")return;r=i[a.lookupFromPathIndex].replace("/","")}else r=i[0].replace("/","")}return r}},$w={name:"subdomain",lookup:function(a){var r=typeof a.lookupFromSubdomainIndex=="number"?a.lookupFromSubdomainIndex+1:1,i=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[r]}},kp=!1;try{document.cookie,kp=!0}catch{}var Ap=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];kp||Ap.splice(1,1);function Bw(){return{order:Ap,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(a){return a}}}var Cp=(function(){function n(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_w(this,n),this.type="languageDetector",this.detectors={},this.init(a,r)}return Aw(n,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r||{languageUtils:{}},this.options=Tw(i,this.options||{},Bw()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(c){return c.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(Rw),this.addDetector(Dw),this.addDetector(Lw),this.addDetector(Uw),this.addDetector(zw),this.addDetector(Mw),this.addDetector(qw),this.addDetector($w)}},{key:"addDetector",value:function(r){return this.detectors[r.name]=r,this}},{key:"detect",value:function(r){var i=this;r||(r=this.options.order);var o=[];return r.forEach(function(c){if(i.detectors[c]){var h=i.detectors[c].lookup(i.options);h&&typeof h=="string"&&(h=[h]),h&&(o=o.concat(h))}}),o=o.map(function(c){return i.options.convertDetectedLanguage(c)}),this.services.languageUtils.getBestMatchFromCodes?o:o.length>0?o[0]:null}},{key:"cacheUserLanguage",value:function(r,i){var o=this;i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||i.forEach(function(c){o.detectors[c]&&o.detectors[c].cacheUserLanguage(r,o.options)}))}}])})();Cp.type="languageDetector";const Vw={home:"Home",search:"Search",favorites:"Favorites",profile:"Profile",verify:"Verify",cart:"Cart",explore:"Explore",saved:"Saved"},Pw={title:"Souq Iraq",subtitle:"Smart Marketplace",searchPlaceholder:"Search products, sellers...",hotDeals:"Hot Deals",topSellers:"Top Sellers",trendingNow:"Trending Now",seeAll:"See All",zeroCommission:"Zero Commission",sellForFree:"Sell for Free!",keepProfit:"Keep 100% Profit",joinSellers:"Join 500+ Iraqi sellers today",startSelling:"Start Selling"},Iw={productDetails:"Product Details",buyViaWhatsApp:"Buy via WhatsApp",addToCart:"Add to Cart",viewCount:"views",view:"view",viewsCount:"View Count",inStock:"In Stock",outOfStock:"Out of Stock",soldOut:"Sold Out",screenshotWarning:"Screenshots are not allowed",moreFromSeller:"More from this seller",addedToCart:"Added to Cart",productNotFound:"Product not found",off:"OFF",category:"Category",description:"Description"},Hw={title:"Shopping Cart",empty:"Your cart is empty",emptyDescription:"Start shopping to add items to your cart",emptyCart:"Empty Cart",emptyCartMessage:"Start shopping and add products to your cart",continueShopping:"Continue Shopping",completeOrder:"Complete Order",total:"Total",items:"items",sellerOrder:"Order from",sellerTotal:"Seller Total",orderTotal:"Order Total",orderSummary:"Order Summary",remove:"Remove",quantity:"Quantity",subtotal:"Subtotal",delivery:"Delivery",freeDelivery:"Free Delivery",orderViaWhatsApp:"Order via WhatsApp",warning:"Orders are sent individually to each seller",confirmOrder:"Confirm Order",confirmOrderMessage:"WhatsApp will open for each seller ({{count}} sellers) to send your order",inCart:"in cart"},Gw={products:"Products",reviews:"Reviews",verified:"Verified Seller",deliveryToAllIraq:"Delivery to all Iraq",totalSales:"Total Sales",rating:"Rating",joined:"Joined",contact:"Contact",follow:"Follow",following:"Following",message:"Message",viewAllProducts:"View All Products",noProducts:"No products available",addProduct:"Add Product",productName:"Product Name",productDescription:"Product Description",productImage:"Product Image",productCategory:"Product Category",productPrice:"Price",myProducts:"My Products",sellerDashboard:"Seller Dashboard",verifiedSellers:"Verified Sellers",unverified:"Unverified",delivery:"Delivery",phone:"Phone",location:"Location",statistics:"Statistics",overview:"Overview",totalProducts:"Total Products",inStock:"In Stock",outOfStock:"Out of Stock",totalViews:"Total Views",verificationStatus:"Verification Status",unverifiedAccount:"Unverified Account",verifyAccount:"Verify your account for extra features",verifiedAccountBenefits:"Your products appear first in search",addNewProduct:"Add New Product",addProductHint:"Add your product easily - just the basics",productAddedSuccess:"Product added successfully!",selectCategory:"Select category",sellerInfoPreSaved:"Seller Info (Pre-saved)",store:"Store",productsCount:"products"},Kw={title:"Search",placeholder:"Search products...",categories:"Categories",locations:"Locations",priceRange:"Price Range",filters:"Filters",clearFilters:"Clear Filters",noResults:"No results found",tryDifferent:"Try a different search term",sortBy:"Sort by",newest:"Newest",popular:"Most Popular",priceLow:"Price: Low to High",priceHigh:"Price: High to Low",allCategories:"All Categories",allLocations:"All Locations"},Yw={title:"Saved Items",empty:"No saved items",emptyDescription:"Save products you like by tapping the heart icon",startShopping:"Start Shopping"},Qw={title:"Profile",guestUser:"Guest User",welcomeSubtitle:"Welcome to Souq Iraq",buyerTab:"Buyer",sellerTab:"Seller",login:"Login",register:"Register",logout:"Logout",myOrders:"My Orders",myFavorites:"My Favorites",settings:"Settings",help:"Help & Support",about:"About",becomeSeller:"Become a Seller",sellerDashboard:"Seller Dashboard",editProfile:"Edit Profile",changePassword:"Change Password",language:"Language",notifications:"Notifications",appearance:"Appearance",installApp:"Install App",comingSoon:"Coming Soon",systemTheme:"System",lightTheme:"Light",darkTheme:"Dark",addNewProduct:"Add New Product",myProducts:"My Products",analytics:"Analytics",verification:"Verification",privacy:"Privacy Policy",terms:"Terms of Service",version:"Version",signOutTitle:"Sign Out",signOutMessage:"Are you sure you want to sign out? Your cart will be cleared."},Jw={title:"Help & Support",message:"Hello, I need help with the Souq Iraq app."},Xw={title:"Install App",ios:"On iPhone (Safari): Share → Add to Home Screen",android:"On Android (Chrome): Menu → Install app"},Fw={loginTitle:"Welcome Back",loginSubtitle:"Sign in to continue",registerTitle:"Create Account",registerSubtitle:"Join Souq Iraq today",email:"Email",password:"Password",confirmPassword:"Confirm Password",name:"Full Name",nameAr:"Name in Arabic",phone:"Phone Number",rememberMe:"Remember me",forgotPassword:"Forgot Password?",noAccount:"Don't have an account?",hasAccount:"Already have an account?",signUp:"Sign Up",signIn:"Sign In",orContinueWith:"Or continue with",loginSuccess:"Login successful",logoutSuccess:"Logged out successfully",registerSuccess:"Account created successfully",invalidCredentials:"Invalid email or password",emailRequired:"Email is required",passwordRequired:"Password is required",nameRequired:"Name is required",passwordMismatch:"Passwords do not match",weakPassword:"Password is too weak",emailExists:"An account with this email already exists"},Zw={title:"Verification",subtitle:"Verify sellers and products",verifySeller:"Verify Seller",verifyProduct:"Verify Product",verified:"Verified",pending:"Pending",rejected:"Rejected",submitDocuments:"Submit Documents",verificationStatus:"Verification Status",verificationPending:"Your verification is being reviewed",verificationApproved:"Congratulations! You are now verified",verificationRejected:"Your verification was rejected"},Ww={verified:"Verified",pending:"Pending",rejected:"Rejected",notVerified:"Not Verified",requestVerification:"Request Verification",verificationStatus:"Verification Status",verifiedProduct:"Verified Product",pendingReview:"Pending Review",reRequest:"Re-request Verification",productVerified:"Product Verified",verifiedBenefits:"Appears first in search results",requestTitle:"Request Product Verification",requirements:"Requirements",requirementInvoice:"Original purchase invoice",requirementPhotos:"Clear product photos",requirementDescription:"Accurate product description",uploadDocuments:"Upload Documents",dragDrop:"Drag and drop files here",supportedFormats:"PDF, JPG, PNG (max 5MB)",benefitsTitle:"Verification Benefits",benefit1:"Product appears first in search",benefit2:"Increased buyer trust",benefit3:"Distinctive verification badge",submit:"Submit Request",verifiedTitle:"Product Verified",verifiedDescription:"This product has been verified",verifiedOn:"Verified on",pendingTitle:"Pending Review",pendingDescription:"Verification request is being reviewed",rejectedTitle:"Rejected",rejectedDescription:"Verification request was rejected",notVerifiedTitle:"Not Verified",notVerifiedDescription:"Verification has not been requested",reason:"Reason",productVerification:"Product Verification",queueTitle:"Pending Verification Requests",noPending:"No pending requests",reviewRequest:"Review Verification Request",price:"Price",documents:"Documents",requestedOn:"Requested on",reject:"Reject",approve:"Approve",confirmReject:"Confirm Rejection",rejectReasonPlaceholder:"Enter rejection reason..."},eS={dashboard:"Dashboard",users:"Users",sellers:"Sellers",products:"Products",orders:"Orders",analytics:"Analytics",settings:"Settings",totalUsers:"Total Users",totalSellers:"Total Sellers",totalProducts:"Total Products",totalOrders:"Total Orders",recentActivity:"Recent Activity",pendingVerifications:"Pending Verifications",reports:"Reports"},tS={loading:"Loading...",error:"An error occurred",retry:"Retry",cancel:"Cancel",confirm:"Confirm",save:"Save",delete:"Delete",edit:"Edit",add:"Add",close:"Close",back:"Back",next:"Next",done:"Done",yes:"Yes",no:"No",ok:"OK",success:"Success",warning:"Warning",info:"Information",currency:"IQD",language:"Language",english:"English",arabic:"Arabic",cart:"Cart",addToCart:"Add to Cart",removeFromCart:"Remove from Cart",checkout:"Checkout",orderTotal:"Order Total",quantity:"Quantity",screenshotWarning:"Take a screenshot of the product and send it to the seller before buying"},aS={networkError:"Network error. Please check your connection.",serverError:"Server error. Please try again later.",notFound:"Not found",unauthorized:"You are not authorized to access this",forbidden:"Access forbidden",validationError:"Please check your input",sessionExpired:"Your session has expired. Please login again.",rateLimited:"Too many requests. Please wait and try again."},nS={emptyTitle:"No notifications",emptyDescription:"You're all caught up.",welcome:"Welcome to Souq Iraq!",orderPlaced:"Your order has been placed",orderShipped:"Your order has been shipped",orderDelivered:"Your order has been delivered",newMessage:"You have a new message",priceDrop:"Price drop on your saved item!",backInStock:"Item back in stock!",verificationApproved:"Your verification has been approved"},rS={nav:Vw,home:Pw,product:Iw,cart:Hw,seller:Gw,search:Kw,favorites:Yw,profile:Qw,support:Jw,install:Xw,auth:Fw,verify:Zw,verification:Ww,admin:eS,common:tS,errors:aS,notifications:nS},sS={home:"الرئيسية",search:"بحث",favorites:"المفضلة",profile:"الملف الشخصي",verify:"التحقق",cart:"السلة",explore:"استكشف",saved:"المحفوظات"},iS={title:"سوق العراق",subtitle:"سوق ذكي",searchPlaceholder:"ابحث عن المنتجات والبائعين...",hotDeals:"عروض ساخنة",topSellers:"أفضل البائعين",trendingNow:"الأكثر رواجاً",seeAll:"عرض الكل",zeroCommission:"بدون عمولة",sellForFree:"بع مجاناً!",keepProfit:"احتفظ بـ 100% من الأرباح",joinSellers:"انضم إلى أكثر من 500 بائع عراقي اليوم",startSelling:"ابدأ البيع"},lS={productDetails:"تفاصيل المنتج",buyViaWhatsApp:"شراء عبر واتساب",addToCart:"أضف إلى السلة",viewCount:"مشاهدات",view:"مشاهدة",viewsCount:"عدد المشاهدات",inStock:"متوفر",outOfStock:"غير متوفر",soldOut:"نفذت الكمية",screenshotWarning:"التصوير غير مسموح",moreFromSeller:"المزيد من هذا البائع",addedToCart:"تمت الإضافة للسلة",productNotFound:"المنتج غير موجود",off:"خصم",category:"التصنيف",description:"الوصف"},oS={title:"سلة التسوق",empty:"سلة التسوق فارغة",emptyDescription:"ابدأ التسوق لإضافة منتجات إلى سلتك",emptyCart:"السلة فارغة",emptyCartMessage:"ابدأ التسوق وأضف منتجات إلى سلتك",continueShopping:"متابعة التسوق",completeOrder:"إتمام الطلب",total:"المجموع",items:"منتجات",sellerOrder:"طلب من",sellerTotal:"مجموع البائع",orderTotal:"المجموع الكلي",orderSummary:"ملخص الطلب",remove:"إزالة",quantity:"الكمية",subtotal:"المجموع الفرعي",delivery:"التوصيل",freeDelivery:"توصيل مجاني",orderViaWhatsApp:"اطلب عبر واتساب",warning:"يتم إرسال الطلبات بشكل فردي لكل بائع",confirmOrder:"تأكيد الطلب",confirmOrderMessage:"سيتم فتح واتساب لكل بائع ({{count}} بائعين) لإرسال طلبك",inCart:"في السلة"},cS={products:"المنتجات",reviews:"التقييمات",verified:"بائع موثق",deliveryToAllIraq:"توصيل لكل العراق",totalSales:"إجمالي المبيعات",rating:"التقييم",joined:"تاريخ الانضمام",contact:"تواصل",follow:"متابعة",following:"متابَع",message:"رسالة",viewAllProducts:"عرض جميع المنتجات",noProducts:"لا توجد منتجات",addProduct:"إضافة منتج",productName:"اسم المنتج",productDescription:"وصف المنتج",productImage:"صورة المنتج",productCategory:"قسم المنتج",productPrice:"السعر",myProducts:"منتجاتي",sellerDashboard:"لوحة البائع",verifiedSellers:"البائعون الموثقون",unverified:"غير موثق",delivery:"التوصيل",phone:"الهاتف",location:"الموقع",statistics:"الإحصائيات",overview:"نظرة عامة",totalProducts:"إجمالي المنتجات",inStock:"متوفر",outOfStock:"غير متوفر",totalViews:"إجمالي المشاهدات",verificationStatus:"حالة التحقق",unverifiedAccount:"حساب غير موثق",verifyAccount:"توثيق حسابك للحصول على ميزات إضافية",verifiedAccountBenefits:"منتجاتك تظهر أولاً في البحث",addNewProduct:"إضافة منتج جديد",addProductHint:"أضف منتجك بسهولة - فقط المعلومات الأساسية",productAddedSuccess:"تمت إضافة المنتج بنجاح!",selectCategory:"اختر القسم",sellerInfoPreSaved:"معلومات البائع (محفوظة مسبقاً)",store:"المتجر",productsCount:"منتج"},uS={title:"بحث",placeholder:"ابحث عن المنتجات...",categories:"التصنيفات",locations:"المواقع",priceRange:"نطاق السعر",filters:"التصفية",clearFilters:"مسح التصفية",noResults:"لا توجد نتائج",tryDifferent:"جرب كلمة بحث مختلفة",sortBy:"ترتيب حسب",newest:"الأحدث",popular:"الأكثر شعبية",priceLow:"السعر: من الأقل للأعلى",priceHigh:"السعر: من الأعلى للأقل",allCategories:"جميع التصنيفات",allLocations:"جميع المواقع"},dS={title:"العناصر المحفوظة",empty:"لا توجد عناصر محفوظة",emptyDescription:"احفظ المنتجات التي تعجبك بالنقر على أيقونة القلب",startShopping:"ابدأ التسوق"},fS={title:"الملف الشخصي",guestUser:"مستخدم ضيف",welcomeSubtitle:"مرحباً بك في سوق العراق",buyerTab:"مشتري",sellerTab:"بائع",login:"تسجيل الدخول",register:"إنشاء حساب",logout:"تسجيل الخروج",myOrders:"طلباتي",myFavorites:"مفضلاتي",settings:"الإعدادات",help:"المساعدة والدعم",about:"حول التطبيق",becomeSeller:"كن بائعاً",sellerDashboard:"لوحة البائع",editProfile:"تعديل الملف الشخصي",changePassword:"تغيير كلمة المرور",language:"اللغة",notifications:"الإشعارات",appearance:"المظهر",installApp:"تثبيت التطبيق",comingSoon:"قيد التطوير",systemTheme:"النظام",lightTheme:"نهاري",darkTheme:"ليلي",addNewProduct:"إضافة منتج جديد",myProducts:"منتجاتي",analytics:"التحليلات",verification:"التحقق",privacy:"سياسة الخصوصية",terms:"شروط الخدمة",version:"الإصدار",signOutTitle:"تسجيل الخروج",signOutMessage:"هل أنت متأكد أنك تريد تسجيل الخروج؟ سيتم مسح السلة."},hS={title:"المساعدة والدعم",message:"مرحباً، أحتاج مساعدة بخصوص تطبيق سوق العراق."},gS={title:"تثبيت التطبيق",ios:"على iPhone (Safari): مشاركة → إضافة إلى الشاشة الرئيسية",android:"على Android (Chrome): القائمة → تثبيت التطبيق"},mS={loginTitle:"مرحباً بعودتك",loginSubtitle:"سجل دخولك للمتابعة",registerTitle:"إنشاء حساب",registerSubtitle:"انضم إلى سوق العراق اليوم",email:"البريد الإلكتروني",password:"كلمة المرور",confirmPassword:"تأكيد كلمة المرور",name:"الاسم الكامل",nameAr:"الاسم بالعربية",phone:"رقم الهاتف",rememberMe:"تذكرني",forgotPassword:"نسيت كلمة المرور؟",noAccount:"ليس لديك حساب؟",hasAccount:"لديك حساب بالفعل؟",signUp:"إنشاء حساب",signIn:"تسجيل الدخول",orContinueWith:"أو تابع باستخدام",loginSuccess:"تم تسجيل الدخول بنجاح",logoutSuccess:"تم تسجيل الخروج بنجاح",registerSuccess:"تم إنشاء الحساب بنجاح",invalidCredentials:"البريد الإلكتروني أو كلمة المرور غير صحيحة",emailRequired:"البريد الإلكتروني مطلوب",passwordRequired:"كلمة المرور مطلوبة",nameRequired:"الاسم مطلوب",passwordMismatch:"كلمات المرور غير متطابقة",weakPassword:"كلمة المرور ضعيفة جداً",emailExists:"يوجد حساب بهذا البريد الإلكتروني بالفعل"},pS={title:"التحقق",subtitle:"التحقق من البائعين والمنتجات",verifySeller:"التحقق من البائع",verifyProduct:"التحقق من المنتج",verified:"موثق",pending:"قيد المراجعة",rejected:"مرفوض",submitDocuments:"إرسال المستندات",verificationStatus:"حالة التحقق",verificationPending:"التحقق قيد المراجعة",verificationApproved:"تهانينا! تم التحقق من حسابك",verificationRejected:"تم رفض التحقق"},yS={verified:"موثق",pending:"قيد المراجعة",rejected:"مرفوض",notVerified:"غير موثق",requestVerification:"طلب التوثيق",verificationStatus:"حالة التوثيق",verifiedProduct:"منتج موثق",pendingReview:"قيد المراجعة",reRequest:"إعادة طلب التوثيق",productVerified:"المنتج موثق",verifiedBenefits:"يظهر أولاً في نتائج البحث",requestTitle:"طلب توثيق المنتج",requirements:"المتطلبات",requirementInvoice:"فاتورة شراء أصلي",requirementPhotos:"صور واضحة للمنتج",requirementDescription:"وصف دقيق للمنتج",uploadDocuments:"رفع المستندات",dragDrop:"اسحب وأفلت الملفات هنا",supportedFormats:"PDF, JPG, PNG (حد أقصى 5MB)",benefitsTitle:"مميزات التوثيق",benefit1:"ظهور المنتج أولاً في البحث",benefit2:"زيادة ثقة المشترين",benefit3:"علامة توثيق مميزة",submit:"إرسال الطلب",verifiedTitle:"المنتج موثق",verifiedDescription:"هذا المنتج تم التحقق منه",verifiedOn:"تم التوثيق في",pendingTitle:"قيد المراجعة",pendingDescription:"طلب التوثيق قيد المراجعة",rejectedTitle:"تم الرفض",rejectedDescription:"تم رفض طلب التوثيق",notVerifiedTitle:"غير موثق",notVerifiedDescription:"لم يتم طلب التوثيق بعد",reason:"السبب",productVerification:"توثيق المنتج",queueTitle:"طلبات التوثيق المعلقة",noPending:"لا توجد طلبات معلقة",reviewRequest:"مراجعة طلب التوثيق",price:"السعر",documents:"المستندات",requestedOn:"تاريخ الطلب",reject:"رفض",approve:"موافقة",confirmReject:"تأكيد الرفض",rejectReasonPlaceholder:"أدخل سبب الرفض..."},vS={dashboard:"لوحة التحكم",users:"المستخدمين",sellers:"البائعين",products:"المنتجات",orders:"الطلبات",analytics:"التحليلات",settings:"الإعدادات",totalUsers:"إجمالي المستخدمين",totalSellers:"إجمالي البائعين",totalProducts:"إجمالي المنتجات",totalOrders:"إجمالي الطلبات",recentActivity:"النشاط الأخير",pendingVerifications:"التحققات المعلقة",reports:"التقارير"},bS={loading:"جاري التحميل...",error:"حدث خطأ",retry:"إعادة المحاولة",cancel:"إلغاء",confirm:"تأكيد",save:"حفظ",delete:"حذف",edit:"تعديل",add:"إضافة",close:"إغلاق",back:"رجوع",next:"التالي",done:"تم",yes:"نعم",no:"لا",ok:"موافق",success:"نجاح",warning:"تحذير",info:"معلومات",currency:"د.ع",language:"اللغة",english:"الإنجليزية",arabic:"العربية",cart:"السلة",addToCart:"أضف إلى السلة",removeFromCart:"إزالة من السلة",checkout:"إتمام الشراء",orderTotal:"المجموع الكلي",quantity:"الكمية",screenshotWarning:"خذ سكرين للمنتج وأرسله للبائع قبل الشراء"},xS={networkError:"خطأ في الشبكة. يرجى التحقق من اتصالك.",serverError:"خطأ في الخادم. يرجى المحاولة لاحقاً.",notFound:"غير موجود",unauthorized:"غير مصرح لك بالوصول",forbidden:"الوصول محظور",validationError:"يرجى التحقق من المدخلات",sessionExpired:"انتهت جلستك. يرجى تسجيل الدخول مرة أخرى.",rateLimited:"طلبات كثيرة. يرجى الانتظار والمحاولة مرة أخرى."},wS={emptyTitle:"لا توجد إشعارات",emptyDescription:"أنت على اطلاع بكل شيء.",welcome:"مرحباً بك في سوق العراق!",orderPlaced:"تم تقديم طلبك",orderShipped:"تم شحن طلبك",orderDelivered:"تم توصيل طلبك",newMessage:"لديك رسالة جديدة",priceDrop:"انخفاض السعر على منتج محفوظ!",backInStock:"المنتج متوفر الآن!",verificationApproved:"تم الموافقة على التحقق"},SS={nav:sS,home:iS,product:lS,cart:oS,seller:cS,search:uS,favorites:dS,profile:fS,support:hS,install:gS,auth:mS,verify:pS,verification:yS,admin:vS,common:bS,errors:xS,notifications:wS},ca=[{code:"en",name:"English",nativeName:"English",direction:"ltr"},{code:"ar",name:"Arabic",nativeName:"العربية",direction:"rtl"}],Ep="ar",_S={en:{translation:rS},ar:{translation:SS}};at.use(Cp).use(M1).init({resources:_S,fallbackLng:"en",defaultNS:"translation",detection:{order:["localStorage","navigator","htmlTag"],lookupLocalStorage:"iraq_marketplace_language",caches:["localStorage"],htmlTag:document.documentElement},interpolation:{escapeValue:!1},react:{useSuspense:!0,bindI18n:"languageChanged loaded",bindI18nStore:"added removed"},debug:!1,load:"languageOnly",returnObjects:!0,saveMissing:!0,missingKeyHandler:(n,a,r)=>{}});function jS(){const n=at.language;return ca.find(a=>a.code===n)||ca[0]}function NS(){return jS().direction}async function kS(n){await at.changeLanguage(n),document.documentElement.dir=NS(),document.documentElement.lang=n,localStorage.setItem("iraq_marketplace_language",n)}function yn(n,a){return at.t(n,a)}const AS=localStorage.getItem("iraq_marketplace_language"),CS=AS||Ep,td=ca.find(n=>n.code===CS);td&&(document.documentElement.dir=td.direction,document.documentElement.lang=td.code);function vn({product:n,compact:a=!1,trackViews:r=!0}){const i=le(T=>T.navigate),o=le(T=>T.isAuthenticated),c=le(T=>T.setAuthNextPage),h=le(T=>T.toggleFavorite),g=le(T=>T.setViewCount),m=le(T=>T.language),p=le(T=>T.favorites.includes(n.id)),v=le(T=>T.viewCounts[n.id]),{addToCart:w}=es(),x=xo(n.sellerId),S=n.originalPrice?Math.round((n.originalPrice-n.price)/n.originalPrice*100):0,_=v??n.viewCount,N=E.useCallback((T,q)=>{g(T,q)},[g]),j=E.useCallback(()=>{i("product",{productId:n.id})},[i,n.id]),A=T=>{if(!o){sessionStorage.setItem("iraq_marketplace_pending_action",JSON.stringify({type:"add_to_cart",productId:T,quantity:1})),c("cart"),i("profile");return}w(T,1),i("cart")},R=T=>{if(!o){sessionStorage.setItem("iraq_marketplace_pending_action",JSON.stringify({type:"favorite",productId:T})),c("favorites"),i("profile");return}h(T)};return r?u.jsx(W1,{productId:n.id,initialViewCount:n.viewCount,onViewTracked:N,threshold:.3,minVisibleTime:500,children:({ref:T,viewCount:q})=>u.jsx("div",{ref:T,children:u.jsx(N0,{product:n,compact:a,isFav:p,discount:S,seller:x,language:m,currentViewCount:q||_,onToggleFavorite:R,onAddToCart:A,onOpenProduct:j})})}):u.jsx(N0,{product:n,compact:a,isFav:p,discount:S,seller:x,language:m,currentViewCount:_,onToggleFavorite:R,onAddToCart:A,onOpenProduct:j})}function N0({product:n,compact:a,isFav:r,discount:i,seller:o,language:c,currentViewCount:h,onToggleFavorite:g,onAddToCart:m,onOpenProduct:p}){return u.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300 group cursor-pointer ",onClick:p,children:[u.jsxs("div",{className:"relative aspect-square overflow-hidden bg-gray-50",children:[u.jsx(bp,{src:n.images[0],alt:n.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),u.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[n.isVerified&&u.jsxs("span",{className:"bg-emerald-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full flex items-center gap-0.5",children:[u.jsx(Jr,{size:10}),yn("verification.verified")]}),i>0&&u.jsxs("span",{className:"bg-red-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full",children:["-",i,"%"]}),!n.inStock&&u.jsx("span",{className:"bg-gray-800/80 text-white text-[10px] font-bold px-2 py-0.5 rounded-full",children:"Sold Out"})]}),u.jsx("button",{onClick:v=>{v.stopPropagation(),g(n.id)},className:"absolute top-2 right-2 w-8 h-8 flex items-center justify-center rounded-full bg-white/90 backdrop-blur-sm shadow-sm transition-all duration-200 hover:scale-110 active:scale-95",children:u.jsx(ui,{size:16,className:`transition-colors ${r?"fill-red-500 text-red-500":"text-gray-500"}`})}),u.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-1 bg-black/50 backdrop-blur-sm rounded-full px-2 py-0.5",children:[u.jsx(Zr,{size:10,className:"text-white/80"}),u.jsx("span",{className:"text-[10px] text-white/90 font-medium",children:zd(h,c)})]})]}),u.jsxs("div",{className:"p-3",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-900 line-clamp-1 mb-1",children:n.name}),!a&&o&&u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx("img",{src:o.avatar,alt:o.name,className:"w-4 h-4 rounded-full object-cover"}),u.jsx("span",{className:"text-[11px] text-gray-500 truncate",children:o.name}),o.isVerified&&u.jsx("svg",{className:"w-3 h-3 text-emerald-500 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),!a&&o&&u.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[u.jsx(Dd,{size:10,className:"text-emerald-500"}),u.jsx("span",{className:"text-[10px] text-emerald-600 font-medium",children:o.deliveryInfo||yn("seller.deliveryToAllIraq")})]}),u.jsxs("div",{className:"flex items-end justify-between",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-base font-bold text-emerald-600",children:Gt(n.price)}),n.originalPrice&&u.jsx("span",{className:"block text-[11px] text-gray-400 line-through",children:Gt(n.originalPrice)})]}),u.jsx("button",{type:"button",onClick:v=>{v.stopPropagation(),m(n.id)},disabled:!n.inStock,title:yn("common.addToCart"),className:`w-8 h-8 flex items-center justify-center rounded-full transition-colors ${n.inStock?"bg-emerald-50 text-emerald-600 hover:bg-emerald-100":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:u.jsx(Od,{size:14})})]})]})]})}function pd({isVerified:n,size:a="md",showLabel:r=!1,className:i=""}){const o=le(g=>g.language);if(!n)return r?u.jsxs("span",{className:`inline-flex items-center gap-1 text-gray-400 ${i}`,children:[u.jsx("svg",{className:`${a==="sm"?"w-3 h-3":a==="lg"?"w-5 h-5":"w-4 h-4"}`,viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),u.jsx("span",{className:"text-xs",children:o==="ar"?"غير موثق":"Unverified"})]}):null;const c={sm:"text-[10px] px-1.5 py-0.5 gap-0.5",md:"text-xs px-2 py-1 gap-1",lg:"text-sm px-3 py-1.5 gap-1.5"},h={sm:"w-3 h-3",md:"w-3.5 h-3.5",lg:"w-4 h-4"};return u.jsxs("span",{className:`
        inline-flex items-center 
        bg-gradient-to-r from-emerald-500 to-teal-500 
        text-white 
        rounded-full 
        font-semibold
        shadow-sm
        ${c[a]}
        ${i}
      `,children:[u.jsx("svg",{className:h[a],viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),r&&u.jsx("span",{children:yn("seller.verified")})]})}function Tp({seller:n}){const a=le(c=>c.navigate),r=le(c=>c.language),{average:i,count:o}=Ba(n.id);return u.jsxs("div",{className:`bg-white rounded-2xl overflow-hidden shadow-sm border hover:shadow-md transition-all duration-300 cursor-pointer active:scale-[0.98] ${n.isVerified?"border-emerald-200 ring-1 ring-emerald-100":"border-gray-100"}`,onClick:()=>a("seller",{sellerId:n.id}),children:[u.jsxs("div",{className:"relative h-20 overflow-hidden",children:[u.jsx("img",{src:n.coverImage,alt:"",className:"w-full h-full object-cover",loading:"lazy"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),n.isVerified&&u.jsx("div",{className:"absolute top-2 right-2",children:u.jsx(pd,{isVerified:!0,size:"sm"})})]}),u.jsxs("div",{className:"relative px-3 pb-3",children:[u.jsxs("div",{className:"flex items-end gap-2 -mt-5",children:[u.jsx("img",{src:n.avatar,alt:n.name,className:"w-12 h-12 rounded-xl object-cover border-2 border-white shadow-sm"}),u.jsx("div",{className:"flex-1 pt-2 min-w-0",children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-900 truncate",children:r==="ar"?n.nameAr:n.name}),n.isVerified&&u.jsx("svg",{className:"w-4 h-4 text-emerald-500 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]})})]}),u.jsx("p",{className:"text-[11px] text-gray-500 mt-1.5 line-clamp-2",children:n.bio}),u.jsxs("div",{className:"flex items-center gap-1 mt-1.5",children:[u.jsx(Dd,{size:10,className:"text-emerald-500"}),u.jsx("span",{className:"text-[10px] text-emerald-600 font-medium",children:n.deliveryInfo||yn("seller.deliveryToAllIraq")})]}),u.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(fa,{size:12,className:"text-amber-400 fill-amber-400"}),u.jsx("span",{className:"text-xs font-semibold text-gray-700",children:i.toFixed(1)}),u.jsxs("span",{className:"text-[10px] text-gray-400",children:["(",o,")"]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(bo,{size:11,className:"text-gray-400"}),u.jsx("span",{className:"text-[11px] text-gray-500",children:r==="ar"?n.locationAr:n.location})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Od,{size:11,className:"text-gray-400"}),u.jsx("span",{className:"text-[11px] text-gray-500",children:n.productCount||n.totalSales})]})]})]})]})}function ES(n){const a=Wr.find(o=>o.id===n);if(!a)return;const{average:r,count:i}=Ba(n);return{...a,rating:r,totalRatings:i}}function mi(n){const a=new Set(Wr.filter(r=>r.isVerified).map(r=>r.id));return[...n].sort((r,i)=>{const o=a.has(r.sellerId),c=a.has(i.sellerId);return o&&!c?-1:!o&&c?1:0})}function TS(n,a){if(!ES(n))throw new Error("Seller not found");return{id:`p-${Date.now()}`,sellerId:n,name:a.name,nameAr:a.nameAr,description:a.description,descriptionAr:a.descriptionAr,price:a.price,currency:"IQD",images:[a.image],category:a.category,categoryAr:a.categoryAr,inStock:!0,viewCount:0,createdAt:new Date().toISOString().split("T")[0],tags:[],isVerified:!1,verificationStatus:"none"}}async function OS(n){return new Promise(a=>{setTimeout(()=>{const r=URL.createObjectURL(n);a(r)},1e3)})}function No(n,a){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&a.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)a.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r}function RS(n,a,r,i){function o(c){return c instanceof r?c:new r(function(h){h(c)})}return new(r||(r=Promise))(function(c,h){function g(v){try{p(i.next(v))}catch(w){h(w)}}function m(v){try{p(i.throw(v))}catch(w){h(w)}}function p(v){v.done?c(v.value):o(v.value).then(g,m)}p((i=i.apply(n,a||[])).next())})}const DS=n=>n?(...a)=>n(...a):(...a)=>fetch(...a);class Md extends Error{constructor(a,r="FunctionsError",i){super(a),this.name=r,this.context=i}}class LS extends Md{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class k0 extends Md{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class A0 extends Md{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var yd;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(yd||(yd={}));class US{constructor(a,{headers:r={},customFetch:i,region:o=yd.Any}={}){this.url=a,this.headers=r,this.region=o,this.fetch=DS(i)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return RS(this,arguments,void 0,function*(r,i={}){var o;let c,h;try{const{headers:g,method:m,body:p,signal:v,timeout:w}=i;let x={},{region:S}=i;S||(S=this.region);const _=new URL(`${this.url}/${r}`);S&&S!=="any"&&(x["x-region"]=S,_.searchParams.set("forceFunctionRegion",S));let N;p&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",N=p):typeof p=="string"?(x["Content-Type"]="text/plain",N=p):typeof FormData<"u"&&p instanceof FormData?N=p:(x["Content-Type"]="application/json",N=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?N=JSON.stringify(p):N=p;let j=v;w&&(h=new AbortController,c=setTimeout(()=>h.abort(),w),v?(j=h.signal,v.addEventListener("abort",()=>h.abort())):j=h.signal);const A=yield this.fetch(_.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),g),body:N,signal:j}).catch(Y=>{throw new LS(Y)}),R=A.headers.get("x-relay-error");if(R&&R==="true")throw new k0(A);if(!A.ok)throw new A0(A);let T=((o=A.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),q;return T==="application/json"?q=yield A.json():T==="application/octet-stream"||T==="application/pdf"?q=yield A.blob():T==="text/event-stream"?q=A:T==="multipart/form-data"?q=yield A.formData():q=yield A.text(),{data:q,error:null,response:A}}catch(g){return{data:null,error:g,response:g instanceof A0||g instanceof k0?g.context:void 0}}finally{c&&clearTimeout(c)}})}}var zS=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},MS=class{constructor(n){var a,r,i;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(a=n.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=n.signal,this.isMaybeSingle=(r=n.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(i=n.urlLengthLimit)!==null&&i!==void 0?i:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,a){return this.headers=new Headers(this.headers),this.headers.set(n,a),this}then(n,a){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let h=null,g=null,m=null,p=c.status,v=c.statusText;if(c.ok){var w,x;if(r.method!=="HEAD"){var S;const A=await c.text();A===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((S=r.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?g=A:g=JSON.parse(A))}const N=(w=r.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),j=(x=c.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");N&&j&&j.length>1&&(m=parseInt(j[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,p=406,v="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var _;const N=await c.text();try{h=JSON.parse(N),Array.isArray(h)&&c.status===404&&(g=[],h=null,p=200,v="OK")}catch{c.status===404&&N===""?(p=204,v="No Content"):h={message:N}}if(h&&r.isMaybeSingle&&(!(h==null||(_=h.details)===null||_===void 0)&&_.includes("0 rows"))&&(h=null,p=200,v="OK"),h&&r.shouldThrowOnError)throw new zS(h)}return{error:h,data:g,count:m,status:p,statusText:v}});return this.shouldThrowOnError||(o=o.catch(c=>{var h;let g="",m="",p="";const v=c?.cause;if(v){var w,x,S,_;const A=(w=v?.message)!==null&&w!==void 0?w:"",R=(x=v?.code)!==null&&x!==void 0?x:"";g=`${(S=c?.name)!==null&&S!==void 0?S:"FetchError"}: ${c?.message}`,g+=`

Caused by: ${(_=v?.name)!==null&&_!==void 0?_:"Error"}: ${A}`,R&&(g+=` (${R})`),v?.stack&&(g+=`
${v.stack}`)}else{var N;g=(N=c?.stack)!==null&&N!==void 0?N:""}const j=this.url.toString().length;return c?.name==="AbortError"||c?.code==="ABORT_ERR"?(p="",m="Request was aborted (timeout or manual cancellation)",j>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${j} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(v?.name==="HeadersOverflowError"||v?.code==="UND_ERR_HEADERS_OVERFLOW")&&(p="",m="HTTP headers exceeded server limits (typically 16KB)",j>this.urlLengthLimit&&(m+=`. Your request URL is ${j} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(h=c?.name)!==null&&h!==void 0?h:"FetchError"}: ${c?.message}`,details:g,hint:m,code:p},data:null,count:null,status:0,statusText:""}})),o.then(n,a)}returns(){return this}overrideTypes(){return this}},qS=class extends MS{select(n){let a=!1;const r=(n??"*").split("").map(i=>/\s/.test(i)&&!a?"":(i==='"'&&(a=!a),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:a=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const c=o?`${o}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${n}.${a?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:a,referencedTable:r=a}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,a,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,c=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(c,`${a-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:a=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:c="text"}={}){var h;const g=[n?"analyze":null,a?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${g};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const C0=new RegExp("[,()]");var Hr=class extends qS{eq(n,a){return this.url.searchParams.append(n,`eq.${a}`),this}neq(n,a){return this.url.searchParams.append(n,`neq.${a}`),this}gt(n,a){return this.url.searchParams.append(n,`gt.${a}`),this}gte(n,a){return this.url.searchParams.append(n,`gte.${a}`),this}lt(n,a){return this.url.searchParams.append(n,`lt.${a}`),this}lte(n,a){return this.url.searchParams.append(n,`lte.${a}`),this}like(n,a){return this.url.searchParams.append(n,`like.${a}`),this}likeAllOf(n,a){return this.url.searchParams.append(n,`like(all).{${a.join(",")}}`),this}likeAnyOf(n,a){return this.url.searchParams.append(n,`like(any).{${a.join(",")}}`),this}ilike(n,a){return this.url.searchParams.append(n,`ilike.${a}`),this}ilikeAllOf(n,a){return this.url.searchParams.append(n,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(n,a){return this.url.searchParams.append(n,`ilike(any).{${a.join(",")}}`),this}regexMatch(n,a){return this.url.searchParams.append(n,`match.${a}`),this}regexIMatch(n,a){return this.url.searchParams.append(n,`imatch.${a}`),this}is(n,a){return this.url.searchParams.append(n,`is.${a}`),this}isDistinct(n,a){return this.url.searchParams.append(n,`isdistinct.${a}`),this}in(n,a){const r=Array.from(new Set(a)).map(i=>typeof i=="string"&&C0.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}notIn(n,a){const r=Array.from(new Set(a)).map(i=>typeof i=="string"&&C0.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`not.in.(${r})`),this}contains(n,a){return typeof a=="string"?this.url.searchParams.append(n,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(n,`cs.{${a.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(a)}`),this}containedBy(n,a){return typeof a=="string"?this.url.searchParams.append(n,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(n,`cd.{${a.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(a)}`),this}rangeGt(n,a){return this.url.searchParams.append(n,`sr.${a}`),this}rangeGte(n,a){return this.url.searchParams.append(n,`nxl.${a}`),this}rangeLt(n,a){return this.url.searchParams.append(n,`sl.${a}`),this}rangeLte(n,a){return this.url.searchParams.append(n,`nxr.${a}`),this}rangeAdjacent(n,a){return this.url.searchParams.append(n,`adj.${a}`),this}overlaps(n,a){return typeof a=="string"?this.url.searchParams.append(n,`ov.${a}`):this.url.searchParams.append(n,`ov.{${a.join(",")}}`),this}textSearch(n,a,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const c=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${c}.${a}`),this}match(n){return Object.entries(n).forEach(([a,r])=>{this.url.searchParams.append(a,`eq.${r}`)}),this}not(n,a,r){return this.url.searchParams.append(n,`not.${a}.${r}`),this}or(n,{foreignTable:a,referencedTable:r=a}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,a,r){return this.url.searchParams.append(n,`${a}.${r}`),this}},$S=class{constructor(n,{headers:a={},schema:r,fetch:i,urlLengthLimit:o=8e3}){this.url=n,this.headers=new Headers(a),this.schema=r,this.fetch=i,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,a){const{head:r=!1,count:i}=a??{},o=r?"HEAD":"GET";let c=!1;const h=(n??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join(""),{url:g,headers:m}=this.cloneRequestState();return g.searchParams.set("select",h),i&&m.append("Prefer",`count=${i}`),new Hr({method:o,url:g,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:a,defaultToNull:r=!0}={}){var i;const o="POST",{url:c,headers:h}=this.cloneRequestState();if(a&&h.append("Prefer",`count=${a}`),r||h.append("Prefer","missing=default"),Array.isArray(n)){const g=n.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(g.length>0){const m=[...new Set(g)].map(p=>`"${p}"`);c.searchParams.set("columns",m.join(","))}}return new Hr({method:o,url:c,headers:h,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:a,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var c;const h="POST",{url:g,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),a!==void 0&&g.searchParams.set("on_conflict",a),i&&m.append("Prefer",`count=${i}`),o||m.append("Prefer","missing=default"),Array.isArray(n)){const p=n.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(p.length>0){const v=[...new Set(p)].map(w=>`"${w}"`);g.searchParams.set("columns",v.join(","))}}return new Hr({method:h,url:g,headers:m,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:a}={}){var r;const i="PATCH",{url:o,headers:c}=this.cloneRequestState();return a&&c.append("Prefer",`count=${a}`),new Hr({method:i,url:o,headers:c,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var a;const r="DELETE",{url:i,headers:o}=this.cloneRequestState();return n&&o.append("Prefer",`count=${n}`),new Hr({method:r,url:i,headers:o,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};function pi(n){"@babel/helpers - typeof";return pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},pi(n)}function BS(n,a){if(pi(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,a);if(pi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function VS(n){var a=BS(n,"string");return pi(a)=="symbol"?a:a+""}function PS(n,a,r){return(a=VS(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n}function E0(n,a){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);a&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Gl(n){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?E0(Object(r),!0).forEach(function(i){PS(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):E0(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var IS=class Op{constructor(a,{headers:r={},schema:i,fetch:o,timeout:c,urlLengthLimit:h=8e3}={}){this.url=a,this.headers=new Headers(r),this.schemaName=i,this.urlLengthLimit=h;const g=o??globalThis.fetch;c!==void 0&&c>0?this.fetch=(m,p)=>{const v=new AbortController,w=setTimeout(()=>v.abort(),c),x=p?.signal;if(x){if(x.aborted)return clearTimeout(w),g(m,p);const S=()=>{clearTimeout(w),v.abort()};return x.addEventListener("abort",S,{once:!0}),g(m,Gl(Gl({},p),{},{signal:v.signal})).finally(()=>{clearTimeout(w),x.removeEventListener("abort",S)})}return g(m,Gl(Gl({},p),{},{signal:v.signal})).finally(()=>clearTimeout(w))}:this.fetch=g}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new $S(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(a){return new Op(this.url,{headers:this.headers,schema:a,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(a,r={},{head:i=!1,get:o=!1,count:c}={}){var h;let g;const m=new URL(`${this.url}/rpc/${a}`);let p;const v=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(v)),w=i&&Object.values(r).some(v);w?(g="POST",p=r):i||o?(g=i?"HEAD":"GET",Object.entries(r).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{m.searchParams.append(S,_)})):(g="POST",p=r);const x=new Headers(this.headers);return w?x.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&x.set("Prefer",`count=${c}`),new Hr({method:g,url:m,headers:x,schema:this.schemaName,body:p,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}};class HS{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const i=r.versions;if(i&&i.node){const o=i.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const i=this.getWebSocketConstructor();return new i(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const GS="2.95.3",KS=`realtime-js/${GS}`,YS="1.0.0",Rp="2.0.0",T0=Rp,vd=1e4,QS=1e3,JS=100;var mn;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(mn||(mn={}));var ct;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ct||(ct={}));var da;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(da||(da={}));var bd;(function(n){n.websocket="websocket"})(bd||(bd={}));var In;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(In||(In={}));class XS{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,r){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(a));let i=[a.join_ref,a.ref,a.topic,a.event,a.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(a){var r;return this._isArrayBuffer((r=a.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var r,i;const o=(i=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(a){var r,i;const o=(i=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},h=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(a,r,i){var o,c;const h=a.topic,g=(o=a.ref)!==null&&o!==void 0?o:"",m=(c=a.join_ref)!==null&&c!==void 0?c:"",p=a.payload.event,v=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+g.length+h.length+p.length+w.length,S=new ArrayBuffer(this.HEADER_LENGTH+x);let _=new DataView(S),N=0;_.setUint8(N++,this.KINDS.userBroadcastPush),_.setUint8(N++,m.length),_.setUint8(N++,g.length),_.setUint8(N++,h.length),_.setUint8(N++,p.length),_.setUint8(N++,w.length),_.setUint8(N++,r),Array.from(m,A=>_.setUint8(N++,A.charCodeAt(0))),Array.from(g,A=>_.setUint8(N++,A.charCodeAt(0))),Array.from(h,A=>_.setUint8(N++,A.charCodeAt(0))),Array.from(p,A=>_.setUint8(N++,A.charCodeAt(0))),Array.from(w,A=>_.setUint8(N++,A.charCodeAt(0)));var j=new Uint8Array(S.byteLength+i.byteLength);return j.set(new Uint8Array(S),0),j.set(new Uint8Array(i),S.byteLength),j.buffer}decode(a,r){if(this._isArrayBuffer(a)){let i=this._binaryDecode(a);return r(i)}if(typeof a=="string"){const i=JSON.parse(a),[o,c,h,g,m]=i;return r({join_ref:o,ref:c,topic:h,event:g,payload:m})}return r({})}_binaryDecode(a){const r=new DataView(a),i=r.getUint8(0),o=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,r,o)}}_decodeUserBroadcast(a,r,i){const o=r.getUint8(1),c=r.getUint8(2),h=r.getUint8(3),g=r.getUint8(4);let m=this.HEADER_LENGTH+4;const p=i.decode(a.slice(m,m+o));m=m+o;const v=i.decode(a.slice(m,m+c));m=m+c;const w=i.decode(a.slice(m,m+h));m=m+h;const x=a.slice(m,a.byteLength),S=g===this.JSON_ENCODING?JSON.parse(i.decode(x)):x,_={type:this.BROADCAST_EVENT,event:v,payload:S};return h>0&&(_.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(a){var r;return a instanceof ArrayBuffer||((r=a?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(a,r){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([i])=>r.includes(i)))}}class Dp{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(He||(He={}));const O0=(n,a,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return a?Object.keys(a).reduce((c,h)=>(c[h]=FS(h,n,a,o),c),{}):{}},FS=(n,a,r,i)=>{const o=a.find(g=>g.name===n),c=o?.type,h=r[n];return c&&!i.includes(c)?Lp(c,h):xd(h)},Lp=(n,a)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return t2(a,r)}switch(n){case He.bool:return ZS(a);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return WS(a);case He.json:case He.jsonb:return e2(a);case He.timestamp:return a2(a);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return xd(a);default:return xd(a)}},xd=n=>n,ZS=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},WS=n=>{if(typeof n=="string"){const a=parseFloat(n);if(!Number.isNaN(a))return a}return n},e2=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},t2=(n,a)=>{if(typeof n!="string")return n;const r=n.length-1,i=n[r];if(n[0]==="{"&&i==="}"){let c;const h=n.slice(1,r);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(g=>Lp(a,g))}return n},a2=n=>typeof n=="string"?n.replace(" ","T"):n,Up=n=>{const a=new URL(n);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class ad{constructor(a,r,i={},o=vd){this.channel=a,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var i;return this._hasReceived(a)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(i=>i.status===a).forEach(i=>i.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var R0;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(R0||(R0={}));class oi{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:c,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oi.syncState(this.state,o,c,h),this.pendingDiffs.forEach(m=>{this.state=oi.syncDiff(this.state,m,c,h)}),this.pendingDiffs=[],g()}),this.channel._on(i.diff,{},o=>{const{onJoin:c,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=oi.syncDiff(this.state,o,c,h),g())}),this.onJoin((o,c,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:h})}),this.onLeave((o,c,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,i,o){const c=this.cloneDeep(a),h=this.transformState(r),g={},m={};return this.map(c,(p,v)=>{h[p]||(m[p]=v)}),this.map(h,(p,v)=>{const w=c[p];if(w){const x=v.map(j=>j.presence_ref),S=w.map(j=>j.presence_ref),_=v.filter(j=>S.indexOf(j.presence_ref)<0),N=w.filter(j=>x.indexOf(j.presence_ref)<0);_.length>0&&(g[p]=_),N.length>0&&(m[p]=N)}else g[p]=v}),this.syncDiff(c,{joins:g,leaves:m},i,o)}static syncDiff(a,r,i,o){const{joins:c,leaves:h}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(c,(g,m)=>{var p;const v=(p=a[g])!==null&&p!==void 0?p:[];if(a[g]=this.cloneDeep(m),v.length>0){const w=a[g].map(S=>S.presence_ref),x=v.filter(S=>w.indexOf(S.presence_ref)<0);a[g].unshift(...x)}i(g,v,m)}),this.map(h,(g,m)=>{let p=a[g];if(!p)return;const v=m.map(w=>w.presence_ref);p=p.filter(w=>v.indexOf(w.presence_ref)<0),a[g]=p,o(g,p,m),p.length===0&&delete a[g]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(i=>r(i,a[i]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,i)=>{const o=a[i];return"metas"in o?r[i]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[i]=o,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var D0;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(D0||(D0={}));var ci;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(ci||(ci={}));var qa;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(qa||(qa={}));class Qr{constructor(a,r={config:{}},i){var o,c;if(this.topic=a,this.params=r,this.socket=i,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ad(this,da.join,this.params,this.timeout),this.rejoinTimer=new Dp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(da.reply,{},(h,g)=>{this._trigger(this._replyEventName(g),h)}),this.presence=new oi(this),this.broadcastEndpointURL=Up(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var i,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:h,presence:g,private:m}}=this.params,p=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[ci.PRESENCE]&&this.bindings[ci.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,w={},x={broadcast:h,presence:Object.assign(Object.assign({},g),{enabled:v}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(S=>a?.(qa.CHANNEL_ERROR,S)),this._onClose(()=>a?.(qa.CLOSED)),this.updateJoinPayload(Object.assign({config:x},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){a?.(qa.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,j=(_=N?.length)!==null&&_!==void 0?_:0,A=[];for(let R=0;R<j;R++){const T=N[R],{filter:{event:q,schema:Y,table:D,filter:H}}=T,pe=S&&S[R];if(pe&&pe.event===q&&Qr.isFilterValueEqual(pe.schema,Y)&&Qr.isFilterValueEqual(pe.table,D)&&Qr.isFilterValueEqual(pe.filter,H))A.push(Object.assign(Object.assign({},T),{id:pe.id}));else{this.unsubscribe(),this.state=ct.errored,a?.(qa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,a&&a(qa.SUBSCRIBED);return}}).receive("error",S=>{this.state=ct.errored,a?.(qa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{a?.(qa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,i){return this.state===ct.joined&&a===ci.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,r,i)}async httpSend(a,r,i={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(g.status===202)return{success:!0};let m=g.statusText;try{const p=await g.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(a,r={}){var i,o;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=a,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,g,m;const p=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((m=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=ct.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(da.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new ad(this,da.leave,{},a),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(a,r,i){const o=new AbortController,c=setTimeout(()=>o.abort(),i),h=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(c),h}_push(a,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ad(this,a,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>JS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,i){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,i){var o,c;const h=a.toLocaleLowerCase(),{close:g,error:m,leave:p,join:v}=da;if(i&&[g,m,p,v].indexOf(h)>=0&&i!==this._joinRef())return;let x=this._onMessage(h,r,i);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var _,N,j;return((_=S.filter)===null||_===void 0?void 0:_.event)==="*"||((j=(N=S.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===h}).map(S=>S.callback(x,i)):(c=this.bindings[h])===null||c===void 0||c.filter(S=>{var _,N,j,A,R,T;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in S){const q=S.id,Y=(_=S.filter)===null||_===void 0?void 0:_.event;return q&&((N=r.ids)===null||N===void 0?void 0:N.includes(q))&&(Y==="*"||Y?.toLocaleLowerCase()===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const q=(R=(A=S?.filter)===null||A===void 0?void 0:A.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return q==="*"||q===((T=r?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===h}).map(S=>{if(typeof x=="object"&&"ids"in x){const _=x.data,{schema:N,table:j,commit_timestamp:A,type:R,errors:T}=_;x=Object.assign(Object.assign({},{schema:N,table:j,commit_timestamp:A,eventType:R,new:{},old:{},errors:T}),this._getPayloadRecords(_))}S.callback(x,i)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,i){const o=a.toLocaleLowerCase(),c={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(a,r){const i=a.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&Qr.isEqual(o.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const i in a)if(a[i]!==r[i])return!1;return!0}static isFilterValueEqual(a,r){return(a??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(da.close,{},a)}_onError(a){this._on(da.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=O0(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=O0(a.columns,a.old_record)),r}}const nd=()=>{},Kl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},n2=[1e3,2e3,5e3,1e4],r2=1e4,s2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class i2{constructor(a,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vd,this.transport=null,this.heartbeatIntervalMs=Kl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nd,this.ref=0,this.reconnectTimer=null,this.vsn=T0,this.logger=nd,this.conn=null,this.sendBuffer=[],this.serializer=new XS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${bd.websocket}`,this.httpEndpoint=Up(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=HS.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return r==="ok"&&this._remove(a),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,i){this.logger(a,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case mn.connecting:return In.Connecting;case mn.open:return In.Open;case mn.closing:return In.Closing;default:return In.Closed}}isConnected(){return this.connectionState()===In.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const i=`realtime:${a}`,o=this.getChannels().find(c=>c.topic===i);if(o)return o;{const c=new Qr(`realtime:${a}`,r,this);return this.channels.push(c),c}}push(a){const{topic:r,event:i,payload:o,ref:c}=a,h=()=>{this.encode(a,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${r} ${i} (${c})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(QS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Kl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(i=>i.topic===a&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:o,payload:c,ref:h}=r,g=h?`(${h})`:"",m=c.status||"";this.log("receive",`${m} ${i} ${o} ${g}`.trim(),c),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,c,h)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===mn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===mn.open||this.conn.readyState===mn.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(da.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const i=a.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${a}${i}${o}`}_workerObjectUrl(a){let r;if(a)r=a;else{const i=new Blob([s2],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r,i=!1;if(a)r=a,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const c={access_token:r,version:KS};r&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(da.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${a} callback`,o)}})}catch(i){this.log("error",`error triggering ${a} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Dp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,i,o,c,h,g,m,p,v,w,x,S;switch(this.transport=(r=a?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=a?.timeout)!==null&&i!==void 0?i:vd,this.heartbeatIntervalMs=(o=a?.heartbeatIntervalMs)!==null&&o!==void 0?o:Kl.HEARTBEAT_INTERVAL,this.worker=(c=a?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=a?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(g=a?.heartbeatCallback)!==null&&g!==void 0?g:nd,this.vsn=(m=a?.vsn)!==null&&m!==void 0?m:T0,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=a?.reconnectAfterMs)!==null&&p!==void 0?p:(_=>n2[_-1]||r2),this.vsn){case YS:this.encode=(v=a?.encode)!==null&&v!==void 0?v:((_,N)=>N(JSON.stringify(_))),this.decode=(w=a?.decode)!==null&&w!==void 0?w:((_,N)=>N(JSON.parse(_)));break;case Rp:this.encode=(x=a?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(S=a?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var yi=class extends Error{constructor(n,a){super(n),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function l2(n,a,r){const i=new URL(a,n);if(r)for(const[o,c]of Object.entries(r))c!==void 0&&i.searchParams.set(o,c);return i.toString()}async function o2(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function c2(n){const a=n.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:o,body:c,headers:h}){const g=l2(n.baseUrl,i,o),m=await o2(n.auth),p=await a(g,{method:r,headers:{...c?{"Content-Type":"application/json"}:{},...m,...h},body:c?JSON.stringify(c):void 0}),v=await p.text(),w=(p.headers.get("content-type")||"").includes("application/json"),x=w&&v?JSON.parse(v):v;if(!p.ok){const S=w?x:void 0,_=S?.error;throw new yi(_?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:_?.type,icebergCode:_?.code,details:S})}return{status:p.status,headers:p.headers,data:x}}}}function Yl(n){return n.join("")}var u2=class{constructor(n,a=""){this.client=n,this.prefix=a}async listNamespaces(n){const a=n?{parent:Yl(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(n,a){const r={namespace:n.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yl(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yl(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yl(n.namespace)}`}),!0}catch(a){if(a instanceof yi&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(n,a){try{return await this.createNamespace(n,a)}catch(r){if(r instanceof yi&&r.status===409)return;throw r}}};function qr(n){return n.join("")}var d2=class{constructor(n,a="",r){this.client=n,this.prefix=a,this.accessDelegation=r}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qr(n.namespace)}/tables`})).data.identifiers}async createTable(n,a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qr(n.namespace)}/tables`,body:a,headers:r})).data.metadata}async updateTable(n,a){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qr(n.namespace)}/tables/${n.name}`,body:a});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(n,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qr(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(n){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qr(n.namespace)}/tables/${n.name}`,headers:a})).data.metadata}async tableExists(n){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qr(n.namespace)}/tables/${n.name}`,headers:a}),!0}catch(r){if(r instanceof yi&&r.status===404)return!1;throw r}}async createTableIfNotExists(n,a){try{return await this.createTable(n,a)}catch(r){if(r instanceof yi&&r.status===409)return await this.loadTable({namespace:n.namespace,name:a.name});throw r}}},f2=class{constructor(n){let a="v1";n.catalogName&&(a+=`/${n.catalogName}`);const r=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=c2({baseUrl:r,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new u2(this.client,a),this.tableOps=new d2(this.client,a,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,a){return this.namespaceOps.createNamespace(n,a)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,a){return this.tableOps.createTable(n,a)}async updateTable(n,a){return this.tableOps.updateTable(n,a)}async dropTable(n,a){await this.tableOps.dropTable(n,a)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,a){return this.namespaceOps.createNamespaceIfNotExists(n,a)}async createTableIfNotExists(n,a){return this.tableOps.createTableIfNotExists(n,a)}},ko=class extends Error{constructor(n,a="storage",r,i){super(n),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=i}};function Ao(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Ql=class extends ko{constructor(n,a,r,i="storage"){super(n,i,a,r),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zp=class extends ko{constructor(n,a,r="storage"){super(n,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const h2=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),g2=n=>{if(typeof n!="object"||n===null)return!1;const a=Object.getPrototypeOf(n);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},wd=n=>{if(Array.isArray(n))return n.map(r=>wd(r));if(typeof n=="function"||n!==Object(n))return n;const a={};return Object.entries(n).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));a[o]=wd(i)}),a},m2=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function vi(n){"@babel/helpers - typeof";return vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},vi(n)}function p2(n,a){if(vi(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,a);if(vi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function y2(n){var a=p2(n,"string");return vi(a)=="symbol"?a:a+""}function v2(n,a,r){return(a=y2(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n}function L0(n,a){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);a&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function fe(n){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?L0(Object(r),!0).forEach(function(i){v2(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):L0(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}const U0=n=>{var a;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(a=n.error)===null||a===void 0?void 0:a.message)||JSON.stringify(n)},b2=async(n,a,r,i)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!r?.noResolveJson){const o=n,c=o.status||500;if(typeof o.json=="function")o.json().then(h=>{const g=h?.statusCode||h?.code||c+"";a(new Ql(U0(h),c,g,i))}).catch(()=>{if(i==="vectors"){const h=c+"";a(new Ql(o.statusText||`HTTP ${c} error`,c,h,i))}else{const h=c+"";a(new Ql(o.statusText||`HTTP ${c} error`,c,h,i))}});else{const h=c+"";a(new Ql(o.statusText||`HTTP ${c} error`,c,h,i))}}else a(new zp(U0(n),n,i))},x2=(n,a,r,i)=>{const o={method:n,headers:a?.headers||{}};return n==="GET"||n==="HEAD"||!i?fe(fe({},o),r):(g2(i)?(o.headers=fe({"Content-Type":"application/json"},a?.headers),o.body=JSON.stringify(i)):o.body=i,a?.duplex&&(o.duplex=a.duplex),fe(fe({},o),r))};async function ri(n,a,r,i,o,c,h){return new Promise((g,m)=>{n(r,x2(a,i,o,c)).then(p=>{if(!p.ok)throw p;if(i?.noResolveJson)return p;if(h==="vectors"){const v=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!v||!v.includes("application/json"))return{}}return p.json()}).then(p=>g(p)).catch(p=>b2(p,m,i,h))})}function Mp(n="storage"){return{get:async(a,r,i,o)=>ri(a,"GET",r,i,o,void 0,n),post:async(a,r,i,o,c)=>ri(a,"POST",r,o,c,i,n),put:async(a,r,i,o,c)=>ri(a,"PUT",r,o,c,i,n),head:async(a,r,i,o)=>ri(a,"HEAD",r,fe(fe({},i),{},{noResolveJson:!0}),o,void 0,n),remove:async(a,r,i,o,c)=>ri(a,"DELETE",r,o,c,i,n)}}const w2=Mp("storage"),{get:bi,post:ua,put:Sd,head:S2,remove:qd}=w2,Ht=Mp("vectors");var ts=class{constructor(n,a={},r,i="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=a,this.fetch=h2(r),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var a=this;try{return{data:await n(),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Ao(r))return{data:null,error:r};throw r}}},_2=class{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a}then(n,a){return this.execute().then(n,a)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ao(a))return{data:null,error:a};throw a}}};let qp;qp=Symbol.toStringTag;var j2=class{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a,this[qp]="BlobDownloadBuilder",this.promise=null}asStream(){return new _2(this.downloadFn,this.shouldThrowOnError)}then(n,a){return this.getPromise().then(n,a)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ao(a))return{data:null,error:a};throw a}}};const N2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},z0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var k2=class extends ts{constructor(n,a={},r,i){super(n,a,i,"storage"),this.bucketId=r}async uploadOrUpdate(n,a,r,i){var o=this;return o.handleOperation(async()=>{let c;const h=fe(fe({},z0),i);let g=fe(fe({},o.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),m&&c.append("metadata",o.encodeMetadata(m)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),m&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(m))):(c=r,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,m&&(g["x-metadata"]=o.toBase64(o.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),i?.headers&&(g=fe(fe({},g),i.headers));const p=o._removeEmptyFolders(a),v=o._getFinalPath(p),w=await(n=="PUT"?Sd:ua)(o.fetch,`${o.url}/object/${v}`,c,fe({headers:g},h?.duplex?{duplex:h.duplex}:{}));return{path:p,id:w.Id,fullPath:w.Key}})}async upload(n,a,r){return this.uploadOrUpdate("POST",n,a,r)}async uploadToSignedUrl(n,a,r,i){var o=this;const c=o._removeEmptyFolders(n),h=o._getFinalPath(c),g=new URL(o.url+`/object/upload/sign/${h}`);return g.searchParams.set("token",a),o.handleOperation(async()=>{let m;const p=fe({upsert:z0.upsert},i),v=fe(fe({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",p.cacheControl)):(m=r,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{path:c,fullPath:(await Sd(o.fetch,g.toString(),m,{headers:v})).Key}})}async createSignedUploadUrl(n,a){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(n);const o=fe({},r.headers);a?.upsert&&(o["x-upsert"]="true");const c=await ua(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:o}),h=new URL(r.url+c.url),g=h.searchParams.get("token");if(!g)throw new ko("No token returned by API");return{signedUrl:h.toString(),path:n,token:g}})}async update(n,a,r){return this.uploadOrUpdate("PUT",n,a,r)}async move(n,a,r){var i=this;return i.handleOperation(async()=>await ua(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:n,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:i.headers}))}async copy(n,a,r){var i=this;return i.handleOperation(async()=>({path:(await ua(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:n,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(n,a,r){var i=this;return i.handleOperation(async()=>{let o=i._getFinalPath(n),c=await ua(i.fetch,`${i.url}/object/sign/${o}`,fe({expiresIn:a},r?.transform?{transform:r.transform}:{}),{headers:i.headers});const h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${i.url}${c.signedURL}${h}`)}})}async createSignedUrls(n,a,r){var i=this;return i.handleOperation(async()=>{const o=await ua(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:a,paths:n},{headers:i.headers}),c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o.map(h=>fe(fe({},h),{},{signedUrl:h.signedURL?encodeURI(`${i.url}${h.signedURL}${c}`):null}))})}download(n,a,r){const i=typeof a?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(a?.transform||{}),c=o?`?${o}`:"",h=this._getFinalPath(n),g=()=>bi(this.fetch,`${this.url}/${i}/${h}${c}`,{headers:this.headers,noResolveJson:!0},r);return new j2(g,this.shouldThrowOnError)}async info(n){var a=this;const r=a._getFinalPath(n);return a.handleOperation(async()=>wd(await bi(a.fetch,`${a.url}/object/info/${r}`,{headers:a.headers})))}async exists(n){var a=this;const r=a._getFinalPath(n);try{return await S2(a.fetch,`${a.url}/object/${r}`,{headers:a.headers}),{data:!0,error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ao(i)&&i instanceof zp){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}}getPublicUrl(n,a){const r=this._getFinalPath(n),i=[],o=a?.download?`download=${a.download===!0?"":a.download}`:"";o!==""&&i.push(o);const c=typeof a?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(a?.transform||{});h!==""&&i.push(h);let g=i.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${g}`)}}}async remove(n){var a=this;return a.handleOperation(async()=>await qd(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:n},{headers:a.headers}))}async list(n,a,r){var i=this;return i.handleOperation(async()=>{const o=fe(fe(fe({},N2),a),{},{prefix:n||""});return await ua(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},r)})}async listV2(n,a){var r=this;return r.handleOperation(async()=>{const i=fe({},n);return await ua(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},a)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const a=[];return n.width&&a.push(`width=${n.width}`),n.height&&a.push(`height=${n.height}`),n.resize&&a.push(`resize=${n.resize}`),n.format&&a.push(`format=${n.format}`),n.quality&&a.push(`quality=${n.quality}`),a.join("&")}};const A2="2.95.3",ji={"X-Client-Info":`storage-js/${A2}`};var C2=class extends ts{constructor(n,a={},r,i){const o=new URL(n);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const c=o.href.replace(/\/$/,""),h=fe(fe({},ji),a);super(c,h,r,"storage")}async listBuckets(n){var a=this;return a.handleOperation(async()=>{const r=a.listBucketOptionsToQueryString(n);return await bi(a.fetch,`${a.url}/bucket${r}`,{headers:a.headers})})}async getBucket(n){var a=this;return a.handleOperation(async()=>await bi(a.fetch,`${a.url}/bucket/${n}`,{headers:a.headers}))}async createBucket(n,a={public:!1}){var r=this;return r.handleOperation(async()=>await ua(r.fetch,`${r.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}))}async updateBucket(n,a){var r=this;return r.handleOperation(async()=>await Sd(r.fetch,`${r.url}/bucket/${n}`,{id:n,name:n,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(n){var a=this;return a.handleOperation(async()=>await ua(a.fetch,`${a.url}/bucket/${n}/empty`,{},{headers:a.headers}))}async deleteBucket(n){var a=this;return a.handleOperation(async()=>await qd(a.fetch,`${a.url}/bucket/${n}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(n){const a={};return n&&("limit"in n&&(a.limit=String(n.limit)),"offset"in n&&(a.offset=String(n.offset)),n.search&&(a.search=n.search),n.sortColumn&&(a.sortColumn=n.sortColumn),n.sortOrder&&(a.sortOrder=n.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},E2=class extends ts{constructor(n,a={},r){const i=n.replace(/\/$/,""),o=fe(fe({},ji),a);super(i,o,r,"storage")}async createBucket(n){var a=this;return a.handleOperation(async()=>await ua(a.fetch,`${a.url}/bucket`,{name:n},{headers:a.headers}))}async listBuckets(n){var a=this;return a.handleOperation(async()=>{const r=new URLSearchParams;n?.limit!==void 0&&r.set("limit",n.limit.toString()),n?.offset!==void 0&&r.set("offset",n.offset.toString()),n?.sortColumn&&r.set("sortColumn",n.sortColumn),n?.sortOrder&&r.set("sortOrder",n.sortOrder),n?.search&&r.set("search",n.search);const i=r.toString(),o=i?`${a.url}/bucket?${i}`:`${a.url}/bucket`;return await bi(a.fetch,o,{headers:a.headers})})}async deleteBucket(n){var a=this;return a.handleOperation(async()=>await qd(a.fetch,`${a.url}/bucket/${n}`,{},{headers:a.headers}))}from(n){var a=this;if(!m2(n))throw new ko("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new f2({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(o,c){const h=o[c];return typeof h!="function"?h:async(...g)=>{try{return{data:await h.apply(o,g),error:null}}catch(m){if(i)throw m;return{data:null,error:m}}}}})}},T2=class extends ts{constructor(n,a={},r){const i=n.replace(/\/$/,""),o=fe(fe({},ji),{},{"Content-Type":"application/json"},a);super(i,o,r,"vectors")}async createIndex(n){var a=this;return a.handleOperation(async()=>await Ht.post(a.fetch,`${a.url}/CreateIndex`,n,{headers:a.headers})||{})}async getIndex(n,a){var r=this;return r.handleOperation(async()=>await Ht.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:n,indexName:a},{headers:r.headers}))}async listIndexes(n){var a=this;return a.handleOperation(async()=>await Ht.post(a.fetch,`${a.url}/ListIndexes`,n,{headers:a.headers}))}async deleteIndex(n,a){var r=this;return r.handleOperation(async()=>await Ht.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:n,indexName:a},{headers:r.headers})||{})}},O2=class extends ts{constructor(n,a={},r){const i=n.replace(/\/$/,""),o=fe(fe({},ji),{},{"Content-Type":"application/json"},a);super(i,o,r,"vectors")}async putVectors(n){var a=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Ht.post(a.fetch,`${a.url}/PutVectors`,n,{headers:a.headers})||{})}async getVectors(n){var a=this;return a.handleOperation(async()=>await Ht.post(a.fetch,`${a.url}/GetVectors`,n,{headers:a.headers}))}async listVectors(n){var a=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return a.handleOperation(async()=>await Ht.post(a.fetch,`${a.url}/ListVectors`,n,{headers:a.headers}))}async queryVectors(n){var a=this;return a.handleOperation(async()=>await Ht.post(a.fetch,`${a.url}/QueryVectors`,n,{headers:a.headers}))}async deleteVectors(n){var a=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Ht.post(a.fetch,`${a.url}/DeleteVectors`,n,{headers:a.headers})||{})}},R2=class extends ts{constructor(n,a={},r){const i=n.replace(/\/$/,""),o=fe(fe({},ji),{},{"Content-Type":"application/json"},a);super(i,o,r,"vectors")}async createBucket(n){var a=this;return a.handleOperation(async()=>await Ht.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:a.headers})||{})}async getBucket(n){var a=this;return a.handleOperation(async()=>await Ht.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:n},{headers:a.headers}))}async listBuckets(n={}){var a=this;return a.handleOperation(async()=>await Ht.post(a.fetch,`${a.url}/ListVectorBuckets`,n,{headers:a.headers}))}async deleteBucket(n){var a=this;return a.handleOperation(async()=>await Ht.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:a.headers})||{})}},D2=class extends R2{constructor(n,a={}){super(n,a.headers||{},a.fetch)}from(n){return new L2(this.url,this.headers,n,this.fetch)}async createBucket(n){var a=()=>super.createBucket,r=this;return a().call(r,n)}async getBucket(n){var a=()=>super.getBucket,r=this;return a().call(r,n)}async listBuckets(n={}){var a=()=>super.listBuckets,r=this;return a().call(r,n)}async deleteBucket(n){var a=()=>super.deleteBucket,r=this;return a().call(r,n)}},L2=class extends T2{constructor(n,a,r,i){super(n,a,i),this.vectorBucketName=r}async createIndex(n){var a=()=>super.createIndex,r=this;return a().call(r,fe(fe({},n),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(n={}){var a=()=>super.listIndexes,r=this;return a().call(r,fe(fe({},n),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(n){var a=()=>super.getIndex,r=this;return a().call(r,r.vectorBucketName,n)}async deleteIndex(n){var a=()=>super.deleteIndex,r=this;return a().call(r,r.vectorBucketName,n)}index(n){return new U2(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},U2=class extends O2{constructor(n,a,r,i,o){super(n,a,o),this.vectorBucketName=r,this.indexName=i}async putVectors(n){var a=()=>super.putVectors,r=this;return a().call(r,fe(fe({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(n){var a=()=>super.getVectors,r=this;return a().call(r,fe(fe({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(n={}){var a=()=>super.listVectors,r=this;return a().call(r,fe(fe({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(n){var a=()=>super.queryVectors,r=this;return a().call(r,fe(fe({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(n){var a=()=>super.deleteVectors,r=this;return a().call(r,fe(fe({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},z2=class extends C2{constructor(n,a={},r,i){super(n,a,r,i)}from(n){return new k2(this.url,this.headers,n,this.fetch)}get vectors(){return new D2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new E2(this.url+"/iceberg",this.headers,this.fetch)}};const $p="2.95.3",Gr=30*1e3,_d=3,rd=_d*Gr,M2="http://localhost:9999",q2="supabase.auth.token",$2={"X-Client-Info":`gotrue-js/${$p}`},jd="X-Supabase-Api-Version",Bp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},B2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,V2=600*1e3;class xi extends Error{constructor(a,r,i){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function se(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class P2 extends xi{constructor(a,r,i){super(a,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function I2(n){return se(n)&&n.name==="AuthApiError"}class Hn extends xi{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class Va extends xi{constructor(a,r,i,o){super(a,i,o),this.name=r,this.status=i}}class It extends Va{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sd(n){return se(n)&&n.name==="AuthSessionMissingError"}class $r extends Va{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jl extends Va{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Xl extends Va{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function H2(n){return se(n)&&n.name==="AuthImplicitGrantRedirectError"}class M0 extends Va{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class G2 extends Va{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nd extends Va{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function id(n){return se(n)&&n.name==="AuthRetryableFetchError"}class q0 extends Va{constructor(a,r,i){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class kd extends Va{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$0=` 	
\r=`.split(""),K2=(()=>{const n=new Array(128);for(let a=0;a<n.length;a+=1)n[a]=-1;for(let a=0;a<$0.length;a+=1)n[$0[a].charCodeAt(0)]=-2;for(let a=0;a<ho.length;a+=1)n[ho[a].charCodeAt(0)]=a;return n})();function B0(n,a,r){if(n!==null)for(a.queue=a.queue<<8|n,a.queuedBits+=8;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;r(ho[i]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;r(ho[i]),a.queuedBits-=6}}function Vp(n,a,r){const i=K2[n];if(i>-1)for(a.queue=a.queue<<6|i,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function V0(n){const a=[],r=h=>{a.push(String.fromCodePoint(h))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=h=>{J2(h,i,r)};for(let h=0;h<n.length;h+=1)Vp(n.charCodeAt(h),o,c);return a.join("")}function Y2(n,a){if(n<=127){a(n);return}else if(n<=2047){a(192|n>>6),a(128|n&63);return}else if(n<=65535){a(224|n>>12),a(128|n>>6&63),a(128|n&63);return}else if(n<=1114111){a(240|n>>18),a(128|n>>12&63),a(128|n>>6&63),a(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Q2(n,a){for(let r=0;r<n.length;r+=1){let i=n.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(n.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}Y2(i,a)}}function J2(n,a,r){if(a.utf8seq===0){if(n<=127){r(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){a.utf8seq=i;break}if(a.utf8seq===2)a.codepoint=n&31;else if(a.utf8seq===3)a.codepoint=n&15;else if(a.utf8seq===4)a.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|n&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function Xr(n){const a=[],r={queue:0,queuedBits:0},i=o=>{a.push(o)};for(let o=0;o<n.length;o+=1)Vp(n.charCodeAt(o),r,i);return new Uint8Array(a)}function X2(n){const a=[];return Q2(n,r=>a.push(r)),new Uint8Array(a)}function Gn(n){const a=[],r={queue:0,queuedBits:0},i=o=>{a.push(o)};return n.forEach(o=>B0(o,r,i)),B0(null,r,i),a.join("")}function F2(n){return Math.round(Date.now()/1e3)+n}function Z2(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",Bn={tested:!1,writable:!1},Pp=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bn.tested)return Bn.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Bn.tested=!0,Bn.writable=!0}catch{Bn.tested=!0,Bn.writable=!1}return Bn.writable};function W2(n){const a={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,c)=>{a[c]=o})}catch{}return r.searchParams.forEach((i,o)=>{a[o]=i}),a}const Ip=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),e_=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Kr=async(n,a,r)=>{await n.setItem(a,JSON.stringify(r))},Vn=async(n,a)=>{const r=await n.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},bt=async(n,a)=>{await n.removeItem(a)};class Co{constructor(){this.promise=new Co.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}Co.promiseConstructor=Promise;function Fl(n){const a=n.split(".");if(a.length!==3)throw new kd("Invalid JWT structure");for(let i=0;i<a.length;i++)if(!B2.test(a[i]))throw new kd("JWT not in base64url format");return{header:JSON.parse(V0(a[0])),payload:JSON.parse(V0(a[1])),signature:Xr(a[2]),raw:{header:a[0],payload:a[1]}}}async function t_(n){return await new Promise(a=>{setTimeout(()=>a(null),n)})}function a_(n,a){return new Promise((i,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await n(c);if(!a(c,null,h)){i(h);return}}catch(h){if(!a(c,h)){o(h);return}}})()})}function n_(n){return("0"+n.toString(16)).substr(-2)}function r_(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let c=0;c<56;c++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(a),Array.from(a,n_).join("")}async function s_(n){const r=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function i_(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await s_(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Br(n,a,r=!1){const i=r_();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await Kr(n,`${a}-code-verifier`,o);const c=await i_(i);return[c,i===c?"plain":"s256"]}const l_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function o_(n){const a=n.headers.get(jd);if(!a||!a.match(l_))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function c_(n){if(!n)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(n<=a)throw new Error("JWT has expired")}function u_(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const d_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vr(n){if(!d_.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ld(){const n={};return new Proxy(n,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function f_(n,a){return new Proxy(n,{get:(r,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const c=i.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,o)}return!a.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(r,i,o)}})}function P0(n){return JSON.parse(JSON.stringify(n))}const Pn=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),h_=[502,503,504];async function I0(n){var a;if(!e_(n))throw new Nd(Pn(n),0);if(h_.includes(n.status))throw new Nd(Pn(n),n.status);let r;try{r=await n.json()}catch(c){throw new Hn(Pn(c),c)}let i;const o=o_(n);if(o&&o.getTime()>=Bp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new q0(Pn(r),n.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(i==="session_not_found")throw new It}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new q0(Pn(r),n.status,r.weak_password.reasons);throw new P2(Pn(r),n.status||500,i)}const g_=(n,a,r,i)=>{const o={method:n,headers:a?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function de(n,a,r,i){var o;const c=Object.assign({},i?.headers);c[jd]||(c[jd]=Bp["2024-01-01"].name),i?.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const h=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(h.redirect_to=i.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await m_(n,a,r+g,{headers:c,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(m):{data:Object.assign({},m),error:null}}async function m_(n,a,r,i,o,c){const h=g_(a,i,o,c);let g;try{g=await n(r,Object.assign({},h))}catch(m){throw console.error(m),new Nd(Pn(m),0)}if(g.ok||await I0(g),i?.noResolveJson)return g;try{return await g.json()}catch(m){await I0(m)}}function oa(n){var a;let r=null;v_(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=F2(n.expires_in)));const i=(a=n.user)!==null&&a!==void 0?a:n;return{data:{session:r,user:i},error:null}}function H0(n){const a=oa(n);return!a.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(a.data.weak_password=n.weak_password),a}function pn(n){var a;return{data:{user:(a=n.user)!==null&&a!==void 0?a:n},error:null}}function p_(n){return{data:n,error:null}}function y_(n){const{action_link:a,email_otp:r,hashed_token:i,redirect_to:o,verification_type:c}=n,h=No(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:a,email_otp:r,hashed_token:i,redirect_to:o,verification_type:c},m=Object.assign({},h);return{data:{properties:g,user:m},error:null}}function G0(n){return n}function v_(n){return n.access_token&&n.refresh_token&&n.expires_in}const od=["global","local","others"];class b_{constructor({url:a="",headers:r={},fetch:i}){this.url=a,this.headers=r,this.fetch=Ip(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=od[0]){if(od.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${od.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}}async inviteUserByEmail(a,r={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:pn})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async generateLink(a){try{const{options:r}=a,i=No(a,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:y_,redirectTo:r?.redirectTo})}catch(r){if(se(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:pn})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,i,o,c,h,g,m;try{const p={nextPage:null,lastPage:0,total:0},v=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=a?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:G0});if(v.error)throw v.error;const w=await v.json(),x=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(m=(g=v.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(_=>{const N=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(_.split(";")[1].split("=")[1]);p[`${j}Page`]=N}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(se(p))return{data:{users:[]},error:p};throw p}}async getUserById(a){Vr(a);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:pn})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){Vr(a);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:pn})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async deleteUser(a,r=!1){Vr(a);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:pn})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async _listFactors(a){Vr(a.userId);try{const{data:r,error:i}=await de(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _deleteFactor(a){Vr(a.userId),Vr(a.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,i,o,c,h,g,m;try{const p={nextPage:null,lastPage:0,total:0},v=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=a?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:G0});if(v.error)throw v.error;const w=await v.json(),x=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(m=(g=v.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(_=>{const N=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(_.split(";")[1].split("=")[1]);p[`${j}Page`]=N}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(se(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(a){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _updateOAuthClient(a,r){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(se(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(a){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}}function K0(n={}){return{getItem:a=>n[a]||null,setItem:(a,r)=>{n[a]=r},removeItem:a=>{delete n[a]}}}const Pr={debug:!!(globalThis&&Pp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hp extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class x_ extends Hp{}async function w_(n,a,r){Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,a);const i=new globalThis.AbortController;return a>0&&setTimeout(()=>{i.abort(),Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await r()}finally{Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(a===0)throw Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new x_(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Pr.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function S_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gp(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function __(n){return parseInt(n,16)}function j_(n){const a=new TextEncoder().encode(n);return"0x"+Array.from(a,i=>i.toString(16).padStart(2,"0")).join("")}function N_(n){var a;const{chainId:r,domain:i,expirationTime:o,issuedAt:c=new Date,nonce:h,notBefore:g,requestId:m,resources:p,scheme:v,uri:w,version:x}=n;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((a=n.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const S=Gp(n.address),_=v?`${v}://${i}`:i,N=n.statement?`${n.statement}
`:"",j=`${_} wants you to sign in with your Ethereum account:
${S}

${N}`;let A=`URI: ${w}
Version: ${x}
Chain ID: ${r}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(o&&(A+=`
Expiration Time: ${o.toISOString()}`),g&&(A+=`
Not Before: ${g.toISOString()}`),m&&(A+=`
Request ID: ${m}`),p){let R=`
Resources:`;for(const T of p){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);R+=`
- ${T}`}A+=R}return`${j}
${A}`}class lt extends Error{constructor({message:a,code:r,cause:i,name:o}){var c;super(a,{cause:i}),this.__isWebAuthnError=!0,this.name=(c=o??(i instanceof Error?i.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class go extends lt{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function k_({error:n,options:a}){var r,i,o;const{publicKey:c}=a;if(!c)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(a.signal instanceof AbortSignal)return new lt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new lt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(a.mediation==="conditional"&&((i=c.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new lt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new lt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new lt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new lt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return c.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new lt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new lt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const h=window.location.hostname;if(Kp(h)){if(c.rp.id!==h)return new lt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new lt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function A_({error:n,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(a.signal instanceof AbortSignal)return new lt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new lt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(Kp(i)){if(r.rpId!==i)return new lt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class C_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const E_=new C_;function T_(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:a,user:r,excludeCredentials:i}=n,o=No(n,["challenge","user","excludeCredentials"]),c=Xr(a).buffer,h=Object.assign(Object.assign({},r),{id:Xr(r.id).buffer}),g=Object.assign(Object.assign({},o),{challenge:c,user:h});if(i&&i.length>0){g.excludeCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const p=i[m];g.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:Xr(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return g}function O_(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:a,allowCredentials:r}=n,i=No(n,["challenge","allowCredentials"]),o=Xr(a).buffer,c=Object.assign(Object.assign({},i),{challenge:o});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const g=r[h];c.allowCredentials[h]=Object.assign(Object.assign({},g),{id:Xr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return c}function R_(n){var a;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n;return{id:n.id,rawId:n.id,response:{attestationObject:Gn(new Uint8Array(n.response.attestationObject)),clientDataJSON:Gn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function D_(n){var a;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n,i=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Gn(new Uint8Array(o.authenticatorData)),clientDataJSON:Gn(new Uint8Array(o.clientDataJSON)),signature:Gn(new Uint8Array(o.signature)),userHandle:o.userHandle?Gn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Kp(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Y0(){var n,a;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function L_(n){try{const a=await navigator.credentials.create(n);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new go("Browser returned unexpected credential type",a)}:{data:null,error:new go("Empty credential response",a)}}catch(a){return{data:null,error:k_({error:a,options:n})}}}async function U_(n){try{const a=await navigator.credentials.get(n);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new go("Browser returned unexpected credential type",a)}:{data:null,error:new go("Empty credential response",a)}}catch(a){return{data:null,error:A_({error:a,options:n})}}}const z_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},M_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function mo(...n){const a=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of n)if(o)for(const c in o){const h=o[c];if(h!==void 0)if(Array.isArray(h))i[c]=h;else if(r(h))i[c]=h;else if(a(h)){const g=i[c];a(g)?i[c]=mo(g,h):i[c]=mo(h)}else i[c]=h}return i}function q_(n,a){return mo(z_,n,a||{})}function $_(n,a){return mo(M_,n,a||{})}class B_{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:i,signal:o},c){var h;try{const{data:g,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!g)return{data:null,error:m};const p=o??E_.createNewAbortSignal();if(g.webauthn.type==="create"){const{user:v}=g.webauthn.credential_options.publicKey;if(!v.name){const w=i;if(w)v.name=`${v.id}:${w}`;else{const S=(await this.client.getUser()).data.user,_=((h=S?.user_metadata)===null||h===void 0?void 0:h.name)||S?.email||S?.id||"User";v.name=`${v.id}:${_}`}}v.displayName||(v.displayName=v.name)}switch(g.webauthn.type){case"create":{const v=q_(g.webauthn.credential_options.publicKey,c?.create),{data:w,error:x}=await L_({publicKey:v,signal:p});return w?{data:{factorId:a,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:w}},error:null}:{data:null,error:x}}case"request":{const v=$_(g.webauthn.credential_options.publicKey,c?.request),{data:w,error:x}=await U_(Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:v,signal:p}));return w?{data:{factorId:a,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:w}},error:null}:{data:null,error:x}}}}catch(g){return se(g)?{data:null,error:g}:{data:null,error:new Hn("Unexpected error in challenge",g)}}}async _verify({challengeId:a,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:i})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!r)return{data:null,error:new xi("rpId is required for WebAuthn authentication")};try{if(!Y0())return{data:null,error:new Hn("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:c});if(!h)return{data:null,error:g};const{webauthn:m}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:m.type,rpId:r,rpOrigins:i,credential_response:m.credential_response}})}catch(h){return se(h)?{data:null,error:h}:{data:null,error:new Hn("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!r)return{data:null,error:new xi("rpId is required for WebAuthn registration")};try{if(!Y0())return{data:null,error:new Hn("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===a&&x.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:g};const{data:m,error:p}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:c});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:r,rpOrigins:i,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(h){return se(h)?{data:null,error:h}:{data:null,error:new Hn("Unexpected error in register",h)}}}}S_();const V_={url:M2,storageKey:q2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Q0(n,a,r){return await r()}const Ir={};class wi{get jwks(){var a,r;return(r=(a=Ir[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){Ir[this.storageKey]=Object.assign(Object.assign({},Ir[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=Ir[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Ir[this.storageKey]=Object.assign(Object.assign({},Ir[this.storageKey]),{cachedAt:a})}constructor(a){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},V_),a);if(this.storageKey=c.storageKey,this.instanceID=(r=wi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,wi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&xt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new b_({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Ip(c.fetch),this.lock=c.lock||Q0,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&xt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=w_:this.lock=Q0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new B_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Pp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=K0(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=K0(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(g){this._debug("#broadcastChannel","error",g)}})}this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$p}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let r={},i="none";if(xt()&&(r=W2(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),xt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:c}=await this._getSessionFromURL(r,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),H2(c)){const m=(a=c.details)===null||a===void 0?void 0:a.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:h,redirectType:g}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",g),await this._saveSession(h),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return se(r)?this._returnResult({error:r}):this._returnResult({error:new Hn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,i,o;try{const c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=a?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=a?.options)===null||o===void 0?void 0:o.captchaToken}},xform:oa}),{data:h,error:g}=c;if(g||!h)return this._returnResult({data:{user:null,session:null},error:g});const m=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(c){if(se(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(a){var r,i,o;try{let c;if("email"in a){const{email:v,password:w,options:x}=a;let S=null,_=null;this.flowType==="pkce"&&([S,_]=await Br(this.storage,this.storageKey)),c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:v,password:w,data:(r=x?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:S,code_challenge_method:_},xform:oa})}else if("phone"in a){const{phone:v,password:w,options:x}=a;c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(i=x?.data)!==null&&i!==void 0?i:{},channel:(o=x?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:oa})}else throw new Jl("You must provide either an email or phone number and a password");const{data:h,error:g}=c;if(g||!h)return await bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const m=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(c){if(await bt(this.storage,`${this.storageKey}-code-verifier`),se(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(a){try{let r;if("email"in a){const{email:c,password:h,options:g}=a;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:H0})}else if("phone"in a){const{phone:c,password:h,options:g}=a;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:H0})}else throw new Jl("You must provide either an email or phone number and a password");const{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const c=new $r;return this._returnResult({data:{user:null,session:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(a){var r,i,o,c;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=a.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=a.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=a.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,i,o,c,h,g,m,p,v,w,x;let S,_;if("message"in a)S=a.message,_=a.signature;else{const{chain:N,wallet:j,statement:A,options:R}=a;let T;if(xt())if(typeof j=="object")T=j;else{const ge=window;if("ethereum"in ge&&typeof ge.ethereum=="object"&&"request"in ge.ethereum&&typeof ge.ethereum.request=="function")T=ge.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=j}const q=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href),Y=await T.request({method:"eth_requestAccounts"}).then(ge=>ge).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=Gp(Y[0]);let H=(i=R?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!H){const ge=await T.request({method:"eth_chainId"});H=__(ge)}const pe={domain:q.host,address:D,statement:A,uri:q.href,version:"1",chainId:H,nonce:(o=R?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(h=(c=R?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(g=R?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(m=R?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=R?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=R?.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=N_(pe),_=await T.request({method:"personal_sign",params:[j_(S),D]})}try{const{data:N,error:j}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:_},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=a.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:oa});if(j)throw j;if(!N||!N.session||!N.user){const A=new $r;return this._returnResult({data:{user:null,session:null},error:A})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:j})}catch(N){if(se(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(a){var r,i,o,c,h,g,m,p,v,w,x,S;let _,N;if("message"in a)_=a.message,N=a.signature;else{const{chain:j,wallet:A,statement:R,options:T}=a;let q;if(xt())if(typeof A=="object")q=A;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))q=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=A}const Y=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in q&&q.signIn){const D=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),R?{statement:R}:null));let H;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")H=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)H=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)_=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),N=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${Y.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(o=(i=T?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=T?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((g=T?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((p=T?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((w=(v=T?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...T.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const D=await q.signMessage(new TextEncoder().encode(_),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=D}}try{const{data:j,error:A}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Gn(N)},!((x=a.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(S=a.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:oa});if(A)throw A;if(!j||!j.session||!j.user){const R=new $r;return this._returnResult({data:{user:null,session:null},error:R})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:A})}catch(j){if(se(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(a){const r=await Vn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new G2;const{data:c,error:h}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:i},xform:oa});if(await bt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const g=new $r;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:h})}catch(c){if(await bt(this.storage,`${this.storageKey}-code-verifier`),se(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(a){try{const{options:r,provider:i,token:o,access_token:c,nonce:h}=a,g=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:oa}),{data:m,error:p}=g;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const v=new $r;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(a){var r,i,o,c,h;try{if("email"in a){const{email:g,options:m}=a;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Br(this.storage,this.storageKey));const{error:w}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(r=m?.data)!==null&&r!==void 0?r:{},create_user:(i=m?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in a){const{phone:g,options:m}=a,{data:p,error:v}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(h=m?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:v})}throw new Jl("You must provide either an email or phone number.")}catch(g){if(await bt(this.storage,`${this.storageKey}-code-verifier`),se(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(a){var r,i;try{let o,c;"options"in a&&(o=(r=a.options)===null||r===void 0?void 0:r.redirectTo,c=(i=a.options)===null||i===void 0?void 0:i.captchaToken);const{data:h,error:g}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:oa});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,p=h.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(o){if(se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(a){var r,i,o,c,h;try{let g=null,m=null;this.flowType==="pkce"&&([g,m]=await Br(this.storage,this.storageKey));const p=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(i=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=a?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:m}),headers:this.headers,xform:p_});return!((c=p.data)===null||c===void 0)&&c.url&&xt()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(g){if(await bt(this.storage,`${this.storageKey}-code-verifier`),se(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:i}=a;if(i)throw i;if(!r)throw new It;const{error:o}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:i,type:o,options:c}=a,{error:h}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:i,type:o,options:c}=a,{data:h,error:g}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:g})}throw new Jl("You must provide either an email or phone number and a type")}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await Vn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const i=a.expires_at?a.expires_at*1e3-Date.now()<rd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",a.expires_at),!i){if(this.userStorage){const h=await Vn(this.userStorage,this.storageKey+"-user");h?.user?a.user=h.user:a.user=ld()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=f_(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:o,error:c}=await this._callRefreshToken(a.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(a){try{return a?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:pn}):await this._useSession(async r=>{var i,o,c;const{data:h,error:g}=r;if(g)throw g;return!(!((i=h.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:pn})})}catch(r){if(se(r))return sd(r)&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async i=>{const{data:o,error:c}=i;if(c)throw c;if(!o.session)throw new It;const h=o.session;let g=null,m=null;this.flowType==="pkce"&&a.email!=null&&([g,m]=await Br(this.storage,this.storageKey));const{data:p,error:v}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:m}),jwt:h.access_token,xform:pn});if(v)throw v;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(i){if(await bt(this.storage,`${this.storageKey}-code-verifier`),se(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new It;const r=Date.now()/1e3;let i=r,o=!0,c=null;const{payload:h}=Fl(a.access_token);if(h.exp&&(i=h.exp,o=i<=r),o){const{data:g,error:m}=await this._callRefreshToken(a.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g)return{data:{user:null,session:null},error:null};c=g}else{const{data:g,error:m}=await this._getUser(a.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});c={access_token:a.access_token,refresh_token:a.refresh_token,user:g.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(r){if(se(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var i;if(!a){const{data:h,error:g}=r;if(g)throw g;a=(i=h.session)!==null&&i!==void 0?i:void 0}if(!a?.refresh_token)throw new It;const{data:o,error:c}=await this._callRefreshToken(a.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(a,r){try{if(!xt())throw new Xl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Xl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new M0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new M0("No code detected.");const{data:R,error:T}=await this._exchangeCodeForSession(a.code);if(T)throw T;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:c,refresh_token:h,expires_in:g,expires_at:m,token_type:p}=a;if(!c||!g||!h||!p)throw new Xl("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(g);let x=v+w;m&&(x=parseInt(m));const S=x-v;S*1e3<=Gr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${w}s`);const _=x-w;v-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,x,v):v-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,x,v);const{data:N,error:j}=await this._getUser(c);if(j)throw j;const A={provider_token:i,provider_refresh_token:o,access_token:c,expires_in:w,expires_at:x,refresh_token:h,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:a.type},error:null})}catch(i){if(se(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await Vn(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:c}=r;if(c&&!sd(c))return this._returnResult({error:c});const h=(i=o.session)===null||i===void 0?void 0:i.access_token;if(h){const{error:g}=await this.admin.signOut(h,a);if(g&&!(I2(g)&&(g.status===404||g.status===401||g.status===403)||sd(g)))return this._returnResult({error:g})}return a!=="others"&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const r=Z2(),i={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(a){return await this._useSession(async r=>{var i,o;try{const{data:{session:c},error:h}=r;if(h)throw h;await((i=this.stateChangeEmitters.get(a))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",a,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(a))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",c),console.error(c)}})}async resetPasswordForEmail(a,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Br(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(await bt(this.storage,`${this.storageKey}-code-verifier`),se(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var a;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:i,error:o}=await this._useSession(async c=>{var h,g,m,p,v;const{data:w,error:x}=c;if(x)throw x;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=a.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=a.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(p=w.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return xt()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:a.provider,url:i?.url},error:null})}catch(i){if(se(i))return this._returnResult({data:{provider:a.provider,url:null},error:i});throw i}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var i;try{const{error:o,data:{session:c}}=r;if(o)throw o;const{options:h,provider:g,token:m,access_token:p,nonce:v}=a,w=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=c?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:g,id_token:m,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:oa}),{data:x,error:S}=w;return S?this._returnResult({data:{user:null,session:null},error:S}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new $r}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:S}))}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var i,o;const{data:c,error:h}=r;if(h)throw h;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await a_(async o=>(o>0&&await t_(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:oa})),(o,c)=>{const h=200*Math.pow(2,o);return c&&id(c)&&Date.now()+h-i<Gr})}catch(i){if(this._debug(r,"error",i),se(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",i),xt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:a,url:i},error:null}}async _recoverAndRefresh(){var a,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Vn(this.storage,this.storageKey);if(o&&this.userStorage){let h=await Vn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:o.user},await Kr(this.userStorage,this.storageKey+"-user",h)),o.user=(a=h?.user)!==null&&a!==void 0?a:ld()}else if(o&&!o.user&&!o.user){const h=await Vn(this.storage,this.storageKey+"-user");h&&h?.user?(o.user=h.user,await bt(this.storage,this.storageKey+"-user"),await Kr(this.storage,this.storageKey,o)):o.user=ld()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const c=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<rd;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${rd}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:h}=await this._callRefreshToken(o.refresh_token);h&&(console.error(h),id(h)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:g}=await this._getUser(o.access_token);!g&&h?.user?(o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(i,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(a){var r,i;if(!a)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Co;const{data:c,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!c.session)throw new It;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const g={data:c.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(c){if(this._debug(o,"error",c),se(c)){const h={data:null,error:c};return id(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(h),h}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(a,r,i=!0){const o=`#_notifyAllSubscribers(${a})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:a,session:r});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(a,r)}catch(m){c.push(m)}});if(await Promise.all(h),c.length>0){for(let g=0;g<c.length;g+=1)console.error(c[g]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await bt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},a),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Kr(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const c=P0(o);await Kr(this.storage,this.storageKey,c)}else{const o=P0(r);await Kr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bt(this.storage,this.storageKey),await bt(this.storage,this.storageKey+"-code-verifier"),await bt(this.storage,this.storageKey+"-user"),this.userStorage&&await bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&xt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Gr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-a)/Gr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Gr}ms, refresh threshold is ${_d} ticks`),o<=_d&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Hp)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,h]=await Br(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(g.toString())}if(i?.queryParams){const c=new URLSearchParams(i.queryParams);o.push(c.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${a}?${o.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var i;const{data:o,error:c}=r;return c?this._returnResult({data:null,error:c}):await de(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(a){try{return await this._useSession(async r=>{var i,o;const{data:c,error:h}=r;if(h)return this._returnResult({data:null,error:h});const g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:m,error:p}=await de(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(a.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?R_(a.webauthn.credential_response):D_(a.webauthn.credential_response)})}:{code:a.code}),{data:g,error:m}=await de(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:m}))})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const h=await de(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(h.error)return h;const{data:g}=h;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:T_(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:O_(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(a){const{data:r,error:i}=await this._challenge({factorId:a.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(a=r?.factors)!==null&&a!==void 0?a:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(a){var r,i,o,c;if(a)try{const{payload:S}=Fl(a);let _=null;S.aal&&(_=S.aal);let N=_;const{data:{user:j},error:A}=await this.getUser(a);if(A)return this._returnResult({data:null,error:A});((i=(r=j?.factors)===null||r===void 0?void 0:r.filter(q=>q.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(N="aal2");const T=S.amr||[];return{data:{currentLevel:_,nextLevel:N,currentAuthenticationMethods:T},error:null}}catch(S){if(se(S))return this._returnResult({data:null,error:S});throw S}const{data:{session:h},error:g}=await this.getSession();if(g)return this._returnResult({data:null,error:g});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=Fl(h.access_token);let p=null;m.aal&&(p=m.aal);let v=p;((c=(o=h.user.factors)===null||o===void 0?void 0:o.filter(S=>S.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(v="aal2");const x=m.amr||[];return{data:{currentLevel:p,nextLevel:v,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new It})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(a,r){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new It});const h=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&xt()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(a,r){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new It});const h=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&xt()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:r},error:i}=a;return i?this._returnResult({data:null,error:i}):r?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new It})})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new It})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(a,r={keys:[]}){let i=r.keys.find(g=>g.kid===a);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(g=>g.kid===a),i&&this.jwks_cached_at+V2>o)return i;const{data:c,error:h}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,i=c.keys.find(g=>g.kid===a),!i)?null:i}async getClaims(a,r={}){try{let i=a;if(!i){const{data:S,error:_}=await this.getSession();if(_||!S.session)return this._returnResult({data:null,error:_});i=S.session.access_token}const{header:o,payload:c,signature:h,raw:{header:g,payload:m}}=Fl(i);r?.allowExpired||c_(c.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:c,header:o,signature:h},error:null}}const v=u_(o.alg),w=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,h,X2(`${g}.${m}`)))throw new kd("Invalid JWT signature");return{data:{claims:c,header:o,signature:h},error:null}}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}}wi.nextInstanceID={};const P_=wi,I_="2.95.3";let ii="";typeof Deno<"u"?ii="deno":typeof document<"u"?ii="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ii="react-native":ii="node";const H_={"X-Client-Info":`supabase-js-${ii}/${I_}`},G_={headers:H_},K_={schema:"public"},Y_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Q_={};function Si(n){"@babel/helpers - typeof";return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Si(n)}function J_(n,a){if(Si(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,a);if(Si(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function X_(n){var a=J_(n,"string");return Si(a)=="symbol"?a:a+""}function F_(n,a,r){return(a=X_(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n}function J0(n,a){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);a&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Ze(n){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?J0(Object(r),!0).forEach(function(i){F_(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):J0(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}const Z_=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),W_=()=>Headers,ej=(n,a,r)=>{const i=Z_(r),o=W_();return async(c,h)=>{var g;const m=(g=await a())!==null&&g!==void 0?g:n;let p=new o(h?.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),i(c,Ze(Ze({},h),{},{headers:p}))}};function tj(n){return n.endsWith("/")?n:n+"/"}function aj(n,a){var r,i;const{db:o,auth:c,realtime:h,global:g}=n,{db:m,auth:p,realtime:v,global:w}=a,x={db:Ze(Ze({},m),o),auth:Ze(Ze({},p),c),realtime:Ze(Ze({},v),h),storage:{},global:Ze(Ze(Ze({},w),g),{},{headers:Ze(Ze({},(r=w?.headers)!==null&&r!==void 0?r:{}),(i=g?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?x.accessToken=n.accessToken:delete x.accessToken,x}function nj(n){const a=n?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tj(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var rj=class extends P_{constructor(n){super(n)}},sj=class{constructor(n,a,r){var i,o;this.supabaseUrl=n,this.supabaseKey=a;const c=nj(n);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,g={db:K_,realtime:Q_,auth:Ze(Ze({},Y_),{},{storageKey:h}),global:G_},m=aj(r??{},g);if(this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=m.auth)!==null&&p!==void 0?p:{},this.headers,m.global.fetch)}this.fetch=ej(a,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new IS(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new z2(this.storageUrl.href,this.headers,this.fetch,r?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new US(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,a={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,a,r)}channel(n,a={config:{}}){return this.realtime.channel(n,a)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,a,r;if(n.accessToken)return await n.accessToken();const{data:i}=await n.auth.getSession();return(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:a,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:c,flowType:h,lock:g,debug:m,throwOnError:p},v,w){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rj({url:this.authUrl.href,headers:Ze(Ze({},x),v),storageKey:c,autoRefreshToken:n,persistSession:a,detectSessionInUrl:r,storage:i,userStorage:o,flowType:h,lock:g,debug:m,throwOnError:p,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new i2(this.realtimeUrl.href,Ze(Ze({},n),{},{params:Ze(Ze({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(n,a,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ij=(n,a,r)=>new sj(n,a,r);function lj(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const a=n.version;if(a==null)return!1;const r=a.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}lj()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const oj="https://gktszlespplmyauekris.supabase.co",Yp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdrdHN6bGVzcHBsbXlhdWVrcmlzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwMDU2NzgsImV4cCI6MjA4NjU4MTY3OH0.2irbC1PsOkybPmpHdXc48x0WivpfCgQxyC9hZSI74S0",Ct=!!Yp,we=Ct?ij(oj,Yp,{auth:{flowType:"pkce",detectSessionInUrl:!1,persistSession:!0,autoRefreshToken:!0}}):null,Qp=E.createContext(void 0);function cj({children:n}){const[a,r]=E.useState(null),[i,o]=E.useState([]),[c,h]=E.useState([]),[g,m]=E.useState([]),[p,v]=E.useState([]),[w,x]=E.useState([]),[S,_]=E.useState(!1),[N,j]=E.useState(null),[A,R]=E.useState(null),T=E.useCallback(J=>J.filter(F=>F.isVerified),[]),q=E.useCallback(J=>i.find(F=>F.id===J),[i]),Y=E.useCallback(J=>g.filter(F=>F.sellerId===J),[g]),D=E.useCallback(J=>{const F=p.filter(De=>De.sellerId===J),ee=F.length;if(ee===0)return{average:0,count:0};const je=F.reduce((De,Se)=>De+Se.rating,0);return{average:Math.round(je/ee*10)/10,count:ee}},[p]),H=E.useCallback(J=>{const F=J.trim();if(!F)return"";const je=F.replace(/^https?:\/\//i,"").replace(/^www\./i,"").split("/").filter(Boolean);return(je[je.length-1]??"").replace(/^@+/,"").trim()},[]);E.useEffect(()=>{const J="souq_iraq_daily_cache_v1",F=(()=>{const P=new Date,Je=jt=>String(jt).padStart(2,"0");return`${P.getFullYear()}-${Je(P.getMonth()+1)}-${Je(P.getDate())}`})();function ee(){try{const P=localStorage.getItem(J);if(!P)return null;const Je=JSON.parse(P);return typeof Je.date!="string"?null:Je.date!==F?(localStorage.removeItem(J),null):!Array.isArray(Je.sellers)||!Array.isArray(Je.products)||!Array.isArray(Je.ratings)?null:{date:Je.date,sellers:Je.sellers,products:Je.products,ratings:Je.ratings}}catch{try{localStorage.removeItem(J)}catch{}return null}}function je(P){try{localStorage.setItem(J,JSON.stringify({date:F,...P}))}catch{}}function Ye(P){return{id:String(P.id??""),name:String(P.name??""),nameAr:String(P.name_ar??P.nameAr??""),avatar:String(P.avatar??""),coverImage:String(P.cover_image??P.coverImage??""),bio:String(P.bio??""),location:String(P.location??""),locationAr:String(P.location_ar??P.locationAr??""),whatsapp:String(P.whatsapp??""),instagram:String(P.instagram??""),tiktok:String(P.tiktok??""),isVerified:!!(P.is_verified??P.isVerified),rating:Number(P.rating??0),totalRatings:Number(P.total_ratings??P.totalRatings??0),totalSales:Number(P.total_sales??P.totalSales??0),joinedDate:String(P.joined_date??P.joinedDate??""),categories:Array.isArray(P.categories)?P.categories.map(String):[],viewCount:Number(P.view_count??P.viewCount??0),deliveryInfo:String(P.delivery_info??P.deliveryInfo??"توصيل لكل العراق"),productCount:Number(P.product_count??P.productCount??0),featuredProductId:P.featured_product_id??P.featuredProductId??void 0}}function De(P){return{id:String(P.id??""),sellerId:String(P.seller_id??P.sellerId??""),name:String(P.name??""),nameAr:String(P.name_ar??P.nameAr??""),description:String(P.description??""),descriptionAr:String(P.description_ar??P.descriptionAr??""),price:Number(P.price??0),originalPrice:P.original_price??P.originalPrice??void 0,currency:String(P.currency??"IQD"),images:Array.isArray(P.images)?P.images.map(String):[],category:String(P.category??""),categoryAr:String(P.category_ar??P.categoryAr??""),inStock:!!(P.in_stock??P.inStock??!0),viewCount:Number(P.view_count??P.viewCount??0),createdAt:String(P.created_at??P.createdAt??""),tags:Array.isArray(P.tags)?P.tags.map(String):[],isVerified:!!(P.is_verified??P.isVerified),verificationStatus:P.verification_status??P.verificationStatus??"none",verifiedAt:P.verified_at??P.verifiedAt??void 0,verificationBadge:P.verification_badge??P.verificationBadge??void 0}}function Se(P){return{id:String(P.id??""),sellerId:String(P.seller_id??P.sellerId??""),buyerName:String(P.buyer_name??P.buyerName??""),rating:Number(P.rating??0),comment:String(P.comment??""),verified:!!(P.verified??!1),date:String(P.date??"")}}let Me=!1;async function _t(){_(!0),j(null);const P=ee();if(P&&!Me&&(o(P.sellers),h(T(P.sellers)),m(P.products),v(P.ratings),Ma({sellers:P.sellers,products:P.products,ratings:P.ratings})),!Ct||!we){_(!1);return}try{const[{data:Je,error:jt},{data:ns,error:Qn},{data:rs,error:Ni}]=await Promise.all([we.from("sellers").select("*"),we.from("products").select("*"),we.from("ratings").select("*")]);if(Me)return;if(jt)throw jt;if(Qn)throw Qn;if(Ni)throw Ni;let ss=Je??[],ht=ns??[],ki=rs??[];if(ss.length===0&&ht.length===0){const ls=(P?.sellers?.length?P.sellers:Wr)??[],Ai=(P?.products?.length?P.products:_i)??[],Ci=(P?.ratings?.length?P.ratings:Ud)??[];if(ls.length>0||Ai.length>0||Ci.length>0){const Ia=ls.map(ne=>({id:ne.id,name:ne.name,name_ar:ne.nameAr,avatar:ne.avatar,cover_image:ne.coverImage,bio:ne.bio,location:ne.location,location_ar:ne.locationAr,whatsapp:ne.whatsapp,instagram:ne.instagram,tiktok:ne.tiktok,is_verified:ne.isVerified,rating:ne.rating,total_ratings:ne.totalRatings,total_sales:ne.totalSales,joined_date:ne.joinedDate,categories:ne.categories,view_count:ne.viewCount,delivery_info:ne.deliveryInfo,product_count:ne.productCount,featured_product_id:ne.featuredProductId??null})),wt=Ai.map(ne=>({id:ne.id,seller_id:ne.sellerId,name:ne.name,name_ar:ne.nameAr,description:ne.description,description_ar:ne.descriptionAr,price:ne.price,original_price:ne.originalPrice??null,currency:ne.currency,images:ne.images,category:ne.category,category_ar:ne.categoryAr,in_stock:ne.inStock,view_count:ne.viewCount,created_at:ne.createdAt,tags:ne.tags,is_verified:ne.isVerified,verification_status:ne.verificationStatus,verified_at:ne.verifiedAt??null,verification_badge:ne.verificationBadge??null})),ra=Ci.map(ne=>({id:ne.id,seller_id:ne.sellerId,buyer_name:ne.buyerName,rating:ne.rating,comment:ne.comment,verified:ne.verified,date:ne.date}));if(Ia.length){const{error:ne}=await we.from("sellers").insert(Ia);if(ne)throw ne}if(wt.length){const{error:ne}=await we.from("products").insert(wt);if(ne)throw ne}if(ra.length){const{error:ne}=await we.from("ratings").insert(ra);if(ne)throw ne}const[{data:Nt,error:Ei},{data:Oo,error:Ti},{data:Jn,error:wn}]=await Promise.all([we.from("sellers").select("*"),we.from("products").select("*"),we.from("ratings").select("*")]);if(Ei)throw Ei;if(Ti)throw Ti;if(wn)throw wn;ss=Nt??[],ht=Oo??[],ki=Jn??[]}}const xn=ss.map(Ye),Pa=ht.map(De),is=ki.map(Se);o(xn),h(T(xn)),m(Pa),v(is),Ma({sellers:xn,products:Pa,ratings:is}),je({sellers:xn,products:Pa,ratings:is}),_(!1)}catch(Je){if(Me)return;const jt=Je instanceof Error?Je.message:"Failed to load marketplace data";j(jt),_(!1)}}return _t(),()=>{Me=!0}},[T]);const pe=E.useCallback(J=>{const F=q(J);if(!F)return;const{average:ee,count:je}=D(J);return{...F,rating:ee,totalRatings:je}},[q,D]),ge=E.useCallback(()=>{const J=T(i);return h(J),J},[T,i]),We=E.useCallback(()=>i,[i]),Ve=E.useCallback(J=>!!q(J)?.isVerified,[q]),ze=E.useCallback(J=>{const F=Y(J);return x(F),F},[Y]),ut=E.useCallback(()=>mi(g),[g]),Ie=E.useCallback(J=>mi(J),[]),ce=E.useCallback(J=>q(J)?.deliveryInfo||"توصيل لكل العراق",[q]),U=E.useCallback(J=>q(J)?.productCount||g.filter(ee=>ee.sellerId===J).length,[q,g]),Q=E.useCallback((J,F)=>(_(!0),j(null),(async()=>{try{if(!q(J))throw new Error("Seller not found");if(Ct&&we){const De={id:`p-${Date.now()}`,seller_id:J,name:F.name,name_ar:F.nameAr,description:F.description,description_ar:F.descriptionAr,price:F.price,currency:"IQD",images:[F.image],category:F.category,category_ar:F.categoryAr,in_stock:!0,view_count:0,created_at:new Date().toISOString().split("T")[0],tags:[],is_verified:!1,verification_status:"none"},{data:Se,error:Me}=await we.from("products").insert(De).select("*").single();if(Me)throw Me;const _t={id:String(Se.id),sellerId:String(Se.seller_id??J),name:String(Se.name??F.name),nameAr:String(Se.name_ar??F.nameAr),description:String(Se.description??F.description),descriptionAr:String(Se.description_ar??F.descriptionAr),price:Number(Se.price??F.price),originalPrice:Se.original_price??void 0,currency:String(Se.currency??"IQD"),images:Array.isArray(Se.images)?Se.images.map(String):[F.image],category:String(Se.category??F.category),categoryAr:String(Se.category_ar??F.categoryAr),inStock:!!(Se.in_stock??!0),viewCount:Number(Se.view_count??0),createdAt:String(Se.created_at??new Date().toISOString().split("T")[0]),tags:Array.isArray(Se.tags)?Se.tags.map(String):[],isVerified:!!(Se.is_verified??!1),verificationStatus:Se.verification_status??"none",verifiedAt:Se.verified_at??void 0,verificationBadge:Se.verification_badge??void 0},P=[_t,...g];return m(P),Ma({products:P}),_(!1),_t}const je=TS(J,F),Ye=[je,...g];return m(Ye),Ma({products:Ye}),_(!1),je}catch(ee){const je=ee instanceof Error?ee.message:"Failed to create product";throw j(je),_(!1),ee}})()),[q,g]),W=E.useCallback(async J=>{_(!0),j(null);try{const F=await OS(J);return _(!1),F}catch(F){const ee=F instanceof Error?F.message:"Failed to upload image";throw j(ee),_(!1),F}},[]),ye=E.useCallback(J=>{const F=q(J),ee=Y(J),je=ee.reduce((De,Se)=>De+Se.viewCount,0),Ye={productCount:ee.length,totalViews:je,isVerified:F?.isVerified||!1,deliveryInfo:F?.deliveryInfo||"توصيل لكل العراق"};return R(Ye),Ye},[Y,q]),_e=E.useCallback(J=>{const F=J.toLowerCase();return i.filter(ee=>ee.name.toLowerCase().includes(F)||ee.nameAr.includes(F)||ee.bio.toLowerCase().includes(F))},[i]),O=E.useCallback(J=>[...i].sort((ee,je)=>{if(ee.isVerified&&!je.isVerified)return-1;if(!ee.isVerified&&je.isVerified)return 1;const Ye=D(ee.id).average;return D(je.id).average-Ye}).slice(0,J??4),[D,i]),G=E.useCallback(J=>i.filter(F=>F.categories.includes(J)),[i]),Z=E.useCallback(()=>{j(null)},[]),te=E.useCallback((J,F)=>(_(!0),j(null),(async()=>{try{const ee=q(J);if(!ee)throw new Error("Seller not found");if(!ee.isVerified)throw new Error("Seller must be verified to set social links");const je=F.instagram!==void 0?H(F.instagram):ee.instagram,Ye=F.tiktok!==void 0?H(F.tiktok):ee.tiktok;if(Ct&&we){const{data:Me,error:_t}=await we.from("sellers").update({instagram:je,tiktok:Ye}).eq("id",J).select("*").single();if(_t)throw _t;const P={...ee,instagram:String(Me.instagram??je),tiktok:String(Me.tiktok??Ye)},Je=i.map(jt=>jt.id===J?P:jt);return o(Je),h(T(Je)),r(jt=>jt?.id===J?P:jt),Ma({sellers:Je}),_(!1),P}const De={...ee,instagram:je,tiktok:Ye},Se=i.map(Me=>Me.id===J?De:Me);return o(Se),h(T(Se)),r(Me=>Me?.id===J?De:Me),Ma({sellers:Se}),_(!1),De}catch(ee){const je=ee instanceof Error?ee.message:"Failed to update social links";throw j(je),_(!1),ee}})()),[q,T,H,i]),X=E.useCallback((J,F)=>(_(!0),j(null),(async()=>{try{const ee=q(J);if(!ee)throw new Error("Seller not found");if(!ee.isVerified)throw new Error("Seller must be verified to set featured product");if(F){const De=g.find(Se=>Se.id===F);if(!De||De.sellerId!==J)throw new Error("Invalid featured product")}if(Ct&&we){const{data:De,error:Se}=await we.from("sellers").update({featured_product_id:F}).eq("id",J).select("*").single();if(Se)throw Se;const Me={...ee,featuredProductId:De.featured_product_id??F??void 0},_t=i.map(P=>P.id===J?Me:P);return o(_t),h(T(_t)),r(P=>P?.id===J?Me:P),Ma({sellers:_t}),_(!1),Me}const je={...ee,featuredProductId:F??void 0},Ye=i.map(De=>De.id===J?je:De);return o(Ye),h(T(Ye)),r(De=>De?.id===J?je:De),Ma({sellers:Ye}),_(!1),je}catch(ee){const je=ee instanceof Error?ee.message:"Failed to update featured product";throw j(je),_(!1),ee}})()),[q,T,g,i]),ve={currentSeller:a,sellers:i,verifiedSellers:c,products:g,ratings:p,sellerProducts:w,isLoading:S,error:N,dashboardStats:A,fetchSellerById:pe,fetchVerifiedSellers:ge,fetchAllSellers:We,checkVerification:Ve,fetchSellerProducts:ze,fetchProductsSortedByVerification:ut,sortProductsByVerificationStatus:Ie,getDeliveryInfo:ce,getProductCount:U,createProduct:Q,uploadImage:W,fetchSellerStats:ye,search:_e,fetchTopSellers:O,fetchSellersByCategory:G,setCurrentSeller:r,updateSocialLinks:te,updateFeaturedProduct:X,clearError:Z};return u.jsx(Qp.Provider,{value:ve,children:n})}function as(){const n=E.useContext(Qp);if(n===void 0)throw new Error("useSeller must be used within a SellerProvider");return n}function X0(){const n=le(g=>g.navigate),a=le(g=>g.setSelectedCategory),{products:r,sellers:i}=as(),o=mi([...r].sort((g,m)=>m.viewCount-g.viewCount)).slice(0,6),c=mi(r.filter(g=>g.originalPrice)),h=[...i].sort((g,m)=>g.isVerified&&!m.isVerified?-1:!g.isVerified&&m.isVerified?1:Ba(m.id).average-Ba(g.id).average).slice(0,4);return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[u.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 via-emerald-500 to-teal-500 px-4 pt-12 pb-6 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/5 rounded-full -translate-y-1/2 translate-x-1/2"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/5 rounded-full translate-y-1/2 -translate-x-1/2"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-white text-xl font-bold flex items-center gap-1",children:"🇮🇶 Souq Iraq"}),u.jsx("p",{className:"text-emerald-100 text-xs mt-0.5",children:"Smart Marketplace"})]}),u.jsxs("button",{className:"relative w-10 h-10 bg-white/15 rounded-xl flex items-center justify-center backdrop-blur-sm",children:[u.jsx(W0,{size:20,className:"text-white"}),u.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-[9px] font-bold rounded-full flex items-center justify-center",children:"3"})]})]}),u.jsxs("button",{onClick:()=>n("search"),className:"w-full bg-white/95 backdrop-blur-sm rounded-xl px-4 py-3 flex items-center gap-3 shadow-lg shadow-emerald-800/10",children:[u.jsx(Td,{size:18,className:"text-gray-400"}),u.jsx("span",{className:"text-sm text-gray-400",children:"Search products, sellers..."})]})]})]}),u.jsx("div",{className:"px-4 -mt-1 mb-4",children:u.jsx("div",{className:"bg-white rounded-2xl p-3 shadow-sm border border-gray-100",children:u.jsx("div",{className:"grid grid-cols-4 gap-2",children:ro.slice(1).map(g=>u.jsxs("button",{onClick:()=>{a(g.id),n("search")},className:"flex flex-col items-center gap-1 p-2 rounded-xl hover:bg-gray-50 active:scale-95 transition-all",children:[u.jsx("span",{className:"text-2xl",children:g.icon}),u.jsx("span",{className:"text-[10px] font-medium text-gray-600",children:g.name})]},g.id))})})}),u.jsx("div",{className:"px-4 mb-5",children:u.jsxs("div",{className:"bg-gradient-to-r from-amber-400 via-orange-400 to-rose-400 rounded-2xl p-4 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-1/3 translate-x-1/3"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[u.jsx(l1,{size:14,className:"text-white"}),u.jsx("span",{className:"text-white/90 text-[10px] font-bold uppercase tracking-wider",children:"Zero Commission"})]}),u.jsxs("h3",{className:"text-white font-bold text-lg leading-tight",children:["Sell for Free!",u.jsx("br",{}),"Keep 100% Profit"]}),u.jsx("p",{className:"text-white/80 text-xs mt-1",children:"Join 500+ Iraqi sellers today"}),u.jsx("button",{onClick:()=>n("profile"),className:"mt-3 bg-white text-orange-600 text-xs font-bold px-4 py-2 rounded-lg hover:bg-orange-50 transition-colors active:scale-95",children:"Start Selling →"})]})]})}),c.length>0&&u.jsxs("section",{className:"mb-5",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-7 h-7 bg-red-100 rounded-lg flex items-center justify-center",children:u.jsx(dx,{size:14,className:"text-red-500"})}),u.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Hot Deals"})]}),u.jsxs("button",{onClick:()=>n("search"),className:"flex items-center gap-0.5 text-xs font-medium text-emerald-600",children:["See All ",u.jsx(to,{size:14})]})]}),u.jsx("div",{className:"flex gap-3 px-4 overflow-x-auto pb-2 scrollbar-hide",style:{scrollbarWidth:"none"},children:c.map(g=>u.jsx("div",{className:"min-w-[160px] max-w-[160px]",children:u.jsx(vn,{product:g,compact:!0})},g.id))})]}),u.jsxs("section",{className:"mb-5",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-7 h-7 bg-amber-100 rounded-lg flex items-center justify-center",children:u.jsx(Qx,{size:14,className:"text-amber-500"})}),u.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Top Sellers"})]}),u.jsxs("button",{onClick:()=>n("search"),className:"flex items-center gap-0.5 text-xs font-medium text-emerald-600",children:["See All ",u.jsx(to,{size:14})]})]}),u.jsx("div",{className:"px-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:h.map(g=>u.jsx(Tp,{seller:g},g.id))})]}),u.jsxs("section",{className:"mb-5",children:[u.jsx("div",{className:"flex items-center justify-between px-4 mb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-7 h-7 bg-emerald-100 rounded-lg flex items-center justify-center",children:u.jsx(Rd,{size:14,className:"text-emerald-600"})}),u.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Trending Now"})]})}),u.jsx("div",{className:"px-4 grid grid-cols-2 sm:grid-cols-3 gap-3",children:o.map(g=>u.jsx(vn,{product:g},g.id))})]})]})}let bn=[{id:"vr1",productId:"p11",sellerId:"s4",status:"pending",requestedAt:"2024-03-10",documents:["invoice.pdf","product_photo.jpg"]}];function $d(){const n=new Date,a=r=>String(r).padStart(2,"0");return`${n.getFullYear()}-${a(n.getMonth()+1)}-${a(n.getDate())}`}function uj(n){return{id:String(n.id??""),productId:String(n.product_id??n.productId??""),sellerId:String(n.seller_id??n.sellerId??""),status:n.status??"none",requestedAt:String(n.requested_at??n.requestedAt??""),reviewedAt:n.reviewed_at??n.reviewedAt??void 0,reviewedBy:n.reviewed_by??n.reviewedBy??void 0,rejectionReason:n.rejection_reason??n.rejectionReason??void 0,documents:Array.isArray(n.documents)?n.documents.map(String):void 0}}function Fr(n,a){const r=_i.map(i=>i.id===n?{...i,...a}:i);Ma({products:r})}async function Jp(n,a,r){const i=aa(n);if(!i)return{success:!1,message:"Product not found"};if(i.sellerId!==a)return{success:!1,message:"You can only request verification for your own products"};if(i.isVerified)return{success:!1,message:"Product is already verified"};if(i.verificationStatus==="pending")return{success:!1,message:"Verification request already pending"};const o=`vr-${Date.now()}`,c={id:o,productId:n,sellerId:a,status:"pending",requestedAt:$d(),documents:r};if(Ct&&we){const{error:h}=await we.from("verification_requests").insert({id:o,product_id:n,seller_id:a,status:"pending",requested_at:c.requestedAt,documents:r??null});if(!h){const{error:g}=await we.from("products").update({verification_status:"pending",is_verified:!1}).eq("id",n);if(!g)return Fr(n,{verificationStatus:"pending",isVerified:!1}),bn.push(c),{success:!0,message:"Verification request submitted successfully",requestId:o}}}return bn.push(c),Fr(n,{verificationStatus:"pending"}),{success:!0,message:"Verification request submitted successfully",requestId:o}}function dj(n){const a=aa(n);if(!a)return{status:"none"};const r=bn.find(i=>i.productId===n);return{status:a.verificationStatus,request:r,verifiedAt:a.verifiedAt}}async function fj(n,a){if(!aa(n))return{success:!1,message:"Product not found"};const i=$d();if(Ct&&we){const{error:c}=await we.from("products").update({is_verified:!0,verification_status:"verified",verified_at:i,verification_badge:"verified"}).eq("id",n);c||await we.from("verification_requests").update({status:"verified",reviewed_at:i,reviewed_by:a}).eq("product_id",n)}Fr(n,{isVerified:!0,verificationStatus:"verified",verifiedAt:i,verificationBadge:"verified"});const o=bn.find(c=>c.productId===n);return o&&(o.status="verified",o.reviewedAt=i,o.reviewedBy=a),{success:!0,message:"Product verified successfully"}}async function hj(n,a,r){if(!aa(n))return{success:!1,message:"Product not found"};const o=$d();if(Ct&&we){const{error:h}=await we.from("products").update({is_verified:!1,verification_status:"rejected"}).eq("id",n);h||await we.from("verification_requests").update({status:"rejected",reviewed_at:o,reviewed_by:a,rejection_reason:r}).eq("product_id",n)}Fr(n,{isVerified:!1,verificationStatus:"rejected"});const c=bn.find(h=>h.productId===n);return c&&(c.status="rejected",c.reviewedAt=o,c.reviewedBy=a,c.rejectionReason=r),{success:!0,message:"Verification request rejected"}}async function gj(){if(Ct&&we){const{data:n,error:a}=await we.from("verification_requests").select("*").eq("status","pending").order("requested_at",{ascending:!1});if(!a)return(n??[]).map(uj)}return bn.filter(n=>n.status==="pending")}function mj(n){return aa(n)?.isVerified??!1}function Xp(n){return[...n].sort((a,r)=>a.isVerified&&!r.isVerified?-1:!a.isVerified&&r.isVerified?1:a.verificationStatus==="pending"&&r.verificationStatus!=="pending"?-1:a.verificationStatus!=="pending"&&r.verificationStatus==="pending"?1:0)}async function pj(n,a){const r=aa(n);if(!r)return{success:!1,message:"Product not found"};if(r.sellerId!==a)return{success:!1,message:"You can only cancel your own requests"};if(r.verificationStatus!=="pending")return{success:!1,message:"No pending verification request to cancel"};if(Ct&&we){const{error:i}=await we.from("verification_requests").delete().eq("product_id",n).eq("seller_id",a).eq("status","pending");i||await we.from("products").update({verification_status:"none"}).eq("id",n)}return bn=bn.filter(i=>i.productId!==n),Fr(n,{verificationStatus:"none"}),{success:!0,message:"Verification request cancelled"}}async function yj(n,a,r){const i=aa(n);return i?i.verificationStatus!=="rejected"?{success:!1,message:"Can only re-request after rejection"}:(Fr(n,{verificationStatus:"none"}),await Jp(n,a,r)):{success:!1,message:"Product not found"}}function vj(){const{searchQuery:n,setSearchQuery:a,selectedCategory:r,setSelectedCategory:i,selectedLocation:o,setSelectedLocation:c}=le(Yn(j=>({searchQuery:j.searchQuery,setSearchQuery:j.setSearchQuery,selectedCategory:j.selectedCategory,setSelectedCategory:j.setSelectedCategory,selectedLocation:j.selectedLocation,setSelectedLocation:j.setSelectedLocation}))),[h,g]=E.useState("products"),[m,p]=E.useState(!1),[v,w]=E.useState("popular"),{products:x,sellers:S}=as(),_=E.useMemo(()=>{let j=[...x];if(n){const A=n.toLowerCase();j=j.filter(R=>R.name.toLowerCase().includes(A)||R.nameAr.includes(A)||R.description.toLowerCase().includes(A)||R.tags.some(T=>T.includes(A)))}if(r!=="all"&&(j=j.filter(A=>A.category===r)),o!=="all"){const A=S.filter(R=>R.location===o).map(R=>R.id);j=j.filter(R=>A.includes(R.sellerId))}switch(v){case"newest":j.sort((A,R)=>new Date(R.createdAt).getTime()-new Date(A.createdAt).getTime());break;case"price-low":j.sort((A,R)=>A.price-R.price);break;case"price-high":j.sort((A,R)=>R.price-A.price);break;case"popular":j.sort((A,R)=>R.viewCount-A.viewCount);break}return j=mi(j),j=Xp(j),j},[x,S,n,r,o,v]),N=E.useMemo(()=>{let j=[...S];if(n){const A=n.toLowerCase();j=j.filter(R=>R.name.toLowerCase().includes(A)||R.nameAr.includes(A)||R.bio.toLowerCase().includes(A))}return o!=="all"&&(j=j.filter(A=>A.location===o)),j.sort((A,R)=>A.isVerified&&!R.isVerified?-1:!A.isVerified&&R.isVerified?1:Ba(R.id).average-Ba(A.id).average),j},[S,n,o]);return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[u.jsxs("div",{className:"bg-white sticky top-0 z-40 border-b border-gray-100",children:[u.jsxs("div",{className:"px-4 pt-12 pb-3",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(Td,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",value:n,onChange:j=>a(j.target.value),placeholder:"Search products, sellers...",className:"w-full bg-gray-100 rounded-xl pl-10 pr-10 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:bg-white border border-transparent focus:border-emerald-200 transition-all",autoFocus:!0}),n&&u.jsx("button",{onClick:()=>a(""),className:"absolute right-3 top-1/2 -translate-y-1/2",children:u.jsx(fi,{size:16,className:"text-gray-400"})})]}),u.jsx("button",{onClick:()=>p(!m),className:`w-11 h-11 rounded-xl flex items-center justify-center border transition-all ${m?"bg-emerald-50 border-emerald-200 text-emerald-600":"bg-gray-100 border-transparent text-gray-500"}`,children:u.jsx(Hx,{size:18})})]}),u.jsxs("div",{className:"flex gap-1 mt-3 bg-gray-100 rounded-lg p-0.5",children:[u.jsxs("button",{onClick:()=>g("products"),className:`flex-1 py-2 text-xs font-semibold rounded-md transition-all ${h==="products"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:["Products (",_.length,")"]}),u.jsxs("button",{onClick:()=>g("sellers"),className:`flex-1 py-2 text-xs font-semibold rounded-md transition-all ${h==="sellers"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:["Sellers (",N.length,")"]})]})]}),m&&u.jsxs("div",{className:"px-4 pb-3 animate-slide-up border-t border-gray-50",children:[u.jsxs("div",{className:"mt-3",children:[u.jsxs("label",{className:"text-[11px] font-semibold text-gray-500 uppercase tracking-wider mb-1.5 flex items-center gap-1",children:[u.jsx(bo,{size:11})," Location"]}),u.jsx("div",{className:"flex gap-1.5 flex-wrap",children:cp.map(j=>u.jsx("button",{onClick:()=>c(j.id),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ${o===j.id?"bg-emerald-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:j.name},j.id))})]}),h==="products"&&u.jsxs("div",{className:"mt-3",children:[u.jsxs("label",{className:"text-[11px] font-semibold text-gray-500 uppercase tracking-wider mb-1.5 flex items-center gap-1",children:[u.jsx(Fb,{size:11})," Sort by"]}),u.jsx("div",{className:"flex gap-1.5 flex-wrap",children:[{id:"popular",label:"🔥 Popular"},{id:"newest",label:"✨ Newest"},{id:"price-low",label:"💰 Price: Low"},{id:"price-high",label:"💎 Price: High"}].map(j=>u.jsx("button",{onClick:()=>w(j.id),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ${v===j.id?"bg-emerald-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:j.label},j.id))})]})]})]}),h==="products"&&u.jsx("div",{className:"flex gap-2 px-4 py-3 overflow-x-auto",style:{scrollbarWidth:"none"},children:ro.map(j=>u.jsxs("button",{onClick:()=>i(j.id),className:`flex items-center gap-1.5 px-3.5 py-2 rounded-full text-xs font-medium whitespace-nowrap transition-all ${r===j.id?"bg-emerald-500 text-white shadow-md shadow-emerald-200":"bg-white text-gray-600 border border-gray-200 hover:border-emerald-200"}`,children:[u.jsx("span",{children:j.icon})," ",j.name]},j.id))}),u.jsx("div",{className:"px-4 pb-4",children:h==="products"?_.length>0?u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:_.map(j=>u.jsx(vn,{product:j},j.id))}):u.jsxs("div",{className:"text-center py-16",children:[u.jsx("span",{className:"text-4xl mb-3 block",children:"🔍"}),u.jsx("h3",{className:"text-gray-900 font-semibold mb-1",children:"No products found"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search or filters"})]}):N.length>0?u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:N.map(j=>u.jsx(Tp,{seller:j},j.id))}):u.jsxs("div",{className:"text-center py-16",children:[u.jsx("span",{className:"text-4xl mb-3 block",children:"🏪"}),u.jsx("h3",{className:"text-gray-900 font-semibold mb-1",children:"No sellers found"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search"})]})})]})}function po(){const{t:n}=na();return u.jsx("div",{className:"bg-amber-500/20 border border-amber-500/30 rounded-lg p-3 mb-3",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-lg",children:"📸"}),u.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 leading-relaxed",children:n("common.screenshotWarning")})]})})}function bj({product:n,showWarning:a=!0,className:r=""}){const{t:i}=na(),{addToCart:o,isInCart:c,getQuantity:h,updateQuantity:g}=es(),{isAuthenticated:m,navigate:p,setAuthNextPage:v}=le(Yn(R=>({isAuthenticated:R.isAuthenticated,navigate:R.navigate,setAuthNextPage:R.setAuthNextPage}))),[w,x]=E.useState(!1),S=c(n.id),_=h(n.id),N=()=>{if(!m){sessionStorage.setItem("iraq_marketplace_pending_action",JSON.stringify({type:"add_to_cart",productId:n.id,quantity:1})),v("cart"),p("profile");return}o(n.id,1),x(!0),setTimeout(()=>x(!1),2e3)},j=()=>{g(n.id,_+1)},A=()=>{_>1&&g(n.id,_-1)};return n.inStock?u.jsxs("div",{className:r,children:[a&&u.jsx(po,{}),S?u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:A,className:"w-12 h-12 flex items-center justify-center rounded-xl bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsxs("span",{className:"flex-1 text-center font-semibold text-gray-900 dark:text-white",children:[_," ",i("inCart")]}),u.jsx("button",{onClick:j,className:"w-12 h-12 flex items-center justify-center rounded-xl bg-emerald-100 dark:bg-emerald-900 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-200 dark:hover:bg-emerald-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}):u.jsx("button",{onClick:N,className:`w-full py-3 px-4 rounded-xl font-medium transition-all flex items-center justify-center gap-2 ${w?"bg-green-500 text-white":"bg-emerald-500 hover:bg-emerald-600 text-white"}`,children:w?u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i("addedToCart")]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),i("addToCart")]})})]}):u.jsxs("div",{className:r,children:[a&&u.jsx(po,{}),u.jsx("button",{disabled:!0,className:"w-full py-3 px-4 bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 rounded-xl cursor-not-allowed",children:i("outOfStock")})]})}function xj({status:n,verifiedAt:a,rejectionReason:r,showDate:i=!0,size:o="md",className:c=""}){const{t:h,i18n:g}=na(),m=g.language==="ar",v={sm:{icon:14,text:"text-xs",title:"text-sm",gap:"gap-2"},md:{icon:18,text:"text-sm",title:"text-base",gap:"gap-3"},lg:{icon:22,text:"text-base",title:"text-lg",gap:"gap-3"}}[o],w=N=>new Date(N).toLocaleDateString(m?"ar-IQ":"en-US",{year:"numeric",month:"long",day:"numeric"}),S={verified:{icon:Jr,bgColor:"bg-emerald-50",borderColor:"border-emerald-200",iconColor:"text-emerald-500",titleColor:"text-emerald-700",textColor:"text-emerald-600",title:h("verification.verifiedTitle"),description:h("verification.verifiedDescription")},pending:{icon:Ed,bgColor:"bg-amber-50",borderColor:"border-amber-200",iconColor:"text-amber-500",titleColor:"text-amber-700",textColor:"text-amber-600",title:h("verification.pendingTitle"),description:h("verification.pendingDescription")},rejected:{icon:np,bgColor:"bg-red-50",borderColor:"border-red-200",iconColor:"text-red-500",titleColor:"text-red-700",textColor:"text-red-600",title:h("verification.rejectedTitle"),description:r||h("verification.rejectedDescription")},none:{icon:ao,bgColor:"bg-gray-50",borderColor:"border-gray-200",iconColor:"text-gray-400",titleColor:"text-gray-600",textColor:"text-gray-500",title:h("verification.notVerifiedTitle"),description:h("verification.notVerifiedDescription")}}[n],_=S.icon;return u.jsxs("div",{className:`
        rounded-xl border ${S.borderColor} ${S.bgColor}
        p-4 ${v.gap} flex flex-col
        ${c}
      `,children:[u.jsxs("div",{className:`flex items-center ${v.gap}`,children:[u.jsx("div",{className:`p-2 rounded-full ${S.bgColor}`,children:u.jsx(_,{size:v.icon,className:S.iconColor})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:`font-semibold ${v.title} ${S.titleColor}`,children:S.title}),u.jsx("p",{className:`${v.text} ${S.textColor}`,children:S.description})]})]}),n==="verified"&&a&&i&&u.jsxs("div",{className:`flex items-center gap-1.5 mt-2 ${v.text} ${S.textColor}`,children:[u.jsx(ep,{size:14}),u.jsxs("span",{children:[h("verification.verifiedOn")," ",w(a)]})]}),n==="rejected"&&r&&u.jsxs("div",{className:`mt-2 p-2 rounded-lg bg-red-100 ${v.text} text-red-700`,children:[u.jsxs("span",{className:"font-medium",children:[h("verification.reason"),": "]}),r]})]})}function wj({status:n,verifiedAt:a}){const{t:r,i18n:i}=na(),o=i.language==="ar",c=n==="verified"&&a?`${r("verification.verifiedOn")} ${new Date(a).toLocaleDateString(o?"ar-IQ":"en-US")}`:void 0,g={verified:{icon:Jr,color:"text-emerald-500",bg:"bg-emerald-50",label:r("verification.verified")},pending:{icon:Ed,color:"text-amber-500",bg:"bg-amber-50",label:r("verification.pending")},rejected:{icon:np,color:"text-red-500",bg:"bg-red-50",label:r("verification.rejected")},none:{icon:ao,color:"text-gray-400",bg:"bg-gray-50",label:r("verification.notVerified")}}[n],m=g.icon;return u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full ${g.bg}`,title:c,children:[u.jsx(m,{size:12,className:g.color}),u.jsx("span",{className:`text-xs font-medium ${g.color}`,children:g.label})]})}const Fp=E.createContext(void 0);function Sj({children:n}){const a=le(_=>_.isAdmin),[r,i]=E.useState({pendingRequests:[],isLoading:!1,error:null}),o=E.useCallback(async()=>{const _=await gj();i(N=>({...N,pendingRequests:_}))},[]);E.useEffect(()=>{o()},[o]);const c=E.useCallback(async(_,N,j)=>{i(A=>({...A,isLoading:!0,error:null}));try{const A=await Jp(_,N,j);return A.success&&o(),i(R=>({...R,isLoading:!1})),{success:A.success,message:A.message}}catch(A){const R=A instanceof Error?A.message:"Failed to request verification";return i(T=>({...T,isLoading:!1,error:R})),{success:!1,message:R}}},[o]),h=E.useCallback(async _=>{if(!a)return{success:!1,message:"Only admins can verify products"};i(N=>({...N,isLoading:!0,error:null}));try{const N=await fj(_,"admin");return N.success&&o(),i(j=>({...j,isLoading:!1})),{success:N.success,message:N.message}}catch(N){const j=N instanceof Error?N.message:"Failed to verify product";return i(A=>({...A,isLoading:!1,error:j})),{success:!1,message:j}}},[a,o]),g=E.useCallback(async(_,N)=>{if(!a)return{success:!1,message:"Only admins can reject verification requests"};i(j=>({...j,isLoading:!0,error:null}));try{const j=await hj(_,"admin",N);return j.success&&o(),i(A=>({...A,isLoading:!1})),{success:j.success,message:j.message}}catch(j){const A=j instanceof Error?j.message:"Failed to reject verification";return i(R=>({...R,isLoading:!1,error:A})),{success:!1,message:A}}},[a,o]),m=E.useCallback(async(_,N)=>{i(j=>({...j,isLoading:!0,error:null}));try{const j=await pj(_,N);return j.success&&o(),i(A=>({...A,isLoading:!1})),{success:j.success,message:j.message}}catch(j){const A=j instanceof Error?j.message:"Failed to cancel request";return i(R=>({...R,isLoading:!1,error:A})),{success:!1,message:A}}},[o]),p=E.useCallback(async(_,N,j)=>{i(A=>({...A,isLoading:!0,error:null}));try{const A=await yj(_,N,j);return A.success&&o(),i(R=>({...R,isLoading:!1})),{success:A.success,message:A.message}}catch(A){const R=A instanceof Error?A.message:"Failed to re-request verification";return i(T=>({...T,isLoading:!1,error:R})),{success:!1,message:R}}},[o]),v=E.useCallback(_=>dj(_),[]),w=E.useCallback(_=>mj(_),[]),x=E.useCallback(_=>Xp(_),[]),S={...r,requestVerification:c,verify:h,reject:g,cancelRequest:m,reRequest:p,getStatus:v,isVerified:w,sortProducts:x,refreshPendingRequests:o};return u.jsx(Fp.Provider,{value:S,children:n})}function _j(){const n=E.useContext(Fp);if(n===void 0)throw new Error("useVerification must be used within a VerificationProvider");return n}function jj({productId:n,sellerId:a,currentStatus:r,onRequested:i,className:o=""}){const{t:c}=na(),{requestVerification:h,reRequest:g,isLoading:m}=_j(),[p,v]=E.useState(!1),[w]=E.useState([]),[x,S]=E.useState(null),_=async()=>{S(null);let j;r==="rejected"?j=await g(n,a,w):j=await h(n,a,w),j.success?(S({type:"success",text:j.message}),v(!1),i?.()):S({type:"error",text:j.message})},N=()=>{switch(r){case"verified":return u.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 bg-emerald-50 px-4 py-2 rounded-xl",children:[u.jsx(Jr,{size:18}),u.jsx("span",{className:"font-medium",children:c("verification.verified")})]});case"pending":return u.jsxs("div",{className:"flex items-center gap-2 text-amber-600 bg-amber-50 px-4 py-2 rounded-xl",children:[u.jsx(Ed,{size:18}),u.jsx("span",{className:"font-medium",children:c("verification.pendingReview")})]});case"rejected":return u.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 text-red-600 bg-red-50 hover:bg-red-100 px-4 py-2 rounded-xl transition-colors",children:[u.jsx(n0,{size:18}),u.jsx("span",{className:"font-medium",children:c("verification.reRequest")})]});case"none":default:return u.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 text-emerald-600 bg-emerald-50 hover:bg-emerald-100 px-4 py-2 rounded-xl transition-colors",children:[u.jsx($a,{size:18}),u.jsx("span",{className:"font-medium",children:c("verification.requestVerification")})]})}};return r==="verified"?u.jsx("div",{className:`flex flex-col gap-2 ${o}`,children:u.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 bg-emerald-50 px-4 py-3 rounded-xl",children:[u.jsx(Jr,{size:20}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:c("verification.productVerified")}),u.jsx("p",{className:"text-xs text-emerald-500",children:c("verification.verifiedBenefits")})]})]})}):u.jsxs("div",{className:`flex flex-col gap-3 ${o}`,children:[N(),x&&u.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-xl ${x.type==="success"?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:[x.type==="success"?u.jsx(Jr,{size:16}):u.jsx(n0,{size:16}),u.jsx("span",{className:"text-sm",children:x.text})]}),p&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 animate-scale-in",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:c("verification.requestTitle")}),u.jsx("button",{onClick:()=>v(!1),className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(fi,{size:20,className:"text-gray-500"})})]}),u.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 mb-4",children:[u.jsx("h4",{className:"text-sm font-semibold text-blue-700 mb-2",children:c("verification.requirements")}),u.jsxs("ul",{className:"text-xs text-blue-600 space-y-1",children:[u.jsxs("li",{className:"flex items-center gap-1",children:[u.jsx(Xu,{size:12}),c("verification.requirementInvoice")]}),u.jsxs("li",{className:"flex items-center gap-1",children:[u.jsx(Xu,{size:12}),c("verification.requirementPhotos")]}),u.jsxs("li",{className:"flex items-center gap-1",children:[u.jsx(Xu,{size:12}),c("verification.requirementDescription")]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:c("verification.uploadDocuments")}),u.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-6 text-center hover:border-emerald-300 transition-colors cursor-pointer",children:[u.jsx(n1,{size:24,className:"mx-auto text-gray-400 mb-2"}),u.jsx("p",{className:"text-sm text-gray-500",children:c("verification.dragDrop")}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:c("verification.supportedFormats")})]})]}),u.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 mb-4",children:[u.jsx("h4",{className:"text-sm font-semibold text-emerald-700 mb-2",children:c("verification.benefitsTitle")}),u.jsxs("ul",{className:"text-xs text-emerald-600 space-y-1",children:[u.jsxs("li",{children:["✓ ",c("verification.benefit1")]}),u.jsxs("li",{children:["✓ ",c("verification.benefit2")]}),u.jsxs("li",{children:["✓ ",c("verification.benefit3")]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>v(!1),className:"flex-1 py-3 rounded-xl border border-gray-200 text-gray-600 font-medium hover:bg-gray-50 transition-colors",children:c("common.cancel")}),u.jsx("button",{onClick:_,disabled:m,className:"flex-1 py-3 rounded-xl bg-emerald-500 text-white font-medium hover:bg-emerald-600 transition-colors disabled:opacity-50",children:c(m?"common.loading":"verification.submit")})]})]})})]})}function Nj(){const{t:n}=na(),a=le(D=>D.selectedProductId),r=le(D=>D.navigate),i=le(D=>D.goBack),o=le(D=>D.toggleFavorite),c=le(D=>D.setViewCount),h=le(D=>D.language),g=le(D=>D.isAuthenticated),m=le(D=>D.setAuthNextPage),p=le(D=>a?D.favorites.includes(a):!1),v=le(D=>a?D.viewCounts[a]:void 0),[w,x]=E.useState(!1),{isLoading:S}=as(),_=a?aa(a):null,N=_?xo(_.sellerId):null,j=N?so(N.id).filter(D=>D.id!==_?.id).slice(0,4):[];if(E.useEffect(()=>{if(_&&!w){const D=_o(_.id);D.recorded&&c(_.id,D.viewCount),x(!0)}},[_,w,c]),E.useEffect(()=>{x(!1)},[a]),!_||!N)return u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx("p",{className:"text-gray-500",children:S?h==="ar"?"جاري التحميل...":"Loading...":"Product not found"})});const A=_.originalPrice?Math.round((_.originalPrice-_.price)/_.originalPrice*100):0,R=v??_.viewCount,T=d1(N.whatsapp,_.name),q=(()=>{if(typeof window>"u")return"";const D=new URL(window.location.href);return D.hash="",D.search="",D.searchParams.set("page","product"),D.searchParams.set("productId",_.id),D.toString()})(),Y=async()=>{const D=h==="ar"?_.nameAr:_.name,H=h==="ar"?`شوف هذا المنتج: ${D}`:`Check this product: ${D}`;try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:D,text:H,url:q});return}}catch{}try{await navigator.clipboard.writeText(q),window.alert(h==="ar"?"تم نسخ رابط المنتج":"Product link copied")}catch{window.prompt(h==="ar"?"انسخ الرابط:":"Copy link:",q)}};return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-28",children:[u.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-between px-4 pt-12 pb-3 bg-white/80 backdrop-blur-xl border-b border-gray-100",children:[u.jsx("button",{onClick:i,className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center hover:bg-gray-200 transition-colors",children:u.jsx(Cd,{size:20,className:"text-gray-700"})}),u.jsx("h1",{className:"text-sm font-semibold text-gray-900 truncate mx-4 flex-1 text-center",children:"Product Details"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>{if(!g){sessionStorage.setItem("iraq_marketplace_pending_action",JSON.stringify({type:"favorite",productId:_.id})),m("favorites"),r("profile");return}o(_.id)},className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center hover:bg-gray-200 transition-colors",children:u.jsx(ui,{size:20,className:p?"fill-red-500 text-red-500":"text-gray-700"})}),u.jsx("button",{onClick:Y,className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center hover:bg-gray-200 transition-colors",children:u.jsx(lp,{size:20,className:"text-gray-700"})})]})]}),u.jsxs("div",{className:"pt-24 animate-fade-in",children:[u.jsxs("div",{className:"relative aspect-square bg-white mx-4 rounded-2xl overflow-hidden shadow-sm",children:[u.jsx(bp,{src:_.images[0],alt:_.name,className:"w-full h-full object-cover"}),A>0&&u.jsxs("span",{className:"absolute top-3 left-3 bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:["-",A,"% OFF"]}),!_.inStock&&u.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:u.jsx("span",{className:"bg-white text-gray-900 font-bold px-4 py-2 rounded-lg",children:"SOLD OUT"})}),u.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center gap-1 bg-black/50 backdrop-blur-sm rounded-full px-2.5 py-1",children:[u.jsx(Zr,{size:12,className:"text-white/80"}),u.jsxs("span",{className:"text-xs text-white/90 font-medium",children:[zd(R,h)," ",h==="ar"?"مشاهدة":"views"]})]})]}),u.jsxs("div",{className:"bg-white mx-4 mt-3 rounded-2xl p-4 shadow-sm border border-gray-100",children:[u.jsx("div",{className:"flex items-start justify-between gap-2",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full uppercase tracking-wider",children:_.category}),u.jsx("h2",{className:"text-lg font-bold text-gray-900 mt-1.5",children:_.name}),u.jsx("h3",{className:"text-sm text-gray-500 font-medium",children:_.nameAr})]})}),u.jsxs("div",{className:"flex items-end gap-2 mt-3",children:[u.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:Gt(_.price)}),_.originalPrice&&u.jsx("span",{className:"text-sm text-gray-400 line-through mb-0.5",children:Gt(_.originalPrice)})]}),u.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mt-3",children:_.description}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:_.descriptionAr})]}),u.jsxs("div",{className:"bg-white mx-4 mt-3 rounded-2xl p-4 shadow-sm border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-900",children:n("verification.productVerification")}),u.jsx(wj,{status:_.verificationStatus,verifiedAt:_.verifiedAt})]}),u.jsx(xj,{status:_.verificationStatus,verifiedAt:_.verifiedAt,size:"sm"}),_.verificationStatus!=="verified"&&u.jsx("div",{className:"mt-3",children:u.jsx(jj,{productId:_.id,sellerId:_.sellerId,currentStatus:_.verificationStatus})})]}),u.jsx("div",{className:"bg-white mx-4 mt-3 rounded-2xl p-4 shadow-sm border border-gray-100 cursor-pointer active:scale-[0.99] transition-transform",onClick:()=>r("seller",{sellerId:N.id}),children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:N.avatar,alt:N.name,className:"w-12 h-12 rounded-xl object-cover"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("h4",{className:"text-sm font-bold text-gray-900",children:N.name}),N.isVerified&&u.jsx($a,{size:16,className:"text-emerald-500"})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(fa,{size:12,className:"text-amber-400 fill-amber-400"}),u.jsx("span",{className:"text-xs font-medium text-gray-700",children:N.rating}),u.jsxs("span",{className:"text-[10px] text-gray-400",children:["(",N.totalRatings,")"]})]}),u.jsx("span",{className:"text-gray-300",children:"·"}),u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(bo,{size:12,className:"text-gray-400"}),u.jsx("span",{className:"text-xs text-gray-500",children:N.locationAr})]})]})]}),u.jsx(lx,{size:16,className:"text-gray-400"})]})}),j.length>0&&u.jsxs("section",{className:"mt-5",children:[u.jsx("h3",{className:"text-base font-bold text-gray-900 px-4 mb-3",children:"More from this seller"}),u.jsx("div",{className:"flex gap-3 px-4 overflow-x-auto pb-2",style:{scrollbarWidth:"none"},children:j.map(D=>u.jsx("div",{className:"min-w-[160px] max-w-[160px]",children:u.jsx(vn,{product:D,compact:!0})},D.id))})]})]}),u.jsx("div",{className:"fixed bottom-16 left-0 right-0 z-40 px-4 py-3 bg-white/95 backdrop-blur-xl border-t border-gray-100 safe-bottom",children:u.jsxs("div",{className:"max-w-lg mx-auto",children:[u.jsx(po,{}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("div",{className:"flex-1",children:u.jsx(bj,{product:_,showWarning:!1})}),u.jsxs("a",{href:T,target:"_blank",rel:"noopener noreferrer",className:`flex-1 flex items-center justify-center gap-2 py-3.5 rounded-xl font-bold text-sm transition-all active:scale-[0.98] ${_.inStock?"bg-emerald-500 text-white hover:bg-emerald-600 shadow-lg shadow-emerald-200":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,onClick:D=>!_.inStock&&D.preventDefault(),children:[u.jsx(ip,{size:18}),_.inStock?n("product.buyViaWhatsApp"):n("product.soldOut")]})]})]})})]})}function kj(){const n=le(N=>N.selectedSellerId),a=le(N=>N.goBack),r=le(N=>N.language),[i,o]=E.useState("products"),{isLoading:c}=as(),h=n?xo(n):null,g=h?so(h.id):[],m=h?up(h.id):[],p=h?.featuredProductId?g.find(N=>N.id===h.featuredProductId):void 0;if(!h)return u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx("p",{className:"text-gray-500",children:c?r==="ar"?"جاري التحميل...":"Loading...":"Seller not found"})});const v=g.length>0?g.reduce((N,j)=>N+j.price,0)/g.length:0,{average:w,count:x}=Ba(h.id),S=(()=>{if(typeof window>"u")return"";const N=new URL(window.location.href);return N.hash="",N.search="",N.searchParams.set("page","seller"),N.searchParams.set("sellerId",h.id),N.toString()})(),_=async()=>{const N=r==="ar"?h.nameAr:h.name,j=r==="ar"?`شوف صفحة هذا البائع: ${N}`:`Check this seller: ${N}`;try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:N,text:j,url:S});return}}catch{}try{await navigator.clipboard.writeText(S),window.alert(r==="ar"?"تم نسخ رابط صفحة البائع":"Seller link copied")}catch{window.prompt(r==="ar"?"انسخ الرابط:":"Copy link:",S)}};return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[u.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-between px-4 pt-12 pb-3 bg-white/80 backdrop-blur-xl border-b border-gray-100",children:[u.jsx("button",{onClick:a,className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center",children:u.jsx(Cd,{size:20,className:"text-gray-700"})}),u.jsx("h1",{className:"text-sm font-semibold text-gray-900 truncate mx-4",children:h.name}),u.jsx("button",{onClick:_,className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center",children:u.jsx(lp,{size:20,className:"text-gray-700"})})]}),u.jsxs("div",{className:"pt-24 animate-fade-in",children:[u.jsxs("div",{className:"relative mx-4",children:[u.jsxs("div",{className:"h-32 rounded-2xl overflow-hidden",children:[u.jsx("img",{src:h.coverImage,alt:"",className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent rounded-2xl"})]}),u.jsx("div",{className:"absolute -bottom-8 left-4 flex items-end gap-3",children:u.jsx("img",{src:h.avatar,alt:h.name,className:"w-18 h-18 rounded-2xl object-cover border-4 border-white shadow-lg",style:{width:"72px",height:"72px"}})})]}),u.jsxs("div",{className:"mx-4 mt-12 bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("h2",{className:"text-lg font-bold text-gray-900",children:h.name}),h.isVerified&&u.jsx($a,{size:18,className:"text-emerald-500"})]}),u.jsx("p",{className:"text-sm text-gray-500",children:h.nameAr})]}),h.isVerified&&u.jsxs("span",{className:"bg-emerald-50 text-emerald-700 text-[10px] font-bold px-2.5 py-1 rounded-full flex items-center gap-1",children:[u.jsx($a,{size:10})," Verified"]})]}),u.jsx("p",{className:"text-sm text-gray-600 mt-2 leading-relaxed",children:h.bio}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-4",children:[u.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-xl",children:[u.jsx(fa,{size:16,className:"text-amber-400 mx-auto mb-0.5"}),u.jsx("p",{className:"text-sm font-bold text-gray-900",children:w.toFixed(1)}),u.jsxs("p",{className:"text-[10px] text-gray-500",children:["Rating (",x,")"]})]}),u.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-xl",children:[u.jsx(Od,{size:16,className:"text-emerald-500 mx-auto mb-0.5"}),u.jsx("p",{className:"text-sm font-bold text-gray-900",children:h.totalSales}),u.jsx("p",{className:"text-[10px] text-gray-500",children:"Sales"})]}),u.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-xl",children:[u.jsx(Zr,{size:16,className:"text-blue-500 mx-auto mb-0.5"}),u.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[(h.viewCount/1e3).toFixed(1),"k"]}),u.jsx("p",{className:"text-[10px] text-gray-500",children:"Views"})]}),u.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-xl",children:[u.jsx(bo,{size:16,className:"text-red-400 mx-auto mb-0.5"}),u.jsx("p",{className:"text-sm font-bold text-gray-900",children:h.locationAr}),u.jsx("p",{className:"text-[10px] text-gray-500",children:"Location"})]})]}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsxs("a",{href:`https://wa.me/${h.whatsapp}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 bg-emerald-500 text-white text-xs font-bold py-2.5 rounded-xl hover:bg-emerald-600 transition-colors active:scale-[0.98]",children:[u.jsx(ip,{size:14}),"WhatsApp"]}),h.isVerified&&h.instagram&&u.jsxs("a",{href:`https://instagram.com/${h.instagram}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs font-bold py-2.5 rounded-xl hover:opacity-90 transition-opacity active:scale-[0.98]",children:[u.jsx(rp,{size:14}),"Instagram"]}),h.isVerified&&h.tiktok&&u.jsxs("a",{href:`https://tiktok.com/@${h.tiktok}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 bg-gray-900 text-white text-xs font-bold py-2.5 rounded-xl hover:bg-gray-800 transition-colors active:scale-[0.98]",children:[u.jsx("span",{className:"text-sm",children:"♪"}),"TikTok"]})]}),u.jsxs("div",{className:"flex items-center gap-1.5 mt-3 text-gray-400",children:[u.jsx(ep,{size:12}),u.jsxs("span",{className:"text-[11px]",children:["Joined ",new Date(h.joinedDate).toLocaleDateString("en-US",{month:"long",year:"numeric"})]})]})]}),h.isVerified&&p&&u.jsx("div",{className:"mx-4 mt-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-900",children:r==="ar"?"المنتج المميز":"Featured Product"}),u.jsx("span",{className:"text-[10px] bg-amber-50 text-amber-700 font-bold px-2 py-1 rounded-full",children:r==="ar"?"للموثقين فقط":"Verified only"})]}),u.jsx(vn,{product:p,compact:!1,trackViews:!1})]})}),u.jsxs("div",{className:"mx-4 mt-4 bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[u.jsxs("div",{className:"flex border-b border-gray-100",children:[u.jsxs("button",{onClick:()=>o("products"),className:`flex-1 py-3 text-xs font-semibold transition-all ${i==="products"?"text-emerald-600 border-b-2 border-emerald-500":"text-gray-500"}`,children:["Products (",g.length,")"]}),u.jsxs("button",{onClick:()=>o("reviews"),className:`flex-1 py-3 text-xs font-semibold transition-all ${i==="reviews"?"text-emerald-600 border-b-2 border-emerald-500":"text-gray-500"}`,children:["Reviews (",m.length,")"]})]}),u.jsx("div",{className:"p-3",children:i==="products"?g.length>0?u.jsx("div",{className:"grid grid-cols-2 gap-3",children:g.map(N=>u.jsx(vn,{product:N,compact:!0},N.id))}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("span",{className:"text-3xl",children:"📦"}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No products yet"})]}):m.length>0?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"bg-emerald-50 rounded-xl p-3 flex items-center gap-3",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-emerald-700",children:w.toFixed(1)}),u.jsx("div",{className:"flex items-center gap-0.5 mt-0.5",children:[1,2,3,4,5].map(N=>u.jsx(fa,{size:12,className:N<=Math.round(w)?"text-amber-400 fill-amber-400":"text-gray-300"},N))}),u.jsxs("p",{className:"text-[10px] text-emerald-600 mt-0.5",children:[x," reviews"]})]}),u.jsxs("div",{className:"flex-1 text-[11px] text-emerald-700",children:[u.jsxs("p",{children:["Avg. product price: ",Gt(Math.round(v))]}),u.jsxs("p",{className:"mt-0.5",children:["Total sales: ",h.totalSales,"+"]})]})]}),m.map(N=>u.jsxs("div",{className:"border border-gray-100 rounded-xl p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-7 h-7 bg-gray-200 rounded-full flex items-center justify-center text-xs font-bold text-gray-600",children:N.buyerName.charAt(0)}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold text-gray-900",children:N.buyerName}),u.jsx("p",{className:"text-[10px] text-gray-400",children:N.date})]})]}),N.verified&&u.jsxs("span",{className:"bg-emerald-50 text-emerald-600 text-[9px] font-bold px-2 py-0.5 rounded-full flex items-center gap-0.5",children:[u.jsx($a,{size:9})," Verified"]})]}),u.jsx("div",{className:"flex items-center gap-0.5 mb-1",children:[1,2,3,4,5].map(j=>u.jsx(fa,{size:11,className:j<=N.rating?"text-amber-400 fill-amber-400":"text-gray-300"},j))}),u.jsx("p",{className:"text-xs text-gray-600",children:N.comment})]},N.id))]}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("span",{className:"text-3xl",children:"⭐"}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No reviews yet"})]})})]})]})]})}function Aj(){const n=le(o=>o.favorites),a=le(o=>o.navigate),r=le(o=>o.toggleFavorite);E.useEffect(()=>{const o=sessionStorage.getItem("iraq_marketplace_pending_action");if(o)try{const c=JSON.parse(o);c.type==="favorite"&&typeof c.productId=="string"&&r(c.productId)}finally{sessionStorage.removeItem("iraq_marketplace_pending_action")}},[r]);const i=n.map(o=>aa(o)).filter(o=>o!==void 0);return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[u.jsx("div",{className:"bg-white sticky top-0 z-40 border-b border-gray-100 px-4 pt-12 pb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ui,{size:20,className:"text-red-500"}),u.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Saved Items"}),i.length>0&&u.jsx("span",{className:"text-xs bg-red-100 text-red-600 font-bold px-2 py-0.5 rounded-full",children:i.length})]})}),u.jsx("div",{className:"p-4 animate-fade-in",children:i.length>0?u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:i.map(o=>u.jsx(vn,{product:o},o.id))}):u.jsxs("div",{className:"text-center py-20",children:[u.jsx("div",{className:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(ui,{size:32,className:"text-red-300"})}),u.jsx("h3",{className:"text-gray-900 font-semibold text-lg mb-1",children:"No saved items yet"}),u.jsx("p",{className:"text-gray-500 text-sm mb-6 max-w-[240px] mx-auto",children:"Tap the heart icon on any product to save it here for later"}),u.jsx("button",{onClick:()=>a("search"),className:"bg-emerald-500 text-white text-sm font-semibold px-6 py-3 rounded-xl hover:bg-emerald-600 transition-colors active:scale-[0.98]",children:"Browse Products"})]})})]})}function Cj(){const[n,a]=E.useState("enter"),[r,i]=E.useState(["","","",""]),[o,c]=E.useState(""),[h,g]=E.useState(0),[m,p]=E.useState(0),[v,w]=E.useState(""),[x,S]=E.useState(""),_=(T,q)=>{if(q.length>1)return;const Y=[...r];Y[T]=q,i(Y),S(""),q&&T<3&&document.getElementById(`code-${T+1}`)?.focus()},N=(T,q)=>{q.key==="Backspace"&&!r[T]&&T>0&&document.getElementById(`code-${T-1}`)?.focus()},j=()=>{if(r.join("").length!==4){S("Please enter the complete 4-digit code");return}if(!o){S("Please select a seller");return}a("rate")},A=()=>{if(h===0){S("Please select a rating");return}a("success")},R=()=>{a("enter"),i(["","","",""]),c(""),g(0),w(""),S("")};return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[u.jsx("div",{className:"bg-white sticky top-0 z-40 border-b border-gray-100 px-4 pt-12 pb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx($a,{size:20,className:"text-emerald-500"}),u.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Verify & Rate"})]})}),u.jsxs("div",{className:"p-4 animate-fade-in",children:[u.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-2xl p-4 mb-4 border border-emerald-100",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(vx,{size:16,className:"text-emerald-600"}),u.jsx("h3",{className:"text-sm font-bold text-emerald-800",children:"How Verified Ratings Work"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"w-5 h-5 bg-emerald-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:"1"}),u.jsx("p",{className:"text-xs text-emerald-700",children:"Purchase a product via WhatsApp from any seller"})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"w-5 h-5 bg-emerald-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:"2"}),u.jsx("p",{className:"text-xs text-emerald-700",children:"After receiving your order, ask the seller for a 4-digit voucher code"})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"w-5 h-5 bg-emerald-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:"3"}),u.jsx("p",{className:"text-xs text-emerald-700",children:"Enter the code below to unlock the rating feature and leave a verified review"})]})]})]}),n==="enter"&&u.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 animate-scale-in",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-emerald-50 rounded-2xl flex items-center justify-center mx-auto mb-3",children:u.jsx(wx,{size:28,className:"text-emerald-500"})}),u.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Enter Voucher Code"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the 4-digit code from your seller"})]}),u.jsxs("div",{className:"mb-5",children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1.5 block",children:"Select Seller"}),u.jsxs("select",{value:o,onChange:T=>{c(T.target.value),S("")},className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-300 appearance-none",children:[u.jsx("option",{value:"",children:"Choose a seller..."}),Wr.map(T=>u.jsxs("option",{value:T.id,children:[T.name," - ",T.locationAr]},T.id))]})]}),u.jsx("div",{className:"flex justify-center gap-3 mb-5",children:r.map((T,q)=>u.jsx("input",{id:`code-${q}`,type:"text",inputMode:"numeric",maxLength:1,value:T,onChange:Y=>_(q,Y.target.value.replace(/\D/g,"")),onKeyDown:Y=>N(q,Y),className:"w-14 h-14 text-center text-2xl font-bold bg-gray-50 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-emerald-500 focus:bg-white transition-all"},q))}),x&&u.jsxs("div",{className:"flex items-center gap-1.5 text-red-500 text-xs mb-4 justify-center",children:[u.jsx(ao,{size:14}),u.jsx("span",{children:x})]}),u.jsx("button",{onClick:j,className:"w-full bg-emerald-500 text-white font-bold py-3.5 rounded-xl hover:bg-emerald-600 transition-colors active:scale-[0.98] shadow-lg shadow-emerald-200",children:"Verify Code"}),u.jsx("p",{className:"text-center text-[11px] text-gray-400 mt-3",children:"Demo: Enter any 4 digits (e.g., 1234) to test"})]}),n==="rate"&&u.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 animate-scale-in",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-amber-50 rounded-2xl flex items-center justify-center mx-auto mb-3",children:u.jsx(fa,{size:28,className:"text-amber-400"})}),u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx($a,{size:14,className:"text-emerald-500"}),u.jsx("span",{className:"text-xs text-emerald-600 font-semibold",children:"Code Verified!"})]}),u.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Rate Your Experience"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your review will be marked as verified"})]}),u.jsx("div",{className:"flex justify-center gap-2 mb-5",children:[1,2,3,4,5].map(T=>u.jsx("button",{onMouseEnter:()=>p(T),onMouseLeave:()=>p(0),onClick:()=>{g(T),S("")},className:"p-1 transition-transform hover:scale-110 active:scale-95",children:u.jsx(fa,{size:36,className:`transition-colors ${T<=(m||h)?"text-amber-400 fill-amber-400":"text-gray-200"}`})},T))}),u.jsxs("p",{className:"text-center text-sm text-gray-500 mb-4",children:[h===0&&"Tap a star to rate",h===1&&"😞 Poor",h===2&&"😐 Fair",h===3&&"🙂 Good",h===4&&"😊 Very Good",h===5&&"🤩 Excellent!"]}),u.jsxs("div",{className:"mb-5",children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1.5 block",children:"Your Review (Optional)"}),u.jsx("textarea",{value:v,onChange:T=>w(T.target.value),placeholder:"Share your experience with this seller...",rows:3,className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-300 resize-none"})]}),x&&u.jsxs("div",{className:"flex items-center gap-1.5 text-red-500 text-xs mb-4 justify-center",children:[u.jsx(ao,{size:14}),u.jsx("span",{children:x})]}),u.jsx("button",{onClick:A,className:"w-full bg-amber-500 text-white font-bold py-3.5 rounded-xl hover:bg-amber-600 transition-colors active:scale-[0.98] shadow-lg shadow-amber-200",children:"Submit Review"})]}),n==="success"&&u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 animate-scale-in text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-emerald-50 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(ap,{size:40,className:"text-emerald-500"})}),u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Thank You! 🎉"}),u.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Your verified review has been submitted successfully."}),u.jsx("div",{className:"flex items-center justify-center gap-0.5 my-3",children:[1,2,3,4,5].map(T=>u.jsx(fa,{size:20,className:T<=h?"text-amber-400 fill-amber-400":"text-gray-200"},T))}),u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-6",children:[u.jsx($a,{size:14,className:"text-emerald-500"}),u.jsx("span",{className:"text-xs text-emerald-600 font-semibold",children:"Verified Purchase Review"})]}),u.jsx("button",{onClick:R,className:"bg-gray-100 text-gray-700 text-sm font-semibold px-6 py-3 rounded-xl hover:bg-gray-200 transition-colors active:scale-[0.98]",children:"Rate Another Seller"})]})]})]})}const Zp=E.createContext(null);function cd(n){if(!n)return!1;const a=n.app_metadata;return!!(a?.provider==="google"||Array.isArray(a?.providers)&&a?.providers.includes("google"))}function Ej(n){const a=n.user_metadata??{},r=typeof a.full_name=="string"?a.full_name:typeof a.name=="string"?a.name:n.email?n.email.split("@")[0]??"":"",i=typeof a.avatar_url=="string"?a.avatar_url:void 0;return{id:n.id,email:n.email??"",phone:"",name:r||"User",nameAr:r||"مستخدم",role:"seller",avatar:i,createdAt:n.created_at,lastLogin:new Date().toISOString(),isVerified:!!n.email_confirmed_at,status:"active"}}function Tj({children:n}){const a=le(A=>A.setAuthenticated),r=le(A=>A.setAuthToken),i=le(A=>A.setUser),o=le(A=>A.navigate),c=le(A=>A.consumeAuthNextPage),[h,g]=E.useState(!0),[m,p]=E.useState(null),[v,w]=E.useState(null),x=m?.user??null,S=E.useMemo(()=>cd(x),[x]);E.useEffect(()=>{let A=!1;async function R(){if(w(null),!Ct||!we){p(null),a(!1),r(null),i(null),g(!1);return}try{const{data:q,error:Y}=await we.auth.getSession();if(A)return;if(Y)throw Y;p(q.session??null)}catch(q){if(A)return;w(q instanceof Error?q.message:String(q)),p(null),i(null)}finally{A||g(!1)}}if(R(),!Ct||!we)return()=>{};const{data:T}=we.auth.onAuthStateChange((q,Y)=>{p(Y)});return()=>{A=!0,T.subscription.unsubscribe()}},[a,r,i]),E.useEffect(()=>{const A=m?.access_token??null,R=!!(m?.user&&cd(m.user));if(r(A),a(R),i(R&&m?.user?Ej(m.user):null),m?.user&&cd(m.user)){const T=c();T&&o(T)}},[c,o,m,a,r,i]);async function _(A){if(w(null),!Ct||!we){w("Missing VITE_SUPABASE_URL / VITE_SUPABASE_ANON_KEY");return}const R=A??"home";sessionStorage.setItem("iraq_marketplace_auth_next_page",R);const T=`${window.location.origin}/auth/callback?next=${encodeURIComponent(R)}`,{error:q}=await we.auth.signInWithOAuth({provider:"google",options:{redirectTo:T}});if(q)throw q}async function N(){if(w(null),!we){p(null),a(!1),r(null),i(null);return}const{error:A}=await we.auth.signOut();if(A)throw A}const j=E.useMemo(()=>({configured:Ct,loading:h,session:m,user:x,isGoogleUser:S,error:v,signInWithGoogle:_,signOut:N}),[v,S,h,m,x]);return u.jsx(Zp.Provider,{value:j,children:n})}function Oj(){const n=E.useContext(Zp);if(!n)throw new Error("useSupabaseAuth must be used within <SupabaseAuthProvider>");return n}const Rj="9647768416326";function Dj(n){return n==="ar"||n==="en"?n:at.language?.startsWith("ar")?"ar":"en"}function Lj(n){const r=Dj(n)==="ar"?"مرحباً، أحتاج مساعدة بخصوص تطبيق سوق العراق.":"Hello, I need help with the Souq Iraq app.",i=at.t("support.message",{defaultValue:r});dp(Rj,i)}function si({open:n,title:a,onClose:r,children:i}){return n?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:r,role:"dialog","aria-modal":"true",children:u.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white dark:bg-gray-800 shadow-xl border border-gray-100 dark:border-gray-700",onClick:o=>o.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 dark:border-gray-700",children:[u.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:a}),u.jsx("button",{type:"button",onClick:r,className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Close",children:u.jsx(fi,{size:18,className:"text-gray-500 dark:text-gray-300"})})]}),u.jsx("div",{className:"p-4",children:i})]})}):null}function Uj(){const{t:n}=na(),{configured:a,user:r,isGoogleUser:i,loading:o,error:c,signInWithGoogle:h,signOut:g}=Oj(),{language:m,themePreference:p,setLanguage:v,setThemePreference:w,logout:x,navigate:S,authNextPage:_,setAuthNextPage:N,isAuthenticated:j}=le(Yn(X=>({language:X.language,themePreference:X.themePreference,setLanguage:X.setLanguage,setThemePreference:X.setThemePreference,logout:X.logout,navigate:X.navigate,authNextPage:X.authNextPage,setAuthNextPage:X.setAuthNextPage,isAuthenticated:X.isAuthenticated}))),{clearCart:A}=es(),[R,T]=E.useState("buyer"),[q,Y]=E.useState(null),[D,H]=E.useState(!1),[pe,ge]=E.useState(!1),[We,Ve]=E.useState(""),[ze,ut]=E.useState(""),[Ie,ce]=E.useState(""),[U,Q]=E.useState(""),W=n(m==="ar"?"common.arabic":"common.english"),ye=E.useMemo(()=>{switch(p){case"light":return n("profile.lightTheme");case"dark":return n("profile.darkTheme");case"system":default:return n("profile.systemTheme")}},[p,n]),_e=()=>{We&&ze&&Ie&&U&&(ge(!0),H(!1))},O=async()=>{try{await g()}finally{A(),x(),S("home"),Y(null)}},G=async()=>{try{r&&!i&&await g();const X=_??"home";N(X),await h(X)}catch{}},Z=[{icon:W0,label:n("profile.notifications"),sub:"",color:"text-red-500",onClick:()=>Y("notifications")},{icon:hx,label:n("profile.language"),sub:W,color:"text-blue-500",onClick:()=>Y("language")},{icon:Cx,label:n("profile.appearance"),sub:ye,color:"text-purple-500",onClick:()=>Y("appearance")},{icon:Kx,label:n("profile.installApp"),sub:"",color:"text-emerald-500",onClick:()=>Y("install")},{icon:nx,label:n("profile.help"),sub:"",color:"text-amber-500",onClick:()=>Lj(m)}],te=[{icon:no,label:n("profile.addNewProduct"),sub:n("profile.comingSoon"),color:"text-emerald-500",onClick:()=>S("sellerDashboard")},{icon:di,label:n("profile.myProducts"),sub:n("profile.comingSoon"),color:"text-blue-500",onClick:()=>S("sellerDashboard")},{icon:e0,label:n("profile.analytics"),sub:n("profile.comingSoon"),color:"text-purple-500",onClick:()=>S("sellerDashboard")},{icon:a0,label:n("profile.verification"),sub:"",color:"text-amber-500",onClick:()=>S("verify")}];return u.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24",children:[u.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 via-emerald-500 to-teal-500 px-4 pt-12 pb-8 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/5 rounded-full -translate-y-1/2 translate-x-1/2"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("h1",{className:"text-white text-lg font-bold mb-4",children:n("profile.title")}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:u.jsx(op,{size:28,className:"text-white"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-white text-base font-bold",children:o?n("common.loading"):j?r?.email??n("profile.title"):n("profile.guestUser")}),u.jsx("p",{className:"text-emerald-100 text-xs mt-0.5",children:n("profile.welcomeSubtitle")})]})]}),j?null:u.jsxs("div",{className:"mt-4",children:[u.jsx("div",{className:"text-[11px] text-white/80 mb-2",children:r&&!i?"حسابك الحالي مو Google. لازم تسجيل دخول بجوجل حتى تقدر تستخدم السلة/المفضلة/البيع.":"تقدر تتصفح كضيف، لكن السلة/المفضلة/البيع تحتاج تسجيل دخول بجوجل."}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",disabled:!a,onClick:G,className:"flex-1 bg-white text-emerald-700 font-bold py-2.5 rounded-xl hover:bg-emerald-50 transition-colors disabled:opacity-60",children:"تسجيل دخول بجوجل"}),u.jsx("button",{type:"button",onClick:()=>{sessionStorage.removeItem("iraq_marketplace_pending_action"),N(null),S("home")},className:"flex-1 bg-white/15 text-white font-semibold py-2.5 rounded-xl hover:bg-white/20 transition-colors",children:"متابعة كضيف"})]}),a?null:u.jsx("div",{className:"mt-2 text-[11px] text-white/80",children:"ملاحظة: لازم تضيف `VITE_SUPABASE_URL` و `VITE_SUPABASE_ANON_KEY` حتى يشتغل تسجيل الدخول."}),c?u.jsxs("div",{className:"mt-2 text-[11px] text-red-100",children:["Error: ",c]}):null]}),u.jsxs("div",{className:"flex gap-1 mt-4 bg-white/15 rounded-xl p-0.5 backdrop-blur-sm",children:[u.jsx("button",{type:"button",onClick:()=>{T("buyer"),Y(null)},className:`flex-1 py-2.5 text-xs font-semibold rounded-lg transition-all ${R==="buyer"?"bg-white text-emerald-700 shadow-sm":"text-white/80"}`,children:n("profile.buyerTab")}),u.jsx("button",{type:"button",onClick:()=>{T("seller"),Y(null)},className:`flex-1 py-2.5 text-xs font-semibold rounded-lg transition-all ${R==="seller"?"bg-white text-emerald-700 shadow-sm":"text-white/80"}`,children:n("profile.sellerTab")})]})]})]}),u.jsxs("div",{className:"px-4 -mt-2 animate-fade-in",children:[R==="buyer"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700 mb-3",children:u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(di,{size:20,className:"text-emerald-500 mx-auto mb-1"}),u.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"0"}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:n("profile.myOrders")})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(Fu,{size:20,className:"text-blue-500 mx-auto mb-1"}),u.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"0"}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:n("seller.reviews")})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(a0,{size:20,className:"text-amber-500 mx-auto mb-1"}),u.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"0"}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:n("verify.verified")})]})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:Z.map((X,ve)=>u.jsxs("button",{type:"button",onClick:X.onClick,className:"w-full flex items-center gap-3 px-4 py-3.5 hover:bg-gray-50 dark:hover:bg-gray-700/40 transition-colors border-b border-gray-50 dark:border-gray-700 last:border-0",children:[u.jsx(X.icon,{size:20,className:X.color}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:X.label}),X.sub&&u.jsx("p",{className:"text-[11px] text-gray-400",children:X.sub})]}),u.jsx(to,{size:16,className:"text-gray-300"})]},ve))}),j?u.jsxs("button",{type:"button",onClick:()=>Y("signout"),className:"w-full flex items-center gap-3 px-4 py-3.5 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 mt-3 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[u.jsx(jx,{size:20,className:"text-red-500"}),u.jsx("span",{className:"text-sm font-medium text-red-500",children:n("profile.signOutTitle")})]}):null]}):u.jsx(u.Fragment,{children:j?!pe&&!D?u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-100 dark:border-gray-700 text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-emerald-50 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Fu,{size:32,className:"text-emerald-400"})}),u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:n("profile.becomeSeller")}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:n("home.zeroCommission")}),u.jsxs("div",{className:"flex flex-col gap-2 text-left bg-emerald-50 dark:bg-emerald-900/20 rounded-xl p-3 mb-4 text-xs text-emerald-700 dark:text-emerald-300",children:[u.jsxs("span",{children:["✓ ",n("home.sellForFree")]}),u.jsxs("span",{children:["✓ ",n("home.keepProfit")]}),u.jsxs("span",{children:["✓ ",n("cart.orderViaWhatsApp")]}),u.jsxs("span",{children:["✓ ",n("seller.verified")]})]}),u.jsxs("button",{type:"button",onClick:()=>H(!0),className:"w-full bg-emerald-500 text-white font-bold py-3.5 rounded-xl hover:bg-emerald-600 transition-colors active:scale-[0.98] shadow-lg shadow-emerald-200 flex items-center justify-center gap-2",children:[u.jsx(no,{size:18}),n("profile.register")]})]}):D?u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-100 dark:border-gray-700 animate-scale-in",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:n("profile.register")}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:n("profile.comingSoon")}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1 block",children:"Store Name *"}),u.jsx("input",{type:"text",value:We,onChange:X=>Ve(X.target.value),placeholder:"e.g., My Fashion Store",className:"w-full bg-gray-50 dark:bg-gray-900/40 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1 block",children:"WhatsApp Number *"}),u.jsx("input",{type:"tel",value:ze,onChange:X=>ut(X.target.value),placeholder:"+964 770 123 4567",className:"w-full bg-gray-50 dark:bg-gray-900/40 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1 block",children:"City *"}),u.jsxs("select",{value:Ie,onChange:X=>ce(X.target.value),className:"w-full bg-gray-50 dark:bg-gray-900/40 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-300 appearance-none",children:[u.jsx("option",{value:"",children:"Select your city..."}),u.jsx("option",{value:"baghdad",children:"Baghdad"}),u.jsx("option",{value:"basra",children:"Basra"}),u.jsx("option",{value:"erbil",children:"Erbil"}),u.jsx("option",{value:"najaf",children:"Najaf"}),u.jsx("option",{value:"mosul",children:"Mosul"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1 block",children:"Category *"}),u.jsxs("select",{value:U,onChange:X=>Q(X.target.value),className:"w-full bg-gray-50 dark:bg-gray-900/40 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-300 appearance-none",children:[u.jsx("option",{value:"",children:"Select category..."}),u.jsx("option",{value:"fashion",children:"Fashion"}),u.jsx("option",{value:"electronics",children:"Electronics"}),u.jsx("option",{value:"beauty",children:"Beauty"}),u.jsx("option",{value:"home",children:"Home & Decor"}),u.jsx("option",{value:"food",children:"Food"}),u.jsx("option",{value:"sports",children:"Sports"}),u.jsx("option",{value:"kids",children:"Kids"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1 block",children:"Store Logo (Optional)"}),u.jsxs("button",{type:"button",className:"w-full bg-gray-50 dark:bg-gray-900/40 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-xl px-4 py-6 text-sm text-gray-400 flex flex-col items-center gap-1 hover:border-emerald-300 hover:bg-emerald-50/50 transition-colors",children:[u.jsx(tp,{size:24,className:"text-gray-300"}),u.jsx("span",{className:"text-xs",children:"Tap to upload"})]})]})]}),u.jsxs("div",{className:"flex gap-2 mt-5",children:[u.jsx("button",{type:"button",onClick:()=>H(!1),className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold py-3 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm",children:n("common.cancel")}),u.jsx("button",{type:"button",onClick:_e,className:"flex-1 bg-emerald-500 text-white font-bold py-3 rounded-xl hover:bg-emerald-600 transition-colors active:scale-[0.98] shadow-lg shadow-emerald-200 text-sm",children:n("common.confirm")})]})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(ap,{size:20,className:"text-emerald-500"}),u.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white",children:n("profile.sellerDashboard")})]}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:We?`Welcome, ${We}!`:n("profile.welcomeSubtitle")}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"text-center p-3 bg-emerald-50 dark:bg-emerald-900/30 rounded-xl",children:[u.jsx(Zr,{size:18,className:"text-emerald-600 mx-auto mb-1"}),u.jsx("p",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300",children:"0"}),u.jsx("p",{className:"text-[10px] text-emerald-600 dark:text-emerald-300/80",children:"Views"})]}),u.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/25 rounded-xl",children:[u.jsx(e0,{size:18,className:"text-blue-600 mx-auto mb-1"}),u.jsx("p",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:"0"}),u.jsx("p",{className:"text-[10px] text-blue-600 dark:text-blue-300/80",children:"Stats"})]}),u.jsxs("div",{className:"text-center p-3 bg-amber-50 dark:bg-amber-900/25 rounded-xl",children:[u.jsx(Rd,{size:18,className:"text-amber-600 mx-auto mb-1"}),u.jsx("p",{className:"text-lg font-bold text-amber-700 dark:text-amber-300",children:"0%"}),u.jsx("p",{className:"text-[10px] text-amber-600 dark:text-amber-300/80",children:"Rate"})]})]})]}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:te.map((X,ve)=>u.jsxs("button",{type:"button",onClick:X.onClick,className:"w-full flex items-center gap-3 px-4 py-3.5 hover:bg-gray-50 dark:hover:bg-gray-700/40 transition-colors border-b border-gray-50 dark:border-gray-700 last:border-0",children:[u.jsx(X.icon,{size:20,className:X.color}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:X.label}),X.sub&&u.jsx("p",{className:"text-[11px] text-gray-400",children:X.sub})]}),u.jsx(to,{size:16,className:"text-gray-300"})]},ve))})]}):u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-100 dark:border-gray-700 text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-emerald-50 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Fu,{size:32,className:"text-emerald-400"})}),u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"لازم تسجيل دخول بجوجل"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"حتى تقدر تسجّل كبائع وتضيف منتجات، لازم تسجيل دخول بحساب Google."}),u.jsx("button",{type:"button",disabled:!a,onClick:G,className:"w-full bg-emerald-500 text-white font-bold py-3.5 rounded-xl hover:bg-emerald-600 transition-colors active:scale-[0.98] disabled:opacity-60",children:"تسجيل دخول بجوجل"})]})}),u.jsx(si,{open:q==="notifications",title:n("profile.notifications"),onClose:()=>Y(null),children:u.jsxs("div",{className:"text-center py-3",children:[u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:n("notifications.emptyTitle")}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:n("notifications.emptyDescription")})]})}),u.jsx(si,{open:q==="language",title:n("profile.language"),onClose:()=>Y(null),children:u.jsx("div",{className:"space-y-2",children:[{code:"ar",label:n("common.arabic")},{code:"en",label:n("common.english")}].map(X=>u.jsxs("button",{type:"button",onClick:()=>{v(X.code),Y(null)},className:`w-full flex items-center justify-between px-4 py-3 rounded-xl border transition-colors ${m===X.code?"border-emerald-200 bg-emerald-50 dark:bg-emerald-900/20 dark:border-emerald-800":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/40"}`,children:[u.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:X.label}),m===X.code&&u.jsx(eo,{size:18,className:"text-emerald-600"})]},X.code))})}),u.jsx(si,{open:q==="appearance",title:n("profile.appearance"),onClose:()=>Y(null),children:u.jsx("div",{className:"space-y-2",children:[{code:"system",label:n("profile.systemTheme")},{code:"light",label:n("profile.lightTheme")},{code:"dark",label:n("profile.darkTheme")}].map(X=>u.jsxs("button",{type:"button",onClick:()=>{w(X.code),Y(null)},className:`w-full flex items-center justify-between px-4 py-3 rounded-xl border transition-colors ${p===X.code?"border-emerald-200 bg-emerald-50 dark:bg-emerald-900/20 dark:border-emerald-800":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/40"}`,children:[u.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:X.label}),p===X.code&&u.jsx(eo,{size:18,className:"text-emerald-600"})]},X.code))})}),u.jsx(si,{open:q==="install",title:n("install.title"),onClose:()=>Y(null),children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"rounded-xl bg-gray-50 dark:bg-gray-900/40 border border-gray-200 dark:border-gray-700 p-3",children:u.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-200",children:n("install.ios")})}),u.jsx("div",{className:"rounded-xl bg-gray-50 dark:bg-gray-900/40 border border-gray-200 dark:border-gray-700 p-3",children:u.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-200",children:n("install.android")})})]})}),u.jsxs(si,{open:q==="signout",title:n("profile.signOutTitle"),onClose:()=>Y(null),children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:n("profile.signOutMessage")}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx("button",{type:"button",onClick:()=>Y(null),className:"flex-1 py-3 rounded-xl bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:n("common.cancel")}),u.jsx("button",{type:"button",onClick:O,className:"flex-1 py-3 rounded-xl bg-red-500 text-white font-bold hover:bg-red-600 transition-colors",children:n("common.confirm")})]})]}),u.jsxs("div",{className:"text-center mt-6 pb-4",children:[u.jsx("p",{className:"text-[11px] text-gray-300",children:"Souq Iraq v1.0.0"}),u.jsx("p",{className:"text-[10px] text-gray-300 mt-0.5",children:"Iraqi Smart Marketplace PWA"})]})]})]})}function zj({product:n,seller:a,quantity:r}){const{t:i}=na(),{updateQuantity:o,removeFromCart:c}=es(),h=()=>{o(n.id,r+1)},g=()=>{r>1?o(n.id,r-1):c(n.id)},m=()=>{c(n.id)},p=n.price*r;return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 mb-3",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"w-20 h-20 flex-shrink-0",children:u.jsx("img",{src:n.images[0],alt:n.name,className:"w-full h-full object-cover rounded-lg"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-medium text-gray-900 dark:text-white truncate",children:n.name}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.name}),u.jsx("p",{className:"text-sm font-semibold text-emerald-600 dark:text-emerald-400 mt-1",children:Gt(n.price)})]}),u.jsx("button",{onClick:m,className:"text-gray-400 hover:text-red-500 transition-colors p-1","aria-label":i("removeFromCart"),children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),u.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-100 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:g,className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("span",{className:"w-8 text-center font-medium text-gray-900 dark:text-white",children:r}),u.jsx("button",{onClick:h,className:"w-8 h-8 flex items-center justify-center rounded-full bg-emerald-100 dark:bg-emerald-900 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-200 dark:hover:bg-emerald-800 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i("cart.total")}),u.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:Gt(p)})]})]})]})}function Mj({sellerGroups:n,grandTotal:a}){const{t:r}=na();return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:r("cart.orderSummary")}),n.map(i=>{const o=cp.find(c=>c.id===i.seller.location);return u.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-100 dark:border-gray-700 last:border-b-0 last:pb-0 last:mb-0",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("img",{src:i.seller.avatar,alt:i.seller.name,className:"w-10 h-10 rounded-full object-cover"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:i.seller.name}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[u.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),o?.nameAr||o?.name||i.seller.location]})]})]}),u.jsx("div",{className:"space-y-2",children:i.items.map(c=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[c.product.name," × ",c.quantity]}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:Gt(c.product.price*c.quantity)})]},c.product.id))}),u.jsxs("div",{className:"flex justify-between mt-2 pt-2 border-t border-gray-50 dark:border-gray-800",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("cart.sellerTotal")}),u.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:Gt(i.total)})]})]},i.seller.id)}),u.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:r("cart.orderTotal")}),u.jsx("span",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:Gt(a)})]})})]})}function qj(){const{t:n}=na(),{sellerGroups:a,total:r,itemCount:i,clearCart:o,isLoading:c,addToCart:h}=es(),{language:g,navigate:m}=le(Yn(N=>({language:N.language,navigate:N.navigate}))),[p,v]=E.useState(!1),[w,x]=E.useState(!1);E.useEffect(()=>{const N=sessionStorage.getItem("iraq_marketplace_pending_action");if(N)try{const j=JSON.parse(N);if(j.type==="add_to_cart"&&typeof j.productId=="string"){const A=typeof j.quantity=="number"&&Number.isFinite(j.quantity)?j.quantity:1;h(j.productId,A)}}finally{sessionStorage.removeItem("iraq_marketplace_pending_action")}},[h]);const S=()=>{a.length!==0&&x(!0)},_=()=>{x(!1),v(!0);const{openNextSeller:N}=gp(g);N(),v(!1),o()};return c?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"})}):a.length===0?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4",children:u.jsxs("div",{className:"max-w-lg mx-auto",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:n("cart.title")}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm p-8 text-center",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:n("cart.emptyCart")}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:n("cart.emptyCartMessage")}),u.jsx("button",{onClick:()=>m("home"),className:"px-6 py-3 bg-emerald-500 text-white rounded-xl font-medium hover:bg-emerald-600 transition-colors",children:n("cart.continueShopping")})]})]})}):u.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24",children:[u.jsxs("div",{className:"max-w-lg mx-auto p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n("cart.title")}),u.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[i," ",n("cart.items")]})]}),u.jsx(po,{}),a.map(N=>u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3 px-1",children:[u.jsx("img",{src:N.seller.avatar,alt:N.seller.name,className:"w-8 h-8 rounded-full object-cover"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:N.seller.name}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[N.items.length," ",n("cart.items")]})]})]}),N.items.map(j=>u.jsx(zj,{product:j.product,seller:N.seller,quantity:j.quantity},j.product.id))]},N.seller.id)),u.jsx(Mj,{sellerGroups:a,grandTotal:r}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4",children:u.jsx("div",{className:"max-w-lg mx-auto",children:u.jsxs("button",{onClick:S,disabled:p||i===0,className:"w-full py-4 bg-emerald-500 text-white rounded-xl font-semibold text-lg hover:bg-emerald-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),n("cart.completeOrder")," - ",Gt(r)]})})})]}),w&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 max-w-sm w-full",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:n("cart.confirmOrder")}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:n("cart.confirmOrderMessage",{count:a.length})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 mb-4",children:[a.map(N=>u.jsxs("div",{className:"flex justify-between text-sm mb-2 last:mb-0",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:N.seller.name}),u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Gt(N.total)})]},N.seller.id)),u.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 mt-2 pt-2 flex justify-between",children:[u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:n("cart.total")}),u.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:Gt(r)})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>x(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:n("common.cancel")}),u.jsx("button",{onClick:_,className:"flex-1 py-3 bg-emerald-500 text-white rounded-xl font-medium hover:bg-emerald-600 transition-colors",children:n("common.confirm")})]})]})})]})}function $j({seller:n,onProductAdded:a,onCancel:r,className:i=""}){const o=le(U=>U.language),{createProduct:c,uploadImage:h,isLoading:g}=as(),[m,p]=E.useState(""),[v,w]=E.useState(""),[x,S]=E.useState(""),[_,N]=E.useState(""),[j,A]=E.useState(""),[R,T]=E.useState(""),[q,Y]=E.useState(null),[D,H]=E.useState(null),[pe,ge]=E.useState(null),[We,Ve]=E.useState(!1),ze=E.useRef(null),ut=U=>{const Q=U.target.files?.[0];if(Q){if(!Q.type.startsWith("image/")){ge(o==="ar"?"يرجى اختيار صورة صالحة":"Please select a valid image");return}if(Q.size>5*1024*1024){ge(o==="ar"?"حجم الصورة يجب أن يكون أقل من 5 ميجابايت":"Image size must be less than 5MB");return}H(Q);const W=URL.createObjectURL(Q);Y(W),ge(null)}},Ie=()=>{Y(null),H(null),ze.current&&(ze.current.value="")},ce=async U=>{if(U.preventDefault(),ge(null),!m.trim()||!v.trim()){ge(o==="ar"?"يرجى إدخال اسم المنتج باللغتين":"Please enter product name in both languages");return}if(!x.trim()||!_.trim()){ge(o==="ar"?"يرجى إدخال وصف المنتج باللغتين":"Please enter product description in both languages");return}if(!j||parseFloat(j)<=0){ge(o==="ar"?"يرجى إدخال سعر صحيح":"Please enter a valid price");return}if(!R){ge(o==="ar"?"يرجى اختيار قسم المنتج":"Please select a category");return}if(!D&&!q){ge(o==="ar"?"يرجى إضافة صورة للمنتج":"Please add a product image");return}try{let Q=q||"";D&&(Q=await h(D));const W=ro.find(_e=>_e.id===R),ye={name:m.trim(),nameAr:v.trim(),description:x.trim(),descriptionAr:_.trim(),price:parseFloat(j),image:Q,category:R,categoryAr:W?.nameAr||R};await c(n.id,ye),Ve(!0),p(""),w(""),S(""),N(""),A(""),T(""),Y(null),H(null),a?.(ye),setTimeout(()=>Ve(!1),3e3)}catch(Q){ge(Q instanceof Error?Q.message:"Failed to create product")}};return u.jsxs("div",{className:`bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden ${i}`,children:[u.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50",children:[u.jsx("h3",{className:"text-base font-bold text-gray-900",children:o==="ar"?"إضافة منتج جديد":"Add New Product"}),u.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:o==="ar"?"أضف منتجك بسهولة - فقط المعلومات الأساسية":"Add your product easily - just the basics"})]}),We&&u.jsxs("div",{className:"mx-4 mt-4 p-3 bg-emerald-50 border border-emerald-200 rounded-xl flex items-center gap-2",children:[u.jsx(eo,{size:18,className:"text-emerald-600"}),u.jsx("span",{className:"text-sm text-emerald-700 font-medium",children:o==="ar"?"تمت إضافة المنتج بنجاح!":"Product added successfully!"})]}),pe&&u.jsxs("div",{className:"mx-4 mt-4 p-3 bg-red-50 border border-red-200 rounded-xl flex items-center gap-2",children:[u.jsx(fi,{size:18,className:"text-red-600"}),u.jsx("span",{className:"text-sm text-red-700",children:pe})]}),u.jsxs("form",{onSubmit:ce,className:"p-4 space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o==="ar"?"صورة المنتج":"Product Image"," *"]}),q?u.jsxs("div",{className:"relative w-full aspect-square rounded-xl overflow-hidden bg-gray-100",children:[u.jsx("img",{src:q,alt:"Product preview",className:"w-full h-full object-cover"}),u.jsx("button",{type:"button",onClick:Ie,className:"absolute top-2 right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center shadow-lg",children:u.jsx(fi,{size:16})})]}):u.jsxs("button",{type:"button",onClick:()=>ze.current?.click(),className:"w-full aspect-square rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center gap-2 text-gray-400 hover:border-emerald-400 hover:text-emerald-500 transition-colors",children:[u.jsx(tp,{size:32}),u.jsx("span",{className:"text-sm font-medium",children:o==="ar"?"اضغط لإضافة صورة":"Tap to add image"})]}),u.jsx("input",{ref:ze,type:"file",accept:"image/*",onChange:ut,className:"hidden"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o==="ar"?"اسم المنتج":"Product Name"," *"]}),u.jsx("input",{type:"text",value:m,onChange:U=>p(U.target.value),placeholder:o==="ar"?"بالإنجليزية":"In English",className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-400"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o==="ar"?"اسم المنتج":"Product Name"," *"]}),u.jsx("input",{type:"text",value:v,onChange:U=>w(U.target.value),placeholder:"بالعربية",dir:"rtl",className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-400"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o==="ar"?"الوصف":"Description"," *"]}),u.jsx("textarea",{value:x,onChange:U=>S(U.target.value),placeholder:o==="ar"?"بالإنجليزية":"In English",rows:3,className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-400 resize-none"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o==="ar"?"الوصف":"Description"," *"]}),u.jsx("textarea",{value:_,onChange:U=>N(U.target.value),placeholder:"بالعربية",dir:"rtl",rows:3,className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-400 resize-none"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o==="ar"?"السعر (د.ع)":"Price (IQD)"," *"]}),u.jsx("input",{type:"number",value:j,onChange:U=>A(U.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-400"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o==="ar"?"القسم":"Category"," *"]}),u.jsxs("select",{value:R,onChange:U=>T(U.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-400 bg-white",children:[u.jsx("option",{value:"",children:o==="ar"?"اختر القسم":"Select category"}),ro.filter(U=>U.id!=="all").map(U=>u.jsxs("option",{value:U.id,children:[U.icon," ",o==="ar"?U.nameAr:U.name]},U.id))]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 space-y-2",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:o==="ar"?"معلومات البائع (محفوظة مسبقاً)":"Seller Info (Pre-saved)"}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-gray-500",children:o==="ar"?"المتجر:":"Store:"}),u.jsx("span",{className:"font-medium text-gray-900",children:o==="ar"?n.nameAr:n.name})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-gray-500",children:o==="ar"?"الهاتف:":"Phone:"}),u.jsxs("span",{className:"font-medium text-gray-900",dir:"ltr",children:["+",n.whatsapp]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-gray-500",children:o==="ar"?"التوصيل:":"Delivery:"}),u.jsx("span",{className:"font-medium text-emerald-600",children:n.deliveryInfo||yn("seller.deliveryToAllIraq")})]})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[r&&u.jsx("button",{type:"button",onClick:r,className:"flex-1 py-3 px-4 border border-gray-200 rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:o==="ar"?"إلغاء":"Cancel"}),u.jsx("button",{type:"submit",disabled:g,className:"flex-1 py-3 px-4 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-xl text-sm font-semibold hover:from-emerald-600 hover:to-teal-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:g?u.jsxs(u.Fragment,{children:[u.jsx(sp,{size:16,className:"animate-spin"}),u.jsx("span",{children:o==="ar"?"جاري الإضافة...":"Adding..."})]}):u.jsx("span",{children:o==="ar"?"إضافة المنتج":"Add Product"})})]})]})]})}function Bj({products:n,isOwner:a=!1,onAddProduct:r,onEditProduct:i,onDeleteProduct:o,className:c=""}){const h=le(m=>m.language),g=n.reduce((m,p)=>m+p.viewCount,0);return u.jsxs("div",{className:c,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-base font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(di,{size:18,className:"text-emerald-600"}),h==="ar"?"منتجاتي":"My Products"]}),u.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[u.jsxs("span",{children:[n.length," ",h==="ar"?"منتج":"products"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Zr,{size:12}),g.toLocaleString()," ",h==="ar"?"مشاهدة":"views"]})]})]}),a&&r&&u.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-3 py-2 bg-emerald-500 text-white rounded-xl text-sm font-medium hover:bg-emerald-600 transition-colors",children:[u.jsx(no,{size:16}),u.jsx("span",{children:h==="ar"?"إضافة":"Add"})]})]}),n.length>0?u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:n.map(m=>u.jsxs("div",{className:"relative group",children:[u.jsx(vn,{product:m}),a&&(i||o)&&u.jsxs("div",{className:"absolute top-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i&&u.jsx("button",{onClick:p=>{p.stopPropagation(),i(m)},className:"w-8 h-8 bg-white/90 backdrop-blur-sm rounded-lg flex items-center justify-center shadow-sm hover:bg-white transition-colors",children:u.jsx(Dx,{size:14,className:"text-gray-600"})}),o&&u.jsx("button",{onClick:p=>{p.stopPropagation(),o(m)},className:"w-8 h-8 bg-white/90 backdrop-blur-sm rounded-lg flex items-center justify-center shadow-sm hover:bg-red-50 transition-colors",children:u.jsx(Zx,{size:14,className:"text-red-500"})})]})]},m.id))}):u.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl",children:[u.jsx(di,{size:48,className:"mx-auto text-gray-300 mb-3"}),u.jsx("h4",{className:"text-gray-900 font-semibold mb-1",children:h==="ar"?"لا توجد منتجات":"No products yet"}),u.jsx("p",{className:"text-gray-500 text-sm mb-4",children:h==="ar"?"ابدأ بإضافة منتجاتك الأولى":"Start by adding your first product"}),a&&r&&u.jsxs("button",{onClick:r,className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-500 text-white rounded-xl text-sm font-medium hover:bg-emerald-600 transition-colors",children:[u.jsx(no,{size:16}),u.jsx("span",{children:h==="ar"?"إضافة منتج":"Add Product"})]})]})]})}function Vj(){const n=le(ce=>ce.language),a=le(ce=>ce.navigate),r=le(ce=>ce.selectedSellerId),{fetchSellerById:i,fetchSellerStats:o,updateSocialLinks:c,updateFeaturedProduct:h,isLoading:g,error:m,clearError:p}=as(),[v,w]=E.useState(null),[x,S]=E.useState([]),[_,N]=E.useState(!1),[j,A]=E.useState("products"),[R,T]=E.useState(""),[q,Y]=E.useState(""),[D,H]=E.useState(""),[pe,ge]=E.useState(!1);if(E.useEffect(()=>{const ce=r||"s1",U=i(ce);U&&(w(U),S(so(ce)),o(ce),T(U.instagram||""),Y(U.tiktok||""),H(U.featuredProductId||""),ge(!1))},[r,i,o]),!v)return u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx("div",{className:"text-center",children:u.jsx("p",{className:"text-gray-500",children:n==="ar"?"جاري التحميل...":"Loading..."})})});const We=x.reduce((ce,U)=>ce+U.viewCount,0),Ve=x.length,ze=x.filter(ce=>ce.inStock).length,{average:ut,count:Ie}=Ba(v.id);return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[u.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 via-emerald-500 to-teal-500 px-4 pt-12 pb-6 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/5 rounded-full -translate-y-1/2 translate-x-1/2"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/5 rounded-full translate-y-1/2 -translate-x-1/2"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("button",{onClick:()=>a("home"),className:"w-10 h-10 bg-white/15 rounded-xl flex items-center justify-center mb-4",children:u.jsx(Cd,{size:20,className:"text-white"})}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:v.avatar,alt:v.name,className:"w-16 h-16 rounded-xl object-cover border-2 border-white/30"}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h1",{className:"text-white text-lg font-bold",children:n==="ar"?v.nameAr:v.name}),v.isVerified&&u.jsx(pd,{isVerified:!0,size:"sm"})]}),u.jsx("p",{className:"text-emerald-100 text-sm",children:n==="ar"?"لوحة تحكم البائع":"Seller Dashboard"})]})]})]})]}),u.jsx("div",{className:"px-4 -mt-4 relative z-20",children:u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("div",{className:"w-7 h-7 bg-blue-100 rounded-lg flex items-center justify-center",children:u.jsx(di,{size:14,className:"text-blue-600"})})}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:Ve}),u.jsx("p",{className:"text-[10px] text-gray-500",children:n==="ar"?"منتج":"Products"})]}),u.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("div",{className:"w-7 h-7 bg-emerald-100 rounded-lg flex items-center justify-center",children:u.jsx(Zr,{size:14,className:"text-emerald-600"})})}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:We.toLocaleString()}),u.jsx("p",{className:"text-[10px] text-gray-500",children:n==="ar"?"مشاهدة":"Views"})]}),u.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("div",{className:"w-7 h-7 bg-amber-100 rounded-lg flex items-center justify-center",children:u.jsx(fa,{size:14,className:"text-amber-600"})})}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:ut.toFixed(1)}),u.jsx("p",{className:"text-[10px] text-gray-500",children:n==="ar"?`التقييم (${Ie})`:`Rating (${Ie})`})]})]})}),u.jsx("div",{className:"px-4 mt-4",children:u.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-3 flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(Dd,{size:18,className:"text-emerald-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-emerald-800",children:v.deliveryInfo||yn("seller.deliveryToAllIraq")}),u.jsx("p",{className:"text-xs text-emerald-600",children:n==="ar"?"يظهر في جميع منتجاتك":"Shows on all your products"})]})]})}),u.jsx("div",{className:"px-4 mt-4",children:u.jsxs("div",{className:"flex gap-1 bg-gray-100 rounded-lg p-0.5",children:[u.jsx("button",{onClick:()=>A("products"),className:`flex-1 py-2 text-xs font-semibold rounded-md transition-all ${j==="products"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:n==="ar"?"منتجاتي":"My Products"}),u.jsx("button",{onClick:()=>A("stats"),className:`flex-1 py-2 text-xs font-semibold rounded-md transition-all ${j==="stats"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:n==="ar"?"الإحصائيات":"Statistics"}),u.jsx("button",{onClick:()=>A("settings"),className:`flex-1 py-2 text-xs font-semibold rounded-md transition-all ${j==="settings"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:n==="ar"?"الإعدادات":"Settings"})]})}),u.jsx("div",{className:"px-4 mt-4",children:j==="products"?_?u.jsx($j,{seller:v,onProductAdded:()=>{N(!1),S(so(v.id))},onCancel:()=>N(!1)}):u.jsx(Bj,{seller:v,products:x,isOwner:!0,onAddProduct:()=>N(!0)}):j==="stats"?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:[u.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(Rd,{size:18,className:"text-emerald-600"}),n==="ar"?"نظرة عامة":"Overview"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[u.jsx("span",{className:"text-sm text-gray-600",children:n==="ar"?"إجمالي المنتجات":"Total Products"}),u.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Ve})]}),u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[u.jsx("span",{className:"text-sm text-gray-600",children:n==="ar"?"المنتجات المتوفرة":"In Stock"}),u.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:ze})]}),u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[u.jsx("span",{className:"text-sm text-gray-600",children:n==="ar"?"المنتجات غير المتوفرة":"Out of Stock"}),u.jsx("span",{className:"text-sm font-semibold text-red-500",children:Ve-ze})]}),u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[u.jsx("span",{className:"text-sm text-gray-600",children:n==="ar"?"إجمالي المشاهدات":"Total Views"}),u.jsx("span",{className:"text-sm font-semibold text-gray-900",children:We.toLocaleString()})]}),u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[u.jsx("span",{className:"text-sm text-gray-600",children:n==="ar"?"إجمالي المبيعات":"Total Sales"}),u.jsx("span",{className:"text-sm font-semibold text-gray-900",children:v.totalSales})]}),u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsx("span",{className:"text-sm text-gray-600",children:n==="ar"?"التقييم":"Rating"}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(fa,{size:14,className:"text-amber-400 fill-amber-400"}),u.jsx("span",{className:"text-sm font-semibold text-gray-900",children:ut.toFixed(1)}),u.jsxs("span",{className:"text-xs text-gray-500",children:["(",Ie,")"]})]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:[u.jsx("h3",{className:"text-base font-bold text-gray-900 mb-3",children:n==="ar"?"حالة التحقق":"Verification Status"}),v.isVerified?u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-emerald-50 rounded-xl",children:[u.jsx(pd,{isVerified:!0,size:"md",showLabel:!1}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-emerald-800",children:yn("seller.verified")}),u.jsx("p",{className:"text-xs text-emerald-600",children:n==="ar"?"منتجاتك تظهر أولاً في البحث":"Your products appear first in search"})]})]}):u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-amber-50 rounded-xl",children:[u.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center",children:u.jsx(t0,{size:16,className:"text-amber-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-amber-800",children:n==="ar"?"حساب غير موثق":"Unverified Account"}),u.jsx("p",{className:"text-xs text-amber-600",children:n==="ar"?"توثيق حسابك للحصول على ميزات إضافية":"Verify your account for extra features"})]})]})]})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:[u.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[u.jsx(t0,{size:18,className:"text-emerald-600"}),n==="ar"?"مزايا التوثيق":"Verification Benefits"]}),u.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(rp,{size:16,className:"text-purple-500"}),u.jsx("span",{children:n==="ar"?"إضافة انستا وتيك توك للمتجر":"Add Instagram & TikTok links"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fa,{size:16,className:"text-amber-500"}),u.jsx("span",{children:n==="ar"?"اختيار منتج مميز يظهر أعلى صفحة متجرك":"Pick a featured product shown on your seller page"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:[u.jsx("h3",{className:"text-base font-bold text-gray-900 mb-3",children:n==="ar"?"روابط السوشيال":"Social Links"}),v.isVerified?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:n==="ar"?"انستغرام (بدون @)":"Instagram (no @)"}),u.jsx("input",{value:R,onChange:ce=>{T(ce.target.value),ge(!1),m&&p()},placeholder:n==="ar"?"مثال: noorfashion_iq":"e.g. noorfashion_iq",className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-300",dir:"ltr"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:n==="ar"?"تيك توك (بدون @)":"TikTok (no @)"}),u.jsx("input",{value:q,onChange:ce=>{Y(ce.target.value),ge(!1),m&&p()},placeholder:n==="ar"?"مثال: noorfashion":"e.g. noorfashion",className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-300",dir:"ltr"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:n==="ar"?"المنتج المميز":"Featured Product"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:D,onChange:ce=>{H(ce.target.value),ge(!1),m&&p()},className:"w-full appearance-none bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-300",children:[u.jsx("option",{value:"",children:n==="ar"?"بدون":"None"}),x.map(ce=>u.jsx("option",{value:ce.id,children:n==="ar"?ce.nameAr:ce.name},ce.id))]}),u.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-gray-400",children:u.jsx(Tx,{size:16})})]})]}),m&&u.jsx("div",{className:"p-3 bg-red-50 rounded-xl text-sm text-red-700",children:m}),u.jsxs("button",{type:"button",disabled:g,onClick:async()=>{ge(!1),p();try{const ce=await c(v.id,{instagram:R,tiktok:q}),U=await h(v.id,D||null);w(U),T(ce.instagram||""),Y(ce.tiktok||""),H(U.featuredProductId||""),ge(!0)}catch{}},className:"w-full bg-emerald-500 text-white font-bold py-3 rounded-xl hover:bg-emerald-600 transition-colors active:scale-[0.98] disabled:opacity-60 flex items-center justify-center gap-2",children:[g?u.jsx(sp,{size:16,className:"animate-spin"}):u.jsx(eo,{size:16}),n==="ar"?"حفظ":"Save"]}),pe&&!m&&u.jsx("div",{className:"p-3 bg-emerald-50 rounded-xl text-sm text-emerald-800",children:n==="ar"?"تم الحفظ.":"Saved."})]}):u.jsx("div",{className:"p-3 bg-amber-50 rounded-xl text-sm text-amber-800",children:n==="ar"?"هذه الميزة متاحة فقط للبائعين الموثقين.":"This feature is available for verified sellers only."})]})]})})]})}function Pj(n){if(!n)return!1;const a=n.app_metadata;return!!(a?.provider==="google"||Array.isArray(a?.providers)&&a?.providers.includes("google"))}function Ij(n){const a=n.user_metadata??{},r=typeof a.full_name=="string"?a.full_name:typeof a.name=="string"?a.name:n.email?n.email.split("@")[0]??"":"",i=typeof a.avatar_url=="string"?a.avatar_url:void 0;return{id:n.id,email:n.email??"",phone:"",name:r||"User",nameAr:r||"مستخدم",role:"seller",avatar:i,createdAt:n.created_at??new Date().toISOString(),lastLogin:new Date().toISOString(),isVerified:!!n.email_confirmed_at,status:"active"}}function Hj(n){const a=["home","search","seller","product","favorites","profile","verify","cart","sellerDashboard"];return n&&a.includes(n)?n:"home"}function Gj(){const n=le(h=>h.navigate),[a,r]=E.useState("working"),[i,o]=E.useState(null),c=E.useMemo(()=>{const g=new URL(window.location.href).searchParams.get("next"),m=sessionStorage.getItem("iraq_marketplace_auth_next_page");return Hj(g??m)},[]);return E.useEffect(()=>{let h=!1;async function g(){try{if(!Ct||!we)throw new Error("Missing VITE_SUPABASE_URL / VITE_SUPABASE_ANON_KEY");r("working"),o(null);const{error:m}=await we.auth.exchangeCodeForSession(window.location.href);if(m)throw m;if(h)return;const{data:p}=await we.auth.getSession(),v=p.session??null;le.getState().setAuthToken(v?.access_token??null);const w=!!(v?.user&&Pj(v.user));le.getState().setAuthenticated(w),le.getState().setUser(w&&v?.user?Ij(v.user):null),sessionStorage.removeItem("iraq_marketplace_auth_next_page"),window.history.replaceState(null,"","/"),r("done"),n(c)}catch(m){if(h)return;r("error"),o(m instanceof Error?m.message:String(m))}}return g(),()=>{h=!0}},[n,c]),a==="working"?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm p-6 w-full max-w-sm text-center border border-gray-100 dark:border-gray-700",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),u.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Completing sign-in…"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Please wait."})]})}):a==="done"?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm p-6 w-full max-w-sm text-center border border-gray-100 dark:border-gray-700",children:[u.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Signed in"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Redirecting…"})]})}):u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm p-6 w-full max-w-sm text-center border border-gray-100 dark:border-gray-700",children:[u.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Sign-in failed"}),u.jsx("p",{className:"text-sm text-red-600 mb-4",children:i??"Unknown error"}),u.jsx("button",{type:"button",onClick:()=>{window.history.replaceState(null,"","/"),n("profile")},className:"w-full bg-emerald-500 text-white font-semibold py-3 rounded-xl hover:bg-emerald-600 transition-colors",children:"Go to Profile"})]})})}const Kj=900*1e3,Yj=32,Wp={login:{windowMs:900*1e3,max:5},api:{windowMs:60*1e3,max:100},views:{windowMs:60*1e3,max:50}};function ey(n=32){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=new Uint8Array(n);if(typeof window<"u"&&window.crypto)window.crypto.getRandomValues(r);else for(let i=0;i<n;i++)r[i]=Math.floor(Math.random()*256);return Array.from(r).map(i=>a[i%a.length]).join("")}function Qj(){return ey(Yj)}const Bd="iraq_marketplace_session",Eo="iraq_marketplace_csrf";function Jj(n){try{const a={...n,storedAt:Date.now()};sessionStorage.setItem(Bd,JSON.stringify(a)),sessionStorage.setItem(Eo,n.token.slice(0,32))}catch(a){console.error("Failed to store session:",a)}}function yo(){try{const n=sessionStorage.getItem(Bd);if(!n)return null;const a=JSON.parse(n);return new Date(a.expiresAt)<new Date?(ty(),null):a}catch(n){return console.error("Failed to retrieve session:",n),null}}function ty(){try{sessionStorage.removeItem(Bd),sessionStorage.removeItem(Eo)}catch(n){console.error("Failed to clear session:",n)}}function Xj(){try{return sessionStorage.getItem(Eo)}catch{return null}}function ud(){const n=yo();n&&(n.expiresAt=new Date(Date.now()+Kj).toISOString(),Jj(n))}function Zl(){const n=yo();if(!n)return 0;const r=new Date(n.expiresAt).getTime()-Date.now();return Math.max(0,r)}const vo=new Map;function Fj(n){const a=Wp[n];if(!a)return!1;const r=Date.now(),i=vo.get(n);return!i||r>i.resetAt?(vo.set(n,{count:1,resetAt:r+a.windowMs,blocked:!1}),!1):i.count>=a.max?(i.blocked=!0,!0):(i.count++,!1)}function Zj(n){const a=Wp[n];if(!a)return 1/0;const r=vo.get(n);return r?Math.max(0,a.max-r.count):a.max}function Wj(n){const a=vo.get(n);return a?Math.max(0,a.resetAt-Date.now()):0}function eN(){let n=Xj();return n||(n=Qj(),sessionStorage.setItem(Eo,n)),n}const ay="iraq_marketplace_audit_log";function dd(n,a,r="low",i){try{const o={id:ey(16),eventType:n,userId:i,ipAddress:"client",userAgent:typeof navigator<"u"?navigator.userAgent:"unknown",details:a,timestamp:new Date().toISOString(),severity:r},c=tN();c.push(o),c.length>100&&c.splice(0,c.length-100),localStorage.setItem(ay,JSON.stringify(c))}catch(o){console.error("Failed to log security event:",o)}}function tN(){try{const n=localStorage.getItem(ay);return n?JSON.parse(n):[]}catch{return[]}}const aN=300*1e3,nN=60*1e3,rN=30*1e3,sN=E.createContext(void 0);function iN({children:n,onSessionExpired:a}){const[r,i]=E.useState({user:null,session:null,isAuthenticated:!1,isLoading:!0,error:null}),[o,c]=E.useState(0),[h,g]=E.useState(null),m=E.useRef(Date.now()),p=E.useRef(null),v=E.useRef(!1),w=E.useCallback(()=>{const D=yo();D&&(ud(),i(H=>({...H,session:D,isAuthenticated:!0})),c(Zl()))},[]),x=E.useCallback(async()=>{try{const D=r.user?.id;D&&dd("logout","User logged out","low",D),ty(),i({user:null,session:null,isAuthenticated:!1,isLoading:!1,error:null}),c(0),g(null),v.current=!1}catch(D){console.error("Logout error:",D)}},[r.user?.id]),S=E.useCallback(async()=>{try{i(H=>({...H,isLoading:!0}));const D=yo();if(D&&D.isActive){const H=eN();g(H),i({user:null,session:D,isAuthenticated:!0,isLoading:!1,error:null}),c(Zl()),dd("login","Session restored","low",D.userId)}else i({user:null,session:null,isAuthenticated:!1,isLoading:!1,error:null})}catch(D){console.error("Auth check error:",D),i({user:null,session:null,isAuthenticated:!1,isLoading:!1,error:"Failed to check authentication"})}},[]),_=E.useCallback(()=>{r.isAuthenticated&&(ud(),c(Zl()),v.current=!1)},[r.isAuthenticated]),N=E.useCallback(D=>Fj(D),[]),j=E.useCallback(D=>Zj(D),[]),A=E.useCallback(D=>Wj(D),[]),R=E.useCallback((D,H,pe="low")=>{dd(D,H,pe,r.user?.id)},[r.user?.id]),T=E.useCallback(()=>{i(D=>({...D,error:null}))},[]),q=E.useCallback(()=>{const D=Date.now();D-m.current>nN&&(m.current=D,r.isAuthenticated&&ud())},[r.isAuthenticated]);E.useEffect(()=>(S(),p.current=setInterval(()=>{if(r.isAuthenticated){const D=Zl();c(D),D<aN&&D>0&&!v.current&&(v.current=!0,R("suspicious_activity","Session about to expire","medium")),D<=0&&(R("logout","Session expired","medium"),x(),a?.())}},rN),()=>{p.current&&clearInterval(p.current)}),[r.isAuthenticated,S,x,R,a]),E.useEffect(()=>{if(!r.isAuthenticated)return;const D=["mousedown","keydown","touchstart","scroll"];return D.forEach(H=>{document.addEventListener(H,q,{passive:!0})}),()=>{D.forEach(H=>{document.removeEventListener(H,q)})}},[r.isAuthenticated,q]);const Y={...r,refreshSession:w,logout:x,checkAuth:S,sessionTimeRemaining:o,extendSession:_,isActionRateLimited:N,getActionRemainingAttempts:j,getActionResetTime:A,logEvent:R,csrfToken:h,clearError:T};return u.jsx(sN.Provider,{value:Y,children:n})}const lN="iraq_marketplace_language",oN=E.createContext(void 0);function cN({children:n,defaultLanguage:a=Ep}){const{t:r,i18n:i}=na(),o=le(N=>N.language),c=le(N=>N.setLanguage),h=o||a,[g,m]=E.useState(()=>ca.find(j=>j.code===h)?.direction||"ltr"),p=E.useRef(o);p.current=o;const v=E.useCallback(async N=>{const j=ca.find(A=>A.code===N);if(!j){console.warn(`Language ${N} is not supported`);return}await kS(N),c(N),m(j.direction),document.documentElement.dir=j.direction,document.documentElement.lang=N,localStorage.setItem(lN,N)},[c]),w=E.useCallback(async()=>{await v(o==="en"?"ar":"en")},[o,v]),x=E.useCallback((N,j)=>g==="rtl"?j:N,[g]),S=E.useCallback((N,j)=>g==="rtl"?j:N,[g]);E.useEffect(()=>{const N=ca.find(j=>j.code===h);N&&(document.documentElement.dir=N.direction,document.documentElement.lang=h)},[]),E.useEffect(()=>{const N=()=>{const j=i.language;if(j!==p.current&&ca.some(A=>A.code===j)){c(j);const A=ca.find(R=>R.code===j);A&&m(A.direction)}};return i.on("languageChanged",N),()=>{i.off("languageChanged",N)}},[i,c]);const _={language:o,languageConfig:ca.find(N=>N.code===o)||ca[0],direction:g,isRtl:g==="rtl",supportedLanguages:ca,setLanguage:v,toggleLanguage:w,t:r,getDirectionalValue:x,getDirectionalClass:S};return u.jsx(oN.Provider,{value:_,children:n})}const uN=E.createContext(null);function dN({children:n}){const a=le(x=>x.language),[r,i]=E.useState({}),[o,c]=E.useState(!1);E.useEffect(()=>{const x=o0(Object.keys(r));Object.keys(x).length>0&&i(S=>({...S,...x}))},[]),E.useEffect(()=>{const x=()=>{c0()};return window.addEventListener("beforeunload",x),()=>{window.removeEventListener("beforeunload",x),c0()}},[]);const h=E.useCallback(x=>{c(!0);const S=_o(x);return S.recorded&&i(_=>({..._,[x]:S.viewCount})),c(!1),S},[]),g=E.useCallback(x=>r[x]!==void 0?r[x]:X1(x),[r]),m=E.useCallback(x=>{const S=g(x);return zd(S,a)},[g,a]),p=E.useCallback((x,S)=>{i(_=>({..._,[x]:S}))},[]),v=E.useCallback(x=>{const S=o0(x);i(_=>({..._,...S}))},[]),w={trackView:h,getViewCount:g,getFormattedViewCount:m,viewCounts:r,updateViewCount:p,batchUpdateViewCounts:v,isTracking:o};return u.jsx(uN.Provider,{value:w,children:n})}function fN(){const{currentPage:n,language:a,themePreference:r,navigate:i}=le(Yn(g=>({currentPage:g.currentPage,language:g.language,themePreference:g.themePreference,navigate:g.navigate}))),o=typeof window<"u"&&window.location.pathname.startsWith("/auth/callback"),c=E.useRef(!1);E.useEffect(()=>{document.documentElement.dir=a==="ar"?"rtl":"ltr",document.documentElement.lang=a},[a]),E.useEffect(()=>{if(o||c.current||(c.current=!0,typeof window>"u"))return;const m=new URL(window.location.href).searchParams,p=m.get("page"),v=m.get("productId"),w=m.get("sellerId");if((p==="product"||!p)&&v){i("product",{productId:v});return}(p==="seller"||!p)&&w&&i("seller",{sellerId:w})},[o,i]),E.useEffect(()=>{const g=()=>zb(Ub(r));if(g(),typeof window>"u"||r!=="system")return;const m=window.matchMedia?.("(prefers-color-scheme: dark)");if(!m)return;const p=()=>g();return m.addEventListener?.("change",p),()=>m.removeEventListener?.("change",p)},[r]);const h=()=>{switch(n){case"home":return u.jsx(X0,{});case"search":return u.jsx(vj,{});case"product":return u.jsx(Nj,{});case"seller":return u.jsx(kj,{});case"favorites":return u.jsx(Aj,{});case"verify":return u.jsx(Cj,{});case"profile":return u.jsx(Uj,{});case"cart":return u.jsx(qj,{});case"sellerDashboard":return u.jsx(Vj,{});default:return u.jsx(X0,{})}};return u.jsx(Tj,{children:u.jsx(iN,{children:u.jsx(cN,{children:u.jsx(dN,{children:u.jsx(j1,{children:u.jsx(cj,{children:u.jsx(Sj,{children:o?u.jsx(Gj,{}):u.jsxs("div",{className:"max-w-lg mx-auto bg-gray-50 dark:bg-gray-900 min-h-screen relative",children:[u.jsx("div",{className:"page-enter",children:h()},n),u.jsx(I1,{})]})})})})})})})})}class hN extends Yr.Component{state={hasError:!1,message:""};static getDerivedStateFromError(a){return{hasError:!0,message:a instanceof Error?a.message:String(a)}}componentDidCatch(a,r){console.error("App crashed:",a,r)}render(){return this.state.hasError?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm p-6 w-full max-w-md border border-gray-100 dark:border-gray-700",children:[u.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"صار خطأ بالتطبيق"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4 break-words",children:this.state.message}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"flex-1 bg-emerald-500 text-white font-semibold py-3 rounded-xl hover:bg-emerald-600 transition-colors",children:"إعادة تحميل"}),u.jsx("button",{type:"button",onClick:()=>{this.setState({hasError:!1,message:""})},className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold py-3 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"محاولة"})]})]})}):this.props.children}}kb.createRoot(document.getElementById("root")).render(u.jsx(E.StrictMode,{children:u.jsx(hN,{children:u.jsx(fN,{})})}));</script>
    <style rel="stylesheet" crossorigin>@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-space-y-reverse:0;--tw-divide-y-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial}}}@layer theme{:root,:host{--font-sans:"Inter","Noto Kufi Arabic",system-ui,sans-serif;--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-50:#fef2f2;--color-red-100:oklch(93.6% .032 17.717);--color-red-200:oklch(88.5% .062 18.334);--color-red-300:oklch(80.8% .114 19.571);--color-red-400:oklch(70.4% .191 22.216);--color-red-500:#ef4444;--color-red-600:#dc2626;--color-red-700:oklch(50.5% .213 27.518);--color-red-900:oklch(39.6% .141 25.723);--color-orange-50:#fff7ed;--color-orange-100:#ffedd5;--color-orange-400:oklch(75% .183 55.934);--color-orange-600:#ea580c;--color-orange-700:oklch(55.3% .195 38.402);--color-amber-50:#fffbeb;--color-amber-100:#fef3c7;--color-amber-200:oklch(92.4% .12 95.746);--color-amber-300:oklch(87.9% .169 91.605);--color-amber-400:#fbbf24;--color-amber-500:#f59e0b;--color-amber-600:#d97706;--color-amber-700:oklch(55.5% .163 48.998);--color-amber-800:oklch(47.3% .137 46.201);--color-amber-900:oklch(41.4% .112 45.904);--color-green-500:oklch(72.3% .219 149.579);--color-emerald-50:#ecfdf5;--color-emerald-100:#d1fae5;--color-emerald-200:#a7f3d0;--color-emerald-300:#6ee7b7;--color-emerald-400:#34d399;--color-emerald-500:#10b981;--color-emerald-600:#059669;--color-emerald-700:#047857;--color-emerald-800:#065f46;--color-emerald-900:#064e3b;--color-teal-50:oklch(98.4% .014 180.72);--color-teal-500:oklch(70.4% .14 182.503);--color-teal-600:oklch(60% .118 184.704);--color-blue-50:#eff6ff;--color-blue-100:oklch(93.2% .032 255.585);--color-blue-300:oklch(80.9% .105 251.813);--color-blue-500:#3b82f6;--color-blue-600:#2563eb;--color-blue-700:oklch(48.8% .243 264.376);--color-blue-900:oklch(37.9% .146 265.522);--color-purple-50:#faf5ff;--color-purple-100:oklch(94.6% .033 307.174);--color-purple-500:#a855f7;--color-purple-600:#9333ea;--color-purple-700:oklch(49.6% .265 301.924);--color-pink-100:oklch(94.8% .028 342.258);--color-pink-500:#ec4899;--color-pink-700:oklch(52.5% .223 3.958);--color-rose-400:oklch(71.2% .194 13.428);--color-gray-50:oklch(98.5% .002 247.839);--color-gray-100:oklch(96.7% .003 264.542);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-300:oklch(87.2% .01 258.338);--color-gray-400:oklch(70.7% .022 261.325);--color-gray-500:oklch(55.1% .027 264.364);--color-gray-600:oklch(44.6% .03 256.802);--color-gray-700:oklch(37.3% .034 259.733);--color-gray-800:oklch(27.8% .033 256.848);--color-gray-900:oklch(21% .034 264.665);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-sm:24rem;--container-md:28rem;--container-lg:32rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height: 1.5 ;--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height: 1.2 ;--text-4xl:2.25rem;--text-4xl--line-height:calc(2.5/2.25);--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--tracking-wider:.05em;--leading-tight:1.25;--leading-relaxed:1.625;--radius-md:.375rem;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--animate-spin:spin 1s linear infinite;--animate-ping:ping 1s cubic-bezier(0,0,.2,1)infinite;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--blur-sm:8px;--blur-xl:24px;--aspect-video:16/9;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.pointer-events-none{pointer-events:none}.visible{visibility:visible}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.sticky{position:sticky}.inset-0{inset:calc(var(--spacing)*0)}.inset-y-0{inset-block:calc(var(--spacing)*0)}.-top-0\.5{top:calc(var(--spacing)*-.5)}.-top-1{top:calc(var(--spacing)*-1)}.-top-1\.5{top:calc(var(--spacing)*-1.5)}.top-0{top:calc(var(--spacing)*0)}.top-1\/2{top:50%}.top-2{top:calc(var(--spacing)*2)}.top-3{top:calc(var(--spacing)*3)}.top-full{top:100%}.-right-1{right:calc(var(--spacing)*-1)}.-right-1\.5{right:calc(var(--spacing)*-1.5)}.right-0{right:calc(var(--spacing)*0)}.right-2{right:calc(var(--spacing)*2)}.right-3{right:calc(var(--spacing)*3)}.-bottom-8{bottom:calc(var(--spacing)*-8)}.bottom-0{bottom:calc(var(--spacing)*0)}.bottom-2{bottom:calc(var(--spacing)*2)}.bottom-3{bottom:calc(var(--spacing)*3)}.bottom-16{bottom:calc(var(--spacing)*16)}.left-0{left:calc(var(--spacing)*0)}.left-2{left:calc(var(--spacing)*2)}.left-3{left:calc(var(--spacing)*3)}.left-4{left:calc(var(--spacing)*4)}.z-10{z-index:10}.z-20{z-index:20}.z-40{z-index:40}.z-50{z-index:50}.mx-4{margin-inline:calc(var(--spacing)*4)}.mx-auto{margin-inline:auto}.my-3{margin-block:calc(var(--spacing)*3)}.-mt-1{margin-top:calc(var(--spacing)*-1)}.-mt-2{margin-top:calc(var(--spacing)*-2)}.-mt-4{margin-top:calc(var(--spacing)*-4)}.-mt-5{margin-top:calc(var(--spacing)*-5)}.mt-0\.5{margin-top:calc(var(--spacing)*.5)}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-1\.5{margin-top:calc(var(--spacing)*1.5)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-3{margin-top:calc(var(--spacing)*3)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-5{margin-top:calc(var(--spacing)*5)}.mt-6{margin-top:calc(var(--spacing)*6)}.mt-12{margin-top:calc(var(--spacing)*12)}.mr-1{margin-right:calc(var(--spacing)*1)}.mb-0\.5{margin-bottom:calc(var(--spacing)*.5)}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-1\.5{margin-bottom:calc(var(--spacing)*1.5)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-5{margin-bottom:calc(var(--spacing)*5)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.ml-1{margin-left:calc(var(--spacing)*1)}.ml-auto{margin-left:auto}.line-clamp-1{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.line-clamp-2{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-flex{display:inline-flex}.table{display:table}.aspect-square{aspect-ratio:1}.aspect-video{aspect-ratio:var(--aspect-video)}.h-0\.5{height:calc(var(--spacing)*.5)}.h-3{height:calc(var(--spacing)*3)}.h-3\.5{height:calc(var(--spacing)*3.5)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-7{height:calc(var(--spacing)*7)}.h-8{height:calc(var(--spacing)*8)}.h-9{height:calc(var(--spacing)*9)}.h-10{height:calc(var(--spacing)*10)}.h-11{height:calc(var(--spacing)*11)}.h-12{height:calc(var(--spacing)*12)}.h-14{height:calc(var(--spacing)*14)}.h-16{height:calc(var(--spacing)*16)}.h-18{height:calc(var(--spacing)*18)}.h-20{height:calc(var(--spacing)*20)}.h-24{height:calc(var(--spacing)*24)}.h-32{height:calc(var(--spacing)*32)}.h-40{height:calc(var(--spacing)*40)}.h-full{height:100%}.max-h-\[90vh\]{max-height:90vh}.min-h-screen{min-height:100vh}.w-3{width:calc(var(--spacing)*3)}.w-3\.5{width:calc(var(--spacing)*3.5)}.w-4{width:calc(var(--spacing)*4)}.w-5{width:calc(var(--spacing)*5)}.w-6{width:calc(var(--spacing)*6)}.w-7{width:calc(var(--spacing)*7)}.w-8{width:calc(var(--spacing)*8)}.w-9{width:calc(var(--spacing)*9)}.w-10{width:calc(var(--spacing)*10)}.w-11{width:calc(var(--spacing)*11)}.w-12{width:calc(var(--spacing)*12)}.w-14{width:calc(var(--spacing)*14)}.w-16{width:calc(var(--spacing)*16)}.w-18{width:calc(var(--spacing)*18)}.w-20{width:calc(var(--spacing)*20)}.w-24{width:calc(var(--spacing)*24)}.w-32{width:calc(var(--spacing)*32)}.w-40{width:calc(var(--spacing)*40)}.w-full{width:100%}.max-w-\[80px\]{max-width:80px}.max-w-\[160px\]{max-width:160px}.max-w-\[240px\]{max-width:240px}.max-w-lg{max-width:var(--container-lg)}.max-w-md{max-width:var(--container-md)}.max-w-sm{max-width:var(--container-sm)}.min-w-0{min-width:calc(var(--spacing)*0)}.min-w-\[140px\]{min-width:140px}.min-w-\[160px\]{min-width:160px}.flex-1{flex:1}.flex-shrink-0{flex-shrink:0}.-translate-x-1\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-x-1\/2{--tw-translate-x: 50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-x-1\/3{--tw-translate-x:calc(1/3*100%);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\/3{--tw-translate-y:calc(calc(1/3*100%)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-1\/2{--tw-translate-y: 50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.scale-110{--tw-scale-x:110%;--tw-scale-y:110%;--tw-scale-z:110%;scale:var(--tw-scale-x)var(--tw-scale-y)}.rotate-180{rotate:180deg}.animate-ping{animation:var(--animate-ping)}.animate-pulse{animation:var(--animate-pulse)}.animate-spin{animation:var(--animate-spin)}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.resize-none{resize:none}.appearance-none{appearance:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.justify-around{justify-content:space-around}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.gap-0\.5{gap:calc(var(--spacing)*.5)}.gap-1{gap:calc(var(--spacing)*1)}.gap-1\.5{gap:calc(var(--spacing)*1.5)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}:where(.divide-y>:not(:last-child)){--tw-divide-y-reverse:0;border-bottom-style:var(--tw-border-style);border-top-style:var(--tw-border-style);border-top-width:calc(1px*var(--tw-divide-y-reverse));border-bottom-width:calc(1px*calc(1 - var(--tw-divide-y-reverse)))}:where(.divide-gray-50>:not(:last-child)){border-color:var(--color-gray-50)}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overscroll-none{overscroll-behavior:none}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:var(--radius-2xl)}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.rounded-xl{border-radius:var(--radius-xl)}.border{border-style:var(--tw-border-style);border-width:1px}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-4{border-style:var(--tw-border-style);border-width:4px}.border-y{border-block-style:var(--tw-border-style);border-block-width:1px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-b-2{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-amber-200{border-color:var(--color-amber-200)}.border-amber-500\/30{border-color:#f59e0b4d}@supports (color:color-mix(in lab,red,red)){.border-amber-500\/30{border-color:color-mix(in oklab,var(--color-amber-500)30%,transparent)}}.border-amber-600{border-color:var(--color-amber-600)}.border-emerald-100{border-color:var(--color-emerald-100)}.border-emerald-200{border-color:var(--color-emerald-200)}.border-emerald-500{border-color:var(--color-emerald-500)}.border-emerald-600{border-color:var(--color-emerald-600)}.border-gray-50{border-color:var(--color-gray-50)}.border-gray-100{border-color:var(--color-gray-100)}.border-gray-200{border-color:var(--color-gray-200)}.border-gray-300{border-color:var(--color-gray-300)}.border-gray-500{border-color:var(--color-gray-500)}.border-red-200{border-color:var(--color-red-200)}.border-red-600{border-color:var(--color-red-600)}.border-transparent{border-color:#0000}.border-white{border-color:var(--color-white)}.border-white\/30{border-color:#ffffff4d}@supports (color:color-mix(in lab,red,red)){.border-white\/30{border-color:color-mix(in oklab,var(--color-white)30%,transparent)}}.border-t-transparent{border-top-color:#0000}.bg-amber-50{background-color:var(--color-amber-50)}.bg-amber-100{background-color:var(--color-amber-100)}.bg-amber-500{background-color:var(--color-amber-500)}.bg-amber-500\/20{background-color:#f59e0b33}@supports (color:color-mix(in lab,red,red)){.bg-amber-500\/20{background-color:color-mix(in oklab,var(--color-amber-500)20%,transparent)}}.bg-black\/50{background-color:#00000080}@supports (color:color-mix(in lab,red,red)){.bg-black\/50{background-color:color-mix(in oklab,var(--color-black)50%,transparent)}}.bg-blue-50{background-color:var(--color-blue-50)}.bg-blue-100{background-color:var(--color-blue-100)}.bg-emerald-50{background-color:var(--color-emerald-50)}.bg-emerald-100{background-color:var(--color-emerald-100)}.bg-emerald-400{background-color:var(--color-emerald-400)}.bg-emerald-500{background-color:var(--color-emerald-500)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-100{background-color:var(--color-gray-100)}.bg-gray-200{background-color:var(--color-gray-200)}.bg-gray-300{background-color:var(--color-gray-300)}.bg-gray-400{background-color:var(--color-gray-400)}.bg-gray-800\/80{background-color:#1e2939cc}@supports (color:color-mix(in lab,red,red)){.bg-gray-800\/80{background-color:color-mix(in oklab,var(--color-gray-800)80%,transparent)}}.bg-gray-900{background-color:var(--color-gray-900)}.bg-green-500{background-color:var(--color-green-500)}.bg-orange-100{background-color:var(--color-orange-100)}.bg-pink-100{background-color:var(--color-pink-100)}.bg-purple-50{background-color:var(--color-purple-50)}.bg-purple-100{background-color:var(--color-purple-100)}.bg-red-50{background-color:var(--color-red-50)}.bg-red-100{background-color:var(--color-red-100)}.bg-red-500{background-color:var(--color-red-500)}.bg-white{background-color:var(--color-white)}.bg-white\/5{background-color:#ffffff0d}@supports (color:color-mix(in lab,red,red)){.bg-white\/5{background-color:color-mix(in oklab,var(--color-white)5%,transparent)}}.bg-white\/10{background-color:#ffffff1a}@supports (color:color-mix(in lab,red,red)){.bg-white\/10{background-color:color-mix(in oklab,var(--color-white)10%,transparent)}}.bg-white\/15{background-color:#ffffff26}@supports (color:color-mix(in lab,red,red)){.bg-white\/15{background-color:color-mix(in oklab,var(--color-white)15%,transparent)}}.bg-white\/20{background-color:#fff3}@supports (color:color-mix(in lab,red,red)){.bg-white\/20{background-color:color-mix(in oklab,var(--color-white)20%,transparent)}}.bg-white\/80{background-color:#fffc}@supports (color:color-mix(in lab,red,red)){.bg-white\/80{background-color:color-mix(in oklab,var(--color-white)80%,transparent)}}.bg-white\/90{background-color:#ffffffe6}@supports (color:color-mix(in lab,red,red)){.bg-white\/90{background-color:color-mix(in oklab,var(--color-white)90%,transparent)}}.bg-white\/95{background-color:#fffffff2}@supports (color:color-mix(in lab,red,red)){.bg-white\/95{background-color:color-mix(in oklab,var(--color-white)95%,transparent)}}.bg-gradient-to-br{--tw-gradient-position:to bottom right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-r{--tw-gradient-position:to right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-t{--tw-gradient-position:to top in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-amber-400{--tw-gradient-from:var(--color-amber-400);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-black\/40{--tw-gradient-from:#0006}@supports (color:color-mix(in lab,red,red)){.from-black\/40{--tw-gradient-from:color-mix(in oklab,var(--color-black)40%,transparent)}}.from-black\/40{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-black\/50{--tw-gradient-from:#00000080}@supports (color:color-mix(in lab,red,red)){.from-black\/50{--tw-gradient-from:color-mix(in oklab,var(--color-black)50%,transparent)}}.from-black\/50{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-emerald-50{--tw-gradient-from:var(--color-emerald-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-emerald-500{--tw-gradient-from:var(--color-emerald-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-emerald-600{--tw-gradient-from:var(--color-emerald-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-purple-500{--tw-gradient-from:var(--color-purple-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.via-emerald-500{--tw-gradient-via:var(--color-emerald-500);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.via-orange-400{--tw-gradient-via:var(--color-orange-400);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.to-pink-500{--tw-gradient-to:var(--color-pink-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-rose-400{--tw-gradient-to:var(--color-rose-400);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-teal-50{--tw-gradient-to:var(--color-teal-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-teal-500{--tw-gradient-to:var(--color-teal-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-transparent{--tw-gradient-to:transparent;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.fill-amber-400{fill:var(--color-amber-400)}.fill-red-500{fill:var(--color-red-500)}.object-cover{object-fit:cover}.p-0\.5{padding:calc(var(--spacing)*.5)}.p-1{padding:calc(var(--spacing)*1)}.p-2{padding:calc(var(--spacing)*2)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-5{padding:calc(var(--spacing)*5)}.p-6{padding:calc(var(--spacing)*6)}.p-8{padding:calc(var(--spacing)*8)}.px-1{padding-inline:calc(var(--spacing)*1)}.px-1\.5{padding-inline:calc(var(--spacing)*1.5)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-2\.5{padding-inline:calc(var(--spacing)*2.5)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-3\.5{padding-inline:calc(var(--spacing)*3.5)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-6{padding-inline:calc(var(--spacing)*6)}.py-0\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.py-2\.5{padding-block:calc(var(--spacing)*2.5)}.py-3{padding-block:calc(var(--spacing)*3)}.py-3\.5{padding-block:calc(var(--spacing)*3.5)}.py-4{padding-block:calc(var(--spacing)*4)}.py-6{padding-block:calc(var(--spacing)*6)}.py-8{padding-block:calc(var(--spacing)*8)}.py-12{padding-block:calc(var(--spacing)*12)}.py-16{padding-block:calc(var(--spacing)*16)}.py-20{padding-block:calc(var(--spacing)*20)}.pt-1{padding-top:calc(var(--spacing)*1)}.pt-2{padding-top:calc(var(--spacing)*2)}.pt-3{padding-top:calc(var(--spacing)*3)}.pt-4{padding-top:calc(var(--spacing)*4)}.pt-12{padding-top:calc(var(--spacing)*12)}.pt-24{padding-top:calc(var(--spacing)*24)}.pr-10{padding-right:calc(var(--spacing)*10)}.pb-1{padding-bottom:calc(var(--spacing)*1)}.pb-2{padding-bottom:calc(var(--spacing)*2)}.pb-3{padding-bottom:calc(var(--spacing)*3)}.pb-4{padding-bottom:calc(var(--spacing)*4)}.pb-6{padding-bottom:calc(var(--spacing)*6)}.pb-8{padding-bottom:calc(var(--spacing)*8)}.pb-24{padding-bottom:calc(var(--spacing)*24)}.pb-28{padding-bottom:calc(var(--spacing)*28)}.pl-10{padding-left:calc(var(--spacing)*10)}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-4xl{font-size:var(--text-4xl);line-height:var(--tw-leading,var(--text-4xl--line-height))}.text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\[9px\]{font-size:9px}.text-\[10px\]{font-size:10px}.text-\[11px\]{font-size:11px}.leading-relaxed{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.leading-tight{--tw-leading:var(--leading-tight);line-height:var(--leading-tight)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.tracking-wider{--tw-tracking:var(--tracking-wider);letter-spacing:var(--tracking-wider)}.break-words{overflow-wrap:break-word}.whitespace-nowrap{white-space:nowrap}.text-amber-400{color:var(--color-amber-400)}.text-amber-500{color:var(--color-amber-500)}.text-amber-600{color:var(--color-amber-600)}.text-amber-700{color:var(--color-amber-700)}.text-amber-800{color:var(--color-amber-800)}.text-blue-500{color:var(--color-blue-500)}.text-blue-600{color:var(--color-blue-600)}.text-blue-700{color:var(--color-blue-700)}.text-emerald-100{color:var(--color-emerald-100)}.text-emerald-400{color:var(--color-emerald-400)}.text-emerald-500{color:var(--color-emerald-500)}.text-emerald-600{color:var(--color-emerald-600)}.text-emerald-700{color:var(--color-emerald-700)}.text-emerald-800{color:var(--color-emerald-800)}.text-gray-200{color:var(--color-gray-200)}.text-gray-300{color:var(--color-gray-300)}.text-gray-400{color:var(--color-gray-400)}.text-gray-500{color:var(--color-gray-500)}.text-gray-600{color:var(--color-gray-600)}.text-gray-700{color:var(--color-gray-700)}.text-gray-900{color:var(--color-gray-900)}.text-orange-600{color:var(--color-orange-600)}.text-orange-700{color:var(--color-orange-700)}.text-pink-700{color:var(--color-pink-700)}.text-purple-500{color:var(--color-purple-500)}.text-purple-600{color:var(--color-purple-600)}.text-purple-700{color:var(--color-purple-700)}.text-red-100{color:var(--color-red-100)}.text-red-300{color:var(--color-red-300)}.text-red-400{color:var(--color-red-400)}.text-red-500{color:var(--color-red-500)}.text-red-600{color:var(--color-red-600)}.text-red-700{color:var(--color-red-700)}.text-white{color:var(--color-white)}.text-white\/80{color:#fffc}@supports (color:color-mix(in lab,red,red)){.text-white\/80{color:color-mix(in oklab,var(--color-white)80%,transparent)}}.text-white\/90{color:#ffffffe6}@supports (color:color-mix(in lab,red,red)){.text-white\/90{color:color-mix(in oklab,var(--color-white)90%,transparent)}}.lowercase{text-transform:lowercase}.uppercase{text-transform:uppercase}.line-through{text-decoration-line:line-through}.opacity-0{opacity:0}.opacity-75{opacity:.75}.opacity-80{opacity:.8}.opacity-100{opacity:1}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-1{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-amber-200{--tw-shadow-color:oklch(92.4% .12 95.746)}@supports (color:color-mix(in lab,red,red)){.shadow-amber-200{--tw-shadow-color:color-mix(in oklab,var(--color-amber-200)var(--tw-shadow-alpha),transparent)}}.shadow-emerald-200{--tw-shadow-color:#a7f3d0}@supports (color:color-mix(in lab,red,red)){.shadow-emerald-200{--tw-shadow-color:color-mix(in oklab,var(--color-emerald-200)var(--tw-shadow-alpha),transparent)}}.shadow-emerald-800\/10{--tw-shadow-color:#065f461a}@supports (color:color-mix(in lab,red,red)){.shadow-emerald-800\/10{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-emerald-800)10%,transparent)var(--tw-shadow-alpha),transparent)}}.shadow-gray-200{--tw-shadow-color:oklch(92.8% .006 264.531)}@supports (color:color-mix(in lab,red,red)){.shadow-gray-200{--tw-shadow-color:color-mix(in oklab,var(--color-gray-200)var(--tw-shadow-alpha),transparent)}}.shadow-red-200{--tw-shadow-color:oklch(88.5% .062 18.334)}@supports (color:color-mix(in lab,red,red)){.shadow-red-200{--tw-shadow-color:color-mix(in oklab,var(--color-red-200)var(--tw-shadow-alpha),transparent)}}.ring-emerald-100{--tw-ring-color:var(--color-emerald-100)}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-xl{--tw-backdrop-blur:blur(var(--blur-xl));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-shadow{transition-property:box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-200{--tw-duration:.2s;transition-duration:.2s}.duration-300{--tw-duration:.3s;transition-duration:.3s}.duration-500{--tw-duration:.5s;transition-duration:.5s}.outline-none{--tw-outline-style:none;outline-style:none}@media(hover:hover){.group-hover\:scale-105:is(:where(.group):hover *){--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.group-hover\:opacity-100:is(:where(.group):hover *){opacity:1}}.last\:mb-0:last-child{margin-bottom:calc(var(--spacing)*0)}.last\:border-0:last-child{border-style:var(--tw-border-style);border-width:0}.last\:border-b-0:last-child{border-bottom-style:var(--tw-border-style);border-bottom-width:0}.last\:pb-0:last-child{padding-bottom:calc(var(--spacing)*0)}@media(hover:hover){.hover\:scale-110:hover{--tw-scale-x:110%;--tw-scale-y:110%;--tw-scale-z:110%;scale:var(--tw-scale-x)var(--tw-scale-y)}.hover\:border-emerald-200:hover{border-color:var(--color-emerald-200)}.hover\:border-emerald-300:hover{border-color:var(--color-emerald-300)}.hover\:border-emerald-400:hover{border-color:var(--color-emerald-400)}.hover\:border-gray-300:hover{border-color:var(--color-gray-300)}.hover\:bg-amber-600:hover{background-color:var(--color-amber-600)}.hover\:bg-emerald-50:hover{background-color:var(--color-emerald-50)}.hover\:bg-emerald-50\/50:hover{background-color:#ecfdf580}@supports (color:color-mix(in lab,red,red)){.hover\:bg-emerald-50\/50:hover{background-color:color-mix(in oklab,var(--color-emerald-50)50%,transparent)}}.hover\:bg-emerald-100:hover{background-color:var(--color-emerald-100)}.hover\:bg-emerald-200:hover{background-color:var(--color-emerald-200)}.hover\:bg-emerald-600:hover{background-color:var(--color-emerald-600)}.hover\:bg-gray-50:hover{background-color:var(--color-gray-50)}.hover\:bg-gray-100:hover{background-color:var(--color-gray-100)}.hover\:bg-gray-200:hover{background-color:var(--color-gray-200)}.hover\:bg-gray-800:hover{background-color:var(--color-gray-800)}.hover\:bg-orange-50:hover{background-color:var(--color-orange-50)}.hover\:bg-red-50:hover{background-color:var(--color-red-50)}.hover\:bg-red-100:hover{background-color:var(--color-red-100)}.hover\:bg-red-600:hover{background-color:var(--color-red-600)}.hover\:bg-white:hover{background-color:var(--color-white)}.hover\:bg-white\/20:hover{background-color:#fff3}@supports (color:color-mix(in lab,red,red)){.hover\:bg-white\/20:hover{background-color:color-mix(in oklab,var(--color-white)20%,transparent)}}.hover\:from-emerald-600:hover{--tw-gradient-from:var(--color-emerald-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.hover\:to-teal-600:hover{--tw-gradient-to:var(--color-teal-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.hover\:text-emerald-500:hover{color:var(--color-emerald-500)}.hover\:text-emerald-600:hover{color:var(--color-emerald-600)}.hover\:text-emerald-700:hover{color:var(--color-emerald-700)}.hover\:text-gray-600:hover{color:var(--color-gray-600)}.hover\:text-red-500:hover{color:var(--color-red-500)}.hover\:opacity-90:hover{opacity:.9}.hover\:shadow-md:hover{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\:shadow-sm:hover{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}}.focus\:border-emerald-200:focus{border-color:var(--color-emerald-200)}.focus\:border-emerald-300:focus{border-color:var(--color-emerald-300)}.focus\:border-emerald-400:focus{border-color:var(--color-emerald-400)}.focus\:border-emerald-500:focus{border-color:var(--color-emerald-500)}.focus\:border-red-300:focus{border-color:var(--color-red-300)}.focus\:bg-white:focus{background-color:var(--color-white)}.focus\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\:ring-emerald-200:focus{--tw-ring-color:var(--color-emerald-200)}.focus\:ring-emerald-500\/30:focus{--tw-ring-color:#10b9814d}@supports (color:color-mix(in lab,red,red)){.focus\:ring-emerald-500\/30:focus{--tw-ring-color:color-mix(in oklab,var(--color-emerald-500)30%,transparent)}}.focus\:ring-red-200:focus{--tw-ring-color:var(--color-red-200)}.focus\:outline-none:focus{--tw-outline-style:none;outline-style:none}.active\:scale-95:active{--tw-scale-x:95%;--tw-scale-y:95%;--tw-scale-z:95%;scale:var(--tw-scale-x)var(--tw-scale-y)}.active\:scale-\[0\.98\]:active{scale:.98}.active\:scale-\[0\.99\]:active{scale:.99}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:bg-gray-300:disabled{background-color:var(--color-gray-300)}.disabled\:opacity-50:disabled{opacity:.5}.disabled\:opacity-60:disabled{opacity:.6}@media(min-width:40rem){.sm\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.sm\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}.dark\:border-emerald-800:where(.dark,.dark *){border-color:var(--color-emerald-800)}.dark\:border-gray-600:where(.dark,.dark *){border-color:var(--color-gray-600)}.dark\:border-gray-700:where(.dark,.dark *){border-color:var(--color-gray-700)}.dark\:border-gray-800:where(.dark,.dark *){border-color:var(--color-gray-800)}.dark\:bg-amber-900\/25:where(.dark,.dark *){background-color:#7b330640}@supports (color:color-mix(in lab,red,red)){.dark\:bg-amber-900\/25:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-amber-900)25%,transparent)}}.dark\:bg-blue-900\/25:where(.dark,.dark *){background-color:#1c398e40}@supports (color:color-mix(in lab,red,red)){.dark\:bg-blue-900\/25:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-blue-900)25%,transparent)}}.dark\:bg-emerald-900:where(.dark,.dark *){background-color:var(--color-emerald-900)}.dark\:bg-emerald-900\/20:where(.dark,.dark *){background-color:#064e3b33}@supports (color:color-mix(in lab,red,red)){.dark\:bg-emerald-900\/20:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-emerald-900)20%,transparent)}}.dark\:bg-emerald-900\/30:where(.dark,.dark *){background-color:#064e3b4d}@supports (color:color-mix(in lab,red,red)){.dark\:bg-emerald-900\/30:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-emerald-900)30%,transparent)}}.dark\:bg-gray-600:where(.dark,.dark *){background-color:var(--color-gray-600)}.dark\:bg-gray-700:where(.dark,.dark *){background-color:var(--color-gray-700)}.dark\:bg-gray-800:where(.dark,.dark *){background-color:var(--color-gray-800)}.dark\:bg-gray-900:where(.dark,.dark *){background-color:var(--color-gray-900)}.dark\:bg-gray-900\/40:where(.dark,.dark *){background-color:#10182866}@supports (color:color-mix(in lab,red,red)){.dark\:bg-gray-900\/40:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-gray-900)40%,transparent)}}.dark\:text-amber-200:where(.dark,.dark *){color:var(--color-amber-200)}.dark\:text-amber-300:where(.dark,.dark *){color:var(--color-amber-300)}.dark\:text-amber-300\/80:where(.dark,.dark *){color:#ffd236cc}@supports (color:color-mix(in lab,red,red)){.dark\:text-amber-300\/80:where(.dark,.dark *){color:color-mix(in oklab,var(--color-amber-300)80%,transparent)}}.dark\:text-blue-300:where(.dark,.dark *){color:var(--color-blue-300)}.dark\:text-blue-300\/80:where(.dark,.dark *){color:#90c5ffcc}@supports (color:color-mix(in lab,red,red)){.dark\:text-blue-300\/80:where(.dark,.dark *){color:color-mix(in oklab,var(--color-blue-300)80%,transparent)}}.dark\:text-emerald-300:where(.dark,.dark *){color:var(--color-emerald-300)}.dark\:text-emerald-300\/80:where(.dark,.dark *){color:#6ee7b7cc}@supports (color:color-mix(in lab,red,red)){.dark\:text-emerald-300\/80:where(.dark,.dark *){color:color-mix(in oklab,var(--color-emerald-300)80%,transparent)}}.dark\:text-emerald-400:where(.dark,.dark *){color:var(--color-emerald-400)}.dark\:text-gray-200:where(.dark,.dark *){color:var(--color-gray-200)}.dark\:text-gray-300:where(.dark,.dark *){color:var(--color-gray-300)}.dark\:text-gray-400:where(.dark,.dark *){color:var(--color-gray-400)}.dark\:text-white:where(.dark,.dark *){color:var(--color-white)}@media(hover:hover){.dark\:hover\:bg-emerald-800:where(.dark,.dark *):hover{background-color:var(--color-emerald-800)}.dark\:hover\:bg-gray-600:where(.dark,.dark *):hover{background-color:var(--color-gray-600)}.dark\:hover\:bg-gray-700:where(.dark,.dark *):hover{background-color:var(--color-gray-700)}.dark\:hover\:bg-gray-700\/40:where(.dark,.dark *):hover{background-color:#36415366}@supports (color:color-mix(in lab,red,red)){.dark\:hover\:bg-gray-700\/40:where(.dark,.dark *):hover{background-color:color-mix(in oklab,var(--color-gray-700)40%,transparent)}}.dark\:hover\:bg-red-900\/20:where(.dark,.dark *):hover{background-color:#82181a33}@supports (color:color-mix(in lab,red,red)){.dark\:hover\:bg-red-900\/20:where(.dark,.dark *):hover{background-color:color-mix(in oklab,var(--color-red-900)20%,transparent)}}.dark\:hover\:text-emerald-400:where(.dark,.dark *):hover{color:var(--color-emerald-400)}}}.dark{color-scheme:dark}.dark body{color:#e2e8f0;background-color:#0f172a}.dark .bg-white{background-color:#1e293b!important}.dark .bg-gray-50{background-color:#0f172a!important}.dark .bg-gray-100{background-color:#1e293b!important}.dark .bg-gray-200{background-color:#334155!important}.dark .text-gray-900{color:#f1f5f9!important}.dark .text-gray-800{color:#e2e8f0!important}.dark .text-gray-700{color:#cbd5e1!important}.dark .text-gray-600{color:#94a3b8!important}.dark .text-gray-500{color:#64748b!important}.dark .border-gray-100{border-color:#334155!important}.dark .border-gray-200{border-color:#475569!important}.dark .shadow-sm{box-shadow:0 1px 2px #0000004d!important}.dark .shadow-lg{box-shadow:0 10px 15px -3px #0000004d,0 4px 6px -2px #0003!important}.dark ::-webkit-scrollbar-thumb{background:#475569!important}.dark .skeleton{background:linear-gradient(90deg,#1e293b 25%,#334155,#1e293b 75%)!important}*{-webkit-tap-highlight-color:transparent}html{scroll-behavior:smooth;-webkit-text-size-adjust:100%}body{overscroll-behavior:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Inter,Noto Kufi Arabic,system-ui,sans-serif}::-webkit-scrollbar{width:4px;height:4px}::-webkit-scrollbar-track{background:0 0}::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:999px}.page-enter{animation:.25s ease-out forwards slideIn}.page-exit{animation:.2s ease-in forwards slideOut}@keyframes slideIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}@keyframes slideOut{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-8px)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes scaleIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.animate-fade-in{animation:.3s ease-out fadeIn}.animate-scale-in{animation:.3s ease-out scaleIn}.animate-slide-up{animation:.4s ease-out slideUp}.skeleton{background:linear-gradient(90deg,#f3f4f6 25%,#e5e7eb,#f3f4f6 75%) 0 0/200% 100%;animation:1.5s infinite shimmer}.touch-target{min-width:44px;min-height:44px}.safe-bottom{padding-bottom:max(16px,env(safe-area-inset-bottom))}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-divide-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@keyframes spin{to{transform:rotate(360deg)}}@keyframes ping{75%,to{opacity:0;transform:scale(2)}}@keyframes pulse{50%{opacity:.5}}</style>
  </head>
  <body class="overscroll-none">
    <div id="root"></div>
  </body>
</html>
